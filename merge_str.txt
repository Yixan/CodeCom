from __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  100000 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader1  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list1  EQUAL  list PARELEFT  PARERIGHT  DOM
testX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y1  EQUAL  traindata DOT iloc[] DOM
y_test1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
testX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
csv_logger  EQUAL  CSVLogger PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten COMMA  Activation COMMA  Merge COMMA  Add COMMA  merge COMMA  Conv1D COMMA  MaxPooling1D COMMA  LeakyReLU COMMA  CuDNNLSTM COMMA  CuDNNGRU DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D COMMA  UpSampling2D DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT core import Reshape DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
from keras DOT regularizers import l2 DOM
def Convolutional PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 64 COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    if print_info COLON  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def Convolutional2DRecurrent PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT filters  EQUAL  50 COMMA  kernel_size  EQUAL   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT    DOM
    if GPU COLON  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if GPU COLON  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    if print_info COLON  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def Convolutional1DRecurrent PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    if GPU COLON  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if GPU COLON  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    if print_info COLON  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def ConvolutionalDeepRecurrent PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    if GPU COLON  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if GPU COLON  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    if print_info COLON  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def MotionDetection PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    if print_info COLON  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from keras DOT optimizers import SGD DOM
from keras DOT optimizers import Adam DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from decimal import Decimal DOM
import operator DOM
from fractions import Fraction DOM
import numpy DOM
from keras DOT datasets import imdb DOM
import AlgebraProblems DOM
import sklearn DOM
from sklearn DOT naive_bayes import GaussianNB DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from sklearn DOT ensemble import RandomForestClassifier DOM
from sklearn import svm DOM
from keras DOT layers import Dropout DOM
from keras DOT preprocessing import sequence DOM
import PrepareInputANN DOM
import PrepareInputLSTM DOM
import numpy as np DOM
import pdb DOM
import csv DOM
def defineModelandOptimizer PARELEFT  PARERIGHT  COLON  DOM
    if  PARELEFT  PARERIGHT  COLON  DOM
        embedding_vector_length  EQUAL  32 DOM
        max_review_length  EQUAL  max_length DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 100 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    if  PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  SGD PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def solve PARELEFT  PARERIGHT  COLON  DOM
    case  EQUAL  type DOT index PARELEFT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    indexes  EQUAL  [] DOM
    if  PARELEFT len PARELEFT  PARERIGHT  EQUAL  EQUAL 2 PARERIGHT  COLON  DOM
        if  PARELEFT  PARERIGHT  COLON  DOM
            return nums[]+nums[] DOM
        if  PARELEFT  PARERIGHT  COLON  DOM
            return max PARELEFT  PARERIGHT -min PARELEFT  PARERIGHT  DOM
        if PARELEFT  PARERIGHT  COLON  DOM
            return nums[]*nums[] DOM
        if  PARELEFT  PARERIGHT  COLON  DOM
            return max PARELEFT  PARERIGHT /min PARELEFT  PARERIGHT  DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    X  EQUAL  [] DOM
    Y  EQUAL  [] DOM
    topWords  EQUAL  150 DOM
    maxProblemLength  EQUAL  53 DOM
    if  PARELEFT  PARERIGHT  COLON  DOM
        X COMMA Y COMMA words  EQUAL  PrepareInputLSTM DOT load_data PARELEFT  PARERIGHT  DOM
        X  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        if  PARELEFT  PARERIGHT  COLON  DOM
            X COMMA Y COMMA words  EQUAL  AlgebraProblems DOT prepareAlgebraInput PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            X COMMA Y COMMA words  EQUAL  PrepareInputANN DOT load_ANN PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    if  PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  defineModelandOptimizer PARELEFT networkType COMMA top_words EQUAL topWords COMMA max_length EQUAL maxProblemLength COMMA  ninputs EQUAL len PARELEFT  PARERIGHT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT fit PARELEFT X COMMA  to_categorical PARELEFT  PARERIGHT  COMMA  epochs EQUAL 300 COMMA  batch_size EQUAL 62 COMMA  verbose EQUAL 0 PARERIGHT  DOM
        while  PARELEFT  PARERIGHT  COLON  DOM
            problem  EQUAL  input PARELEFT  PARERIGHT  DOM
            print PARELEFT  PARERIGHT  DOM
            if  PARELEFT  PARERIGHT  COLON  DOM
                processed  EQUAL  PrepareInputLSTM DOT process PARELEFT  PARERIGHT  DOM
                X_test  EQUAL  np DOT array PARELEFT PrepareInputLSTM DOT words_2_ints PARELEFT [] DOT strip PARELEFT  PARERIGHT  DOT split PARELEFT  PARERIGHT ] COMMA words PARERIGHT  PARERIGHT  DOM
                X_test  EQUAL   sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
            if  PARELEFT  PARERIGHT  COLON  DOM
                processed  EQUAL  PrepareInputANN DOT process PARELEFT  PARERIGHT  DOM
                X_test  EQUAL  np DOT array PARELEFT PrepareInputANN DOT makemap PARELEFT  PARERIGHT  PARERIGHT  DOM
                print PARELEFT  PARERIGHT  DOM
                print PARELEFT  PARERIGHT  DOM
            nums  EQUAL  processed[] DOM
            problemType  EQUAL  list PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT [] DOM
            print PARELEFT  PARERIGHT  DOM
            problemTypes  EQUAL  [] DOM
            ans  EQUAL  problemTypes[] DOM
            print PARELEFT  PARERIGHT  DOM
            print PARELEFT  PARERIGHT  DOM
            print PARELEFT  QUOTMARK  COMMA  solve PARELEFT nums COMMA problemType DOT tolist PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        print PARELEFT  QUOTMARK  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  DOM
        true_classes  EQUAL  [] DOM
        predicted_classes  EQUAL  [] DOM
        if  PARELEFT  PARERIGHT  COLON  DOM
            model  EQUAL  svm DOT SVC PARELEFT  PARERIGHT  DOM
            scores  EQUAL  sklearn DOT model_selection DOT cross_val_score PARELEFT  PARERIGHT  DOM
            print PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            kfold  EQUAL  StratifiedKFold PARELEFT  PARERIGHT  DOM
            trueclass  EQUAL  [] DOM
            predclass  EQUAL  [] DOM
            for train COMMA  test in kfold COLON  DOM
                if  PARELEFT  PARERIGHT  COLON  DOM
                    model  EQUAL  defineModelandOptimizer PARELEFT  PARERIGHT  DOM
                    model DOT fit PARELEFT X[] COMMA  to_categorical PARELEFT  PARERIGHT  COMMA  epochs EQUAL 100 COMMA  batch_size EQUAL 100 COMMA  verbose EQUAL 1 PARERIGHT  DOM
                if  PARELEFT  PARERIGHT  COLON  DOM
                    model  EQUAL  defineModelandOptimizer PARELEFT networkType COMMA  ninputs EQUAL len PARELEFT  PARERIGHT  PARERIGHT  DOM
                    model DOT fit PARELEFT X[] COMMA  to_categorical PARELEFT  PARERIGHT  COMMA  epochs EQUAL 1000 COMMA  batch_size EQUAL 100 COMMA  verbose EQUAL 0 PARERIGHT  DOM
                scores  EQUAL  model DOT evaluate PARELEFT X[] COMMA  to_categorical PARELEFT  PARERIGHT  COMMA  verbose EQUAL 0 PARERIGHT  DOM
                finalloss  EQUAL  model DOT evaluate PARELEFT X[] COMMA  to_categorical PARELEFT  PARERIGHT  COMMA  verbose EQUAL 0 PARERIGHT  DOM
                true_classes  EQUAL  Y[] DOT tolist PARELEFT  PARERIGHT  DOM
                print PARELEFT  PARERIGHT  DOM
                trueclass  EQUAL  trueclass + true_classes DOM
                predicted_classes  EQUAL  model DOT predict_classes PARELEFT X[] COMMA  len PARELEFT  PARERIGHT  PARERIGHT  DOT tolist PARELEFT  PARERIGHT  DOM
                print PARELEFT  PARERIGHT  DOM
                predclass  EQUAL  predclass+ predicted_classes DOM
                print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
                print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
            ct EQUAL  0 DOM
            for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
                if  PARELEFT  PARERIGHT  COLON  DOM
                    ct+ EQUAL 1 DOM
            print PARELEFT ct COMMA   QUOTMARK  COMMA  len PARELEFT  PARERIGHT  COMMA   QUOTMARK s an accuracy of" COMMA  float PARELEFT  PARERIGHT /float PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            print PARELEFT  QUOTMARK  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  DOM
            trueclass  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
            predclass  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
            correctGuesses  EQUAL  0 DOM
            wrongGuesses  EQUAL  0 DOM
            for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
                if PARELEFT  PARERIGHT  COLON  DOM
                    if  PARELEFT  PARERIGHT  COLON  DOM
                        correctGuesses+ EQUAL 1 DOM
                    else COLON  DOM
                        wrongGuesses+ EQUAL 1 DOM
            print PARELEFT  PARERIGHT  DOM
            pdb DOT set_trace PARELEFT  PARERIGHT  DOM
if  PARELEFT  PARERIGHT  COLON  DOM
    main PARELEFT  PARERIGHT from keras DOT preprocessing import sequence DOM
from keras DOT optimizers import SGD COMMA  RMSprop COMMA  Adagrad DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Input DOM
from keras DOT models import Model DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT constraints import unitnorm DOM
from keras DOT layers DOT core import Reshape COMMA  Flatten COMMA  Merge DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D COMMA  Convolution1D COMMA  MaxPooling1D DOM
from sklearn DOT cross_validation import KFold DOM
from keras DOT callbacks import EarlyStopping DOM
from keras DOT regularizers import l2 DOM
import numpy as np DOM
from sklearn import cross_validation DOM
import math DOM
from keras_input_data import make_idx_data DOM
from load_vai import loadVAI DOM
import _pickle as cPickle DOM
from metrics import continuous_metrics DOM
def lstm_cnn PARELEFT  PARERIGHT  COLON  DOM
    nb_filter  EQUAL  100 DOM
    filter_length  EQUAL  5 DOM
    pool_length  EQUAL  2 DOM
    lstm_output_size  EQUAL  100 DOM
    p  EQUAL  0 DOT 25 DOM
    region_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    x  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_output  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT    DOM
    region_conv  EQUAL  Convolution1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    region_max  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    region_vector  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    textvector  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    predictions  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    final_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model EQUAL final_model DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    x  EQUAL  cPickle DOT load PARELEFT open PARELEFT  PARERIGHT  PARERIGHT  DOM
    revs COMMA  W COMMA  W2 COMMA  word_idx_map COMMA  vocab  EQUAL  x[] COMMA  x[] COMMA  x[] COMMA  x[] COMMA  x[] DOM
    print PARELEFT  PARERIGHT  DOM
    sentences EQUAL [] DOM
    for rev in revs COLON  DOM
        sentence  EQUAL  rev[] DOM
        sentences DOT append PARELEFT  PARERIGHT  DOM
    idx_data  EQUAL  make_idx_data PARELEFT  PARERIGHT  DOM
    dim  EQUAL   QUOTMARK  DOM
    column  EQUAL  loadVAI PARELEFT  PARERIGHT  DOM
    irony EQUAL column DOM
    batch_size  EQUAL  8 DOM
    Y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    Y  EQUAL  [] DOM
    print PARELEFT  PARERIGHT  DOM
    n_MAE EQUAL 0 DOM
    n_Pearson_r EQUAL 0 DOM
    n_Spearman_r EQUAL 0 DOM
    n_MSE EQUAL 0 DOM
    n_R2 EQUAL 0 DOM
    n_MSE_sqrt EQUAL 0 DOM
    SEED  EQUAL  42 DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  cross_validation DOT train_test_split PARELEFT  PARERIGHT  DOM
        print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
        print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
        print PARELEFT  QUOTMARK  PARERIGHT  DOM
        X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model  EQUAL lstm_cnn PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
        result  EQUAL  model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL 10 COMMA validation_data EQUAL  PARELEFT  PARERIGHT  COMMA callbacks EQUAL [] PARERIGHT  DOM
        score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        predict  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT [] DOM
        estimate EQUAL continuous_metrics PARELEFT  PARERIGHT  DOM
        n_MSE + EQUAL  estimate[] DOM
        n_MAE + EQUAL  estimate[] DOM
        n_Pearson_r + EQUAL  estimate[] DOM
        n_R2 + EQUAL  estimate[] DOM
        n_Spearman_r + EQUAL  estimate[] DOM
        n_MSE_sqrt + EQUAL  estimate[] DOM
    ndigit EQUAL 3 DOM
    avg_MSE  EQUAL   round PARELEFT  PARERIGHT  DOM
    avg_MAE  EQUAL   round PARELEFT  PARERIGHT  DOM
    avg_Pearson_r  EQUAL   round PARELEFT  PARERIGHT  DOM
    avg_R2  EQUAL   round PARELEFT  PARERIGHT  DOM
    avg_Spearman_r  EQUAL   round PARELEFT  PARERIGHT  DOM
    avg_MSE_sqrt  EQUAL   round PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    from visualize import plot_keras COMMA  draw_hist DOM
import keras DOM
from keras DOT utils import np_utils DOM
from trainer import Trainer DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense DOM
from keras DOT layers DOT core import Dropout DOM
from keras DOT layers DOT core import Activation DOM
from keras DOT layers DOT recurrent import LSTM DOM
class Validator PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT mdfile  EQUAL   QUOTMARK  DOM
        self DOT t  EQUAL  Trainer PARELEFT  PARERIGHT  DOM
    def accuracy PARELEFT  PARERIGHT  COLON  DOM
        xv COMMA  yv  EQUAL  self DOT t DOT genValiData PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
        classes  EQUAL  model DOT predict_classes PARELEFT  PARERIGHT  DOM
        acc  EQUAL  np_utils DOT accuracy PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        return acc DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    v  EQUAL  Validator PARELEFT  PARERIGHT  DOM
    v DOT accuracy PARELEFT  PARERIGHT import os DOM
global_model_version  EQUAL  35 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class RestaurantPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation DOM
model  EQUAL  Sequential PARELEFT [] PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT 32 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT 32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 32 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
from keras DOT layers import Merge DOM
left_branch  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
left_branch DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
right_branch  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
right_branch DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
final_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
final_model DOT add PARELEFT  PARERIGHT  DOM
final_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras import Sequential DOM
from keras DOT constraints import nonneg DOM
from keras DOT layers import LSTM COMMA  Dropout COMMA  Dense COMMA  Conv1D COMMA  MaxPooling1D COMMA  GaussianNoise DOM
from keras DOT models import model_from_json DOM
def save_model PARELEFT  PARERIGHT  COLON  DOM
    model_json  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
    with open PARELEFT  PARERIGHT  as json_file COLON  DOM
        json_file DOT write PARELEFT  PARERIGHT  DOM
    model DOT save_weights PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
def load_model PARELEFT  PARERIGHT  COLON  DOM
    json_file  EQUAL  open PARELEFT  PARERIGHT  DOM
    loaded_model_json  EQUAL  json_file DOT read PARELEFT  PARERIGHT  DOM
    json_file DOT close PARELEFT  PARERIGHT  DOM
    loaded_model  EQUAL  model_from_json PARELEFT  PARERIGHT  DOM
    loaded_model DOT load_weights PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    return loaded_model DOM
def lstm_sequence_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 150 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GaussianNoise PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_simple_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 75 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 1 COMMA  kernel_constraint EQUAL nonneg PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def stateful_lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 75 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA batch_size EQUAL batch_size COMMA stateful EQUAL stateful PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 1 COMMA  kernel_constraint EQUAL nonneg PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def regular_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 150 COMMA activation EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def conv_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT filters EQUAL 16 COMMA kernel_size EQUAL 3 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT applications DOT vgg19 import VGG19 DOM
from keras DOT preprocessing import image DOM
from keras DOT applications DOT vgg19 import preprocess_input COMMA  decode_predictions DOM
from keras DOT models import Model DOM
import numpy as np DOM
from keras DOT models import load_model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Embedding DOM
from keras DOT layers import Convolution2D COMMA  MaxPooling2D COMMA  TimeDistributed DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  TimeDistributedDense DOM
preds  EQUAL  np DOT zeros PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  decode_predictions PARELEFT  PARERIGHT [] PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Convolution2D PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT   COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Convolution2D PARELEFT  PARERIGHT  COMMA   name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Convolution2D PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Convolution2D PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
cnn_model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
for l in model DOT layers COLON  DOM
    print l DOT name DOM
X_train  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT layers import LSTM COMMA  TimeDistributed COMMA  Embedding DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  LSTM DOM
tsteps  EQUAL  1 DOM
batch_size  EQUAL  1 DOM
lstm_embedding_size  EQUAL  64 DOM
lstm_target_size  EQUAL  2 DOM
print PARELEFT  PARERIGHT  DOM
lstm_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm_model DOT add PARELEFT Embedding PARELEFT 40*60 COMMA  128 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
lstm_model DOT add PARELEFT LSTM PARELEFT lstm_embedding_size COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
lstm_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
lstm_model DOT compile PARELEFT  PARERIGHT  DOM
from keras DOT applications DOT resnet50 import ResNet50 DOM
from keras DOT applications DOT resnet50 import preprocess_input COMMA  decode_predictions DOM
img_path  EQUAL   QUOTMARK  DOM
img  EQUAL  image DOT load_img PARELEFT img_path COMMA  target_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
x  EQUAL  image DOT img_to_array PARELEFT  PARERIGHT  DOM
x  EQUAL  np DOT expand_dims PARELEFT  PARERIGHT  DOM
x  EQUAL  preprocess_input PARELEFT  PARERIGHT  DOM
base_model  EQUAL  ResNet50 PARELEFT  PARERIGHT  DOM
extract_model  EQUAL  Model PARELEFT input EQUAL base_model DOT input COMMA  output EQUAL base_model DOT get_layer PARELEFT  PARERIGHT  DOT output PARERIGHT  DOM
preds  EQUAL  extract_model DOT predict PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  decode_predictions PARELEFT  PARERIGHT [] PARERIGHT  DOM
for layer in base_model DOT layers COLON  DOM
    print PARELEFT  PARERIGHT from keras DOT layers import Input COMMA  Dense COMMA  Conv2D COMMA  MaxPooling2D COMMA  UpSampling2D COMMA  LSTM COMMA  Embedding COMMA  Dropout DOM
from keras DOT models import Model COMMA  Sequential DOM
from keras import layers DOM
from keras import backend as K DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras import callbacks DOM
from keras DOT callbacks import TensorBoard DOM
from keras import metrics DOM
from keras import optimizers DOM
def model_v34 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 52 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v35 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 52 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v38 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 52 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v39 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v40 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v41 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v42 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v43 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v44 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v45 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v46 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v47 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v48 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v49 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v50 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  model_v49 PARELEFT  PARERIGHT  DOM
	return model DOM
def model_v51 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  model_v49 PARELEFT  PARERIGHT  DOM
	return model DOM
def model_v52 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v53 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 256 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v54 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 256 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return modelfrom keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras import backend as K DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D DOM
from keras DOT datasets import imdb DOM
import numpy as np DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT max_features  EQUAL  20000 DOM
        self DOT maxlen  EQUAL  5 DOM
        self DOT embedding_size  EQUAL  128 DOM
        self DOT kernel_size  EQUAL  5 DOM
        self DOT filters  EQUAL  64 DOM
        self DOT pool_size  EQUAL  4 DOM
        self DOT lstm_output_size  EQUAL  70 DOM
        self DOT batch_size  EQUAL  30 DOM
        self DOT epochs  EQUAL  2 DOM
    def make_array PARELEFT  PARERIGHT  COLON  DOM
        x_input  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        x_input  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        output_array  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    def run PARELEFT  PARERIGHT  COLON  DOM
        x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT 10 COMMA  3 COMMA  strides EQUAL 1 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT model DOT compile PARELEFT  PARERIGHT  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
        result_  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        print PARELEFT result_ COMMA  np DOT shape PARELEFT  PARERIGHT  PARERIGHT  DOM
        from keras import backend as K DOM
        layer_output_0  EQUAL  K DOT function PARELEFT  PARERIGHT  DOM
        layer_output  EQUAL  layer_output_0 PARELEFT  PARERIGHT  DOM
        print PARELEFT layer_output COMMA  np DOT shape PARELEFT  PARERIGHT  PARERIGHT  DOM
        layer_output_0  EQUAL  K DOT function PARELEFT  PARERIGHT  DOM
        layer_output  EQUAL  layer_output_0 PARELEFT  PARERIGHT  DOM
        print PARELEFT layer_output COMMA  np DOT shape PARELEFT  PARERIGHT  PARERIGHT  DOM
        layer_output_0  EQUAL  K DOT function PARELEFT  PARERIGHT  DOM
        layer_output  EQUAL  layer_output_0 PARELEFT  PARERIGHT  DOM
        print PARELEFT layer_output COMMA  np DOT shape PARELEFT  PARERIGHT  PARERIGHT  DOM
        layer_output_0  EQUAL  K DOT function PARELEFT  PARERIGHT  DOM
        layer_output  EQUAL  layer_output_0 PARELEFT  PARERIGHT  DOM
        print PARELEFT layer_output COMMA  np DOT shape PARELEFT  PARERIGHT  PARERIGHT  DOM
    def run1 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def build_LSTM_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
def build_model2 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA output_dim EQUAL layers[] COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  Activation DOM
from keras DOT layers import LSTM COMMA  Bidirectional DOM
from theano DOT scalar import float32 DOM
import numpy as np DOM
def lstm_embedding_empty PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_embedding_pretrained PARELEFT  PARERIGHT  COLON  DOM
    embedding_dimension  EQUAL  len PARELEFT  PARERIGHT  DOM
    number_of_words  EQUAL  len PARELEFT index_to_embedding_mapping DOT keys PARELEFT  PARERIGHT  PARERIGHT  DOM
    embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    for index COMMA  embedding in index_to_embedding_mapping DOT items PARELEFT  PARERIGHT  COLON  DOM
        embedding_matrix[]  EQUAL  embedding DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lst_stacked PARELEFT  PARERIGHT  COLON  DOM
    embedding_dimension  EQUAL  len PARELEFT  PARERIGHT  DOM
    number_of_words  EQUAL  len PARELEFT index_to_embedding_mapping DOT keys PARELEFT  PARERIGHT  PARERIGHT  DOM
    embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    for index COMMA  embedding in index_to_embedding_mapping DOT items PARELEFT  PARERIGHT  COLON  DOM
        embedding_matrix[]  EQUAL  embedding DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def blstm PARELEFT  PARERIGHT  COLON  DOM
    embedding_dimension  EQUAL  len PARELEFT  PARERIGHT  DOM
    number_of_words  EQUAL  len PARELEFT index_to_embedding_mapping DOT keys PARELEFT  PARERIGHT  PARERIGHT  DOM
    embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    for index COMMA  embedding in index_to_embedding_mapping DOT items PARELEFT  PARERIGHT  COLON  DOM
        embedding_matrix[]  EQUAL  embedding DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model                 validation_labels PARERIGHT  COLON lf DOT training_labels  EQUAL  training_labelslf DOT validation_data  EQUAL  validation_datalf DOT validation_labels  EQUAL  validation_labels setParams PARELEFT  PARERIGHT  COLON lf DOT batch_size  EQUAL  batch_sizef build PARELEFT  PARERIGHT  COLON eras DOT layers import Dense COMMA  Masking COMMA  LSTM COMMA  TimeDistributeddel  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Masking PARELEFT mask_value  EQUAL  0 DOT 0 COMMA batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT len PARELEFT  PARERIGHT  > 1 COLON  nodes in self DOT nodeList[] COLON model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT else COLON f time_distributed COLON odel DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT else COLON odel DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT f time_distributed COLON odel DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT else COLON odel DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT return PARELEFT  PARERIGHT lass CNN PARELEFT  PARERIGHT  COLON validation_labels PARERIGHT  COLON lf DOT training_labels  EQUAL  training_labelslf DOT validation_data  EQUAL  validation_datalf DOT validation_labels  EQUAL  validation_labelssetParams PARELEFT  PARERIGHT  COLON lf DOT filters  EQUAL  filterslf DOT kernel_size  EQUAL  kernel_sizelf DOT batch_size  EQUAL  batch_sizeef build PARELEFT  PARERIGHT  COLON m keras DOT models import Sequentialm keras DOT layers DOT convolutional import Conv2Dm keras DOT layers DOT convolutional import MaxPooling2Dkeras DOT layers import Dense COMMA  Dropout COMMA  Flattendel  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Conv2D PARELEFT self DOT filters[] COMMA  kernel_size EQUAL self DOT kernel_size[] COMMA  activation EQUAL self DOT activation COMMA  DOM
import Clustering DOM
import Prediction DOM
import numpy as np DOM
from sklearn import preprocessing DOM
from keras DOT wrappers DOT scikit_learn import  KerasClassifier DOM
from keras DOT utils import np_utils DOM
from sklearn DOT cross_validation import train_test_split DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT optimizers import SGD DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
epochs  EQUAL  15 DOM
batch_size  EQUAL  100 DOM
latent_dim  EQUAL  50 DOM
classes  EQUAL  Clustering DOT unique_labels DOM
input_dim  EQUAL  Prediction DOT num_input_features DOM
def baseline_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 100 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
x_train  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
y_train  EQUAL  Clustering DOT labels DOM
encoder  EQUAL  preprocessing DOT LabelEncoder PARELEFT  PARERIGHT  DOM
encoder DOT fit PARELEFT  PARERIGHT  DOM
encoder_Y  EQUAL  encoder DOT transform PARELEFT  PARERIGHT  DOM
dummy_y  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
estimator  EQUAL  KerasClassifier PARELEFT  PARERIGHT  DOM
X_train COMMA  X_test COMMA  Y_train COMMA  Y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
estimator DOT fit PARELEFT  PARERIGHT  DOM
from typing import List COMMA  Tuple DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT layers import Embedding COMMA  Dense COMMA  Dropout DOM
from keras DOT layers import LSTM as KLSTM DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT models import Sequential DOM
import keras DOT utils as ku DOM
import keras DOM
import pathlib DOM
import numpy as np DOM
class LSTM COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT dataset_preperation PARELEFT  PARERIGHT  DOM
        self DOT tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
        self DOT model COLON  keras DOT engine DOT sequential DOT Sequential  EQUAL  None DOM
        self DOT predictors COLON  List[]]  EQUAL  None DOM
        self DOT label COLON  List[]  EQUAL  None DOM
        self DOT max_sequence_len COLON  int  EQUAL  None DOM
        self DOT total_words COLON  int  EQUAL  None DOM
    def load_corpus PARELEFT  PARERIGHT  -> str COLON  DOM
        corpus_path  EQUAL  pathlib DOT Path PARELEFT  PARERIGHT  DOM
        with corpus_path DOT open PARELEFT  PARERIGHT  as corpus_file COLON  DOM
            corpus  EQUAL  corpus_file DOT read PARELEFT  PARERIGHT  DOM
        return corpus DOM
    def dataset_preperation PARELEFT  PARERIGHT  -> Tuple[]] COMMA  List[] COMMA  DOM
                                                int COMMA  int] COLON  DOM
        corpus  EQUAL  self DOT load_corpus PARELEFT  PARERIGHT  DOM
        corpus  EQUAL  corpus DOT lower PARELEFT  PARERIGHT  DOT split PARELEFT  PARERIGHT  DOM
        self DOT tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
        total_words  EQUAL  len PARELEFT  PARERIGHT  + 1 DOM
        input_sequences  EQUAL  list PARELEFT  PARERIGHT  DOM
        for line in corpus COLON  DOM
            token_list  EQUAL  self DOT tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT [] DOM
            for i in range PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
                n_gram_sequence  EQUAL  token_list[] DOM
                input_sequences DOT append PARELEFT  PARERIGHT  DOM
        max_sequence_len  EQUAL  max PARELEFT [] PARERIGHT  DOM
        input_sequences  EQUAL  np DOT array PARELEFT pad_sequences PARELEFT  PARERIGHT  PARERIGHT  DOM
        predictors COMMA  label  EQUAL  input_sequences[] COMMA  input_sequences[] DOM
        label  EQUAL  ku DOT to_categorical PARELEFT  PARERIGHT  DOM
        self DOT predictors  EQUAL  predictors DOM
        self DOT label  EQUAL  label DOM
        self DOT max_sequence_len  EQUAL  max_sequence_len DOM
        self DOT total_words  EQUAL  total_words DOM
        return predictors COMMA  label COMMA  max_sequence_len COMMA  total_words DOM
    def create_model PARELEFT  PARERIGHT  -> keras DOT engine DOT sequential DOT Sequential COLON  DOM
        input_len  EQUAL  self DOT max_sequence_len - 1 DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT KLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
        model_json  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
        json_path  EQUAL   QUOTMARK  DOM
        with open PARELEFT str PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  as json_file COLON  DOM
            json_file DOT write PARELEFT  PARERIGHT  DOM
        weights_path  EQUAL   QUOTMARK  DOM
        model DOT save_weights PARELEFT str PARELEFT  PARERIGHT  PARERIGHT  DOM
        model_path  EQUAL   QUOTMARK  DOM
        model DOT save PARELEFT str PARELEFT  PARERIGHT  PARERIGHT  DOM
        other_data  EQUAL   QUOTMARK  DOM
        with open PARELEFT  PARERIGHT  as data_file COLON  DOM
            data_file DOT write PARELEFT  PARERIGHT  DOM
            data_file DOT write PARELEFT  PARERIGHT  DOM
    def train PARELEFT  PARERIGHT  -> None COLON  DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
    def generate_text PARELEFT  PARERIGHT  COLON  DOM
        for j in range PARELEFT  PARERIGHT  COLON  DOM
            token_list  EQUAL  self DOT tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT [] DOM
            token_list  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
            predicted  EQUAL  self DOT model DOT predict_classes PARELEFT  PARERIGHT  DOM
            output_word  EQUAL   QUOTMARK  DOM
            for word COMMA  index in self DOT tokenizer DOT word_index DOT items PARELEFT  PARERIGHT  COLON  DOM
                if index  EQUAL  EQUAL  predicted COLON  DOM
                    output_word  EQUAL  word DOM
                    break DOM
            seed_text + EQUAL   QUOTMARK  + output_word DOM
        return seed_text DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    corpus_path  EQUAL  pathlib DOT Path PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    lstm DOT dataset_preperation PARELEFT  PARERIGHT  DOM
    lstm DOT create_model PARELEFT  PARERIGHT  DOM
    text  EQUAL  lstm DOT generate_text PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    text  EQUAL  lstm DOT generate_text PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    text  EQUAL  lstm DOT generate_text PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    text  EQUAL  lstm DOT generate_text PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import GlobalAveragePooling1D DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def LSTM_Dropout_Sentence_Classifier PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def CNN_LSTM_Sentence_Classifier PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def CNN_Sentence_Classifier PARELEFT  PARERIGHT  COLON  DOM
    seq_length  EQUAL  max_review_length DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT 64 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT      DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def Stacked_LSTM_Sentence_Classifier PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class RestaurantPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM COMMA  Bidirectional DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
from keras DOT optimizers import SGD COMMA  Nadam DOM
def get_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 64 COMMA  return_sequences EQUAL True COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  Nadam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model COMMA optfrom __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class nuRobotPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
from keras DOT layers import Embedding COMMA  LSTM COMMA  TimeDistributed COMMA  Dense COMMA  Dropout DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
from keras DOT optimizers import Adam DOM
from keras DOT models import load_model as keras_load_model DOM
from  DOT  import constant DOM
class Model PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
def save_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
def load_model PARELEFT  PARERIGHT  COLON  DOM
    return keras_load_model PARELEFT  PARERIGHT from __future__ import print_function DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D DOM
from keras DOT datasets import imdb DOM
top_words  EQUAL  20000 DOM
maxlen  EQUAL  100 DOM
embedding_size  EQUAL  128 DOM
kernel_size  EQUAL  5 DOM
filters  EQUAL  64 DOM
pool_size  EQUAL  4 DOM
lstm_output_size  EQUAL  70 DOM
batch_size  EQUAL  30 DOM
epochs  EQUAL  2 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  PARERIGHT  DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  DOM
from keras DOT models import Model COMMA  Sequential COMMA  load_model DOM
from keras DOT optimizers import Nadam COMMA  SGD COMMA  Adam DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D COMMA  Input COMMA  Conv1D COMMA  MaxPooling3D COMMA  Conv3D COMMA  ConvLSTM2D COMMA  LSTM COMMA  AveragePooling2D DOM
from keras DOT layers import Input COMMA  LSTM COMMA  Embedding COMMA  Dense COMMA  LeakyReLU COMMA  Flatten COMMA  Dropout COMMA  SeparableConv2D COMMA  GlobalAveragePooling3D DOM
from keras DOT layers import TimeDistributed COMMA  BatchNormalization DOM
from keras import optimizers DOM
from keras DOT callbacks import EarlyStopping DOM
from keras import regularizers DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT frames  EQUAL  frames DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT image_dim  EQUAL  tuple PARELEFT  PARERIGHT  DOM
        self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  + tuple PARELEFT  PARERIGHT  DOM
        self DOT print_model  EQUAL  print_model DOM
        metrics  EQUAL  [] DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT CNN_LSTM PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT SepCNN_LSTM PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT CONVLSTM PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT CONV3D PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT CONVLSTM_CONV3D PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        if self DOT print_model  EQUAL  EQUAL  True COLON  DOM
            print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def CNN_LSTM PARELEFT  PARERIGHT  COLON  DOM
        frames_input  EQUAL  Input PARELEFT  PARERIGHT  DOM
        vision_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        vision_model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT image_dim PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        fc2  EQUAL  Dense PARELEFT 64 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        CNN_LSTM  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return CNN_LSTM DOM
    def SepCNN_LSTM PARELEFT  PARERIGHT  COLON  DOM
        frames_input  EQUAL  Input PARELEFT  PARERIGHT  DOM
        vision_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        vision_model DOT add PARELEFT SeparableConv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT image_dim PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        fc2  EQUAL  Dense PARELEFT 64 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        CNN_LSTM  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return CNN_LSTM DOM
    def CONVLSTM PARELEFT  PARERIGHT  COLON  DOM
        CONVLSTM  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 64 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA input_shape EQUAL self DOT input_shape COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return CONVLSTM DOM
    def CONV3D PARELEFT  PARERIGHT  COLON  DOM
        CONV3D  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Conv3D PARELEFT filters EQUAL 64 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL self DOT input_shape COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Conv3D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Conv3D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return CONV3D DOM
    def CONVLSTM_CONV3D PARELEFT  PARERIGHT  COLON 	 DOM
        CONVLSTM_CON3D  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 64 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA input_shape EQUAL self DOT input_shape COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Conv3D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return CONVLSTM_CON3Dfrom keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  units EQUAL output_dim COMMA  return_sequences  EQUAL  return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelimport os DOM
global_model_version  EQUAL  56 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT SGD PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import tensorflow as tf DOM
import keras DOM
from keras DOT utils import to_categorical DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras import regularizers DOM
from keras import backend as KTF DOM
from sklearn DOT model_selection import train_test_split DOM
import numpy as np DOM
import pandas as pd DOM
class model PARELEFT  PARERIGHT  COLON  DOM
	def __init__ PARELEFT  PARERIGHT  COLON  DOM
		self DOT X  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
		self DOT Y  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
		self DOT X  EQUAL  self DOT X[] DOM
		self DOT Y  EQUAL  self DOT Y[] DOM
		self DOT lstm_size  EQUAL  lstm_size DOM
		self DOT dropout  EQUAL  dropout DOM
		self DOT batch_size  EQUAL  batch_size DOM
		self DOT epochs  EQUAL  epochs DOM
		self DOT train_X COMMA  self DOT val_X COMMA  self DOT train_Y COMMA  self DOT val_Y  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
		self DOT n_words  EQUAL  791771 DOM
	def model_architecture PARELEFT  PARERIGHT  COLON  DOM
		print PARELEFT  PARERIGHT  DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT self DOT n_words COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		tensorboard  EQUAL  TensorBoard PARELEFT  PARERIGHT  DOM
		filepath  EQUAL   QUOTMARK  DOM
		checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
		model DOT fit PARELEFT self DOT train_X COMMA  self DOT train_Y COMMA  epochs EQUAL self DOT epochs COMMA  batch_size EQUAL self DOT batch_size COMMA allbacks EQUAL [] COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  model PARELEFT  PARERIGHT  DOM
model DOT model_architecture PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import RepeatVector DOM
from keras DOT layers import TimeDistributed DOM
def define_model PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  return modelfrom keras DOT models import Sequential DOM
from keras DOT preprocessing DOT image import ImageDataGenerator DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT advanced_activations import PReLU DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import SGD COMMA  Adadelta COMMA  Adagrad DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU DOM
from keras DOT layers import Merge DOM
from phcx import * DOM
import numpy as np DOM
import os DOM
from keras DOT utils import np_utils COMMA  generic_utils DOM
def lenet5 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 4 COMMA  5 COMMA  5 COMMA  border_mode EQUAL  QUOTMARK  COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 8 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 16 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 128 COMMA  input_dim EQUAL  PARELEFT  PARERIGHT  COMMA  init EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_data PARELEFT  PARERIGHT  COLON  DOM
    if mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        pulsar_file_base  EQUAL  filePath +  QUOTMARK  DOM
        rfi_file_base  EQUAL  filePath +  QUOTMARK  DOM
    else COLON  DOM
        pulsar_file_base  EQUAL  filePath +  QUOTMARK  DOM
        rfi_file_base  EQUAL  filePath +  QUOTMARK  DOM
    pulsar_files  EQUAL  os DOT listdir PARELEFT  PARERIGHT  DOM
    rfi_files  EQUAL  os DOT listdir PARELEFT  PARERIGHT  DOM
    cnn_input  EQUAL  np DOT empty PARELEFT  PARELEFT len PARELEFT  PARERIGHT +len PARELEFT  PARERIGHT  COMMA  1 COMMA  16 COMMA  64 PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    lstm_input  EQUAL  np DOT empty PARELEFT  PARELEFT len PARELEFT  PARERIGHT +len PARELEFT  PARERIGHT  COMMA  18 COMMA  64 PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    train_label  EQUAL  []*len PARELEFT  PARERIGHT  DOM
    train_label DOT extend PARELEFT []*len PARELEFT  PARERIGHT  PARERIGHT  DOM
    trainlabel  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
    train_num  EQUAL  0 DOM
    for filename in pulsar_files COLON  DOM
        cand  EQUAL  Candidate PARELEFT  PARERIGHT  DOM
        cnn_input[]  EQUAL  np DOT resize PARELEFT cand DOT subbands COMMA  PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm_input[]  EQUAL  np DOT resize PARELEFT cand DOT subints COMMA  PARELEFT  PARERIGHT  PARERIGHT  DOM
        train_num + EQUAL 1 DOM
    for filename in rfi_files COLON  DOM
        cand  EQUAL  Candidate PARELEFT  PARERIGHT  DOM
        cnn_input[]  EQUAL  np DOT resize PARELEFT cand DOT subbands COMMA  PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm_input[]  EQUAL  np DOT resize PARELEFT cand DOT subints COMMA  PARELEFT  PARERIGHT  PARERIGHT  DOM
        train_num + EQUAL 1 DOM
    return cnn_input COMMA lstm_input COMMA trainlabel DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    model_cnn  EQUAL  lenet5 PARELEFT  PARERIGHT  DOM
    model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    merged  EQUAL  Merge PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer_ins  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model_lstm DOT summary PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    filePath  EQUAL   QUOTMARK  DOM
    train_data_cnn COMMA train_data_lstm COMMA train_label  EQUAL  get_data PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    test_data_cnn COMMA test_data_lstm COMMA test_label  EQUAL  get_data PARELEFT  PARERIGHT  DOM
    model DOT evaluate PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
X_train COMMA  y_train COMMA  X_test COMMA  y_test COMMA p  EQUAL  lstm DOT load_data PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print  PARELEFT  QUOTMARK  COMMA  time DOT time PARELEFT  PARERIGHT  - start PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
predictions  EQUAL  lstm DOT predict_sequences_multiple PARELEFT  PARERIGHT  DOM
lstm DOT plot_results_multiple PARELEFT  PARERIGHT  DOM
import numpy DOM
from sys import argv DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
SEQ_LEN  EQUAL  12 DOM
class PasswordLSTM COLON  DOM
	def __init__ PARELEFT  PARERIGHT  COLON  DOM
		self DOT SEQ_LEN  EQUAL  SEQ_LEN DOM
		self DOT X  EQUAL  X DOM
		self DOT y  EQUAL  y	 DOM
		self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
		self DOT filepath EQUAL  QUOTMARK  %  PARELEFT  PARERIGHT  DOM
		self DOT epochs  EQUAL  50 DOM
		self DOT batch_size  EQUAL  50 DOM
		self DOT monitor  EQUAL   QUOTMARK  DOM
		self DOT verbose  EQUAL  1 DOM
		self DOT save_best_only EQUAL True DOM
		self DOT mode EQUAL  QUOTMARK  DOM
		self DOT checkpoint  EQUAL  None DOM
		self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		self DOT model_built  EQUAL  False DOM
	def build_model PARELEFT  PARERIGHT  COLON  DOM
		self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT 	 DOM
		self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		self DOT model DOT compile PARELEFT  PARERIGHT  DOM
		self DOT model_built  EQUAL  True DOM
	def predict PARELEFT  PARERIGHT  COLON  DOM
		return self DOT model DOT predict PARELEFT  PARERIGHT 	 DOM
	def load_weights PARELEFT  PARERIGHT  COLON  DOM
		if  PARELEFT  PARERIGHT  COLON  DOM
			self DOT build_model PARELEFT  PARERIGHT 	 DOM
		self DOT model DOT load_weights PARELEFT  PARERIGHT 	 DOM
	def fit PARELEFT  PARERIGHT  COLON  DOM
		print  QUOTMARK   DOM
		self DOT checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
		self DOT model DOT fit PARELEFT  PARERIGHT from keras import backend as K DOM
from keras import layers DOM
from keras import regularizers DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT models import load_model DOM
from keras DOT models import Sequential DOM
from keras DOT utils import plot_model DOM
def lstmModel PARELEFT  PARERIGHT  COLON  DOM
    name  EQUAL   QUOTMARK  + activation DOM
    lstm  EQUAL  LSTM PARELEFT n_channels COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    folder    EQUAL   QUOTMARK      DOM
    name_h5   EQUAL  folder + name +  QUOTMARK  DOM
    name_png  EQUAL  folder + name +  QUOTMARK  DOM
    plot_model PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
    return model COMMA  name DOM
from keras DOT utils import np_utils DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA  MaxPooling1D DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT layers import Input COMMA  Bidirectional DOM
def build_lstm PARELEFT  PARERIGHT  COLON    DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_cnn PARELEFT  PARERIGHT   COLON   DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_cnn_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model      DOM
def build_bidirectional_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  BatchNormalization DOM
from keras DOT layers import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
from keras DOT optimizers import adagrad COMMA  adadelta DOM
from keras import regularizers DOM
from keras DOT layers import LSTM DOM
from keras DOT regularizers import l2 DOM
class LSTM_M3 COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT N COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT Model  EQUAL  modelfrom __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  5 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT   DOM
from keras DOT models import Sequential DOM
from keras import layers DOM
import numpy as np DOM
from six DOT moves import range DOM
import sys DOM
import os DOM
from keras DOT models import load_model DOM
import keras DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Bidirectional DOM
from keras DOT utils import plot_model DOM
class SenseModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT lstmunits  EQUAL lstmunits DOM
        self DOT lstmLayerNum  EQUAL  lstmLayerNum DOM
        self DOT DenseUnits  EQUAL  DenseUnits DOM
        self DOT charlenth  EQUAL  charlenth DOM
        self DOT datalenth  EQUAL  datalenth DOM
        self DOT buildmodel PARELEFT  PARERIGHT  DOM
    def buildmodel PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT self DOT DenseUnits COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            self DOT model DOT add PARELEFT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model DOT summary PARELEFT  PARERIGHT  DOM
    def trainModel PARELEFT  PARERIGHT  COLON  DOM
        for cur in range PARELEFT  PARERIGHT  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            log EQUAL self DOT model DOT fit PARELEFT  PARERIGHT  DOM
            mdname  EQUAL  savename +  QUOTMARK  + str PARELEFT  PARERIGHT  DOM
            self DOT model DOT save PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL  QUOTMARK  COLON  DOM
    a  EQUAL  SenseModel PARELEFT  PARERIGHT  DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import Callback DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
    def on_batch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def neural_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT rams[] COMMA  init EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if load COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT recurrent import SimpleRNN  COMMA  LSTM DOM
from keras DOT optimizers import SGD  COMMA  Adagrad DOM
def keras_model PARELEFT  PARERIGHT  COLON  DOM
    LSTM_layers  EQUAL  1  DOM
    LSTM_units   EQUAL  300 DOM
    DNN_units    EQUAL  [] DOM
    question_LSTM  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_q  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    question_LSTM DOT add PARELEFT  PARERIGHT  DOM
    question_LSTM DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_1  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_1  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_1 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_1 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_2  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_2  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_2 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_2 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_3  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_3  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_3 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_3 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_4  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_4  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_4 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_4 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_5  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_5  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_5 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_5 DOT add PARELEFT  PARERIGHT  DOM
    image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    image_model DOT add PARELEFT Reshape PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  dims  EQUAL   PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_pre_DNN  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_pre_DNN_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_pre_DNN_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_DNN_1  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_DNN_1_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_DNN_1_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_softmax  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
X  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
Y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print X DOT shape DOM
print Y DOT shape DOM
my_model  EQUAL  keras_model PARELEFT  PARERIGHT  DOM
for t in range PARELEFT  PARERIGHT  COLON  DOM
    print my_model DOT train_on_batch PARELEFT  PARERIGHT  DOM
print my_model DOT predict_on_batch PARELEFT  PARERIGHT  DOM
from tensorflow DOT keras import backend as K DOM
from tensorflow DOT keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA Embedding COMMA Flatten COMMA LSTM COMMA Bidirectional COMMA GlobalAveragePooling1D DOM
from keras DOT layers import Dropout DOM
from keras import regularizers DOM
from keras DOT layers import Input DOM
from keras DOT models import Model DOM
from Attention_keras import Attention COMMA Position_Embedding DOM
class WRNNModel COLON  DOM
    def Average PARELEFT  PARERIGHT  COLON  DOM
        for i in range PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            output + EQUAL  inputs_list[] * weight_array[] DOM
        return output DOM
    def buildnet PARELEFT  PARERIGHT  COLON  DOM
        sequence  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
        embedded  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        blstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
        blstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        Main_model  EQUAL  Model PARELEFT  PARERIGHT     DOM
        return Main_model DOM
class DNNModel COLON  DOM
    def Average PARELEFT  PARERIGHT  COLON  DOM
        for i in range PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            output + EQUAL  inputs_list[] * weight_array[] DOM
        return output DOM
    def buildnet PARELEFT  PARERIGHT  COLON  DOM
        Main_model  EQUAL  Sequential PARELEFT  PARERIGHT          DOM
        print  PARELEFT  PARERIGHT  DOM
        Main_model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm_hid_size  EQUAL  128 DOM
        l2_rate  EQUAL  0 DOT 05 DOM
        Main_model DOT add PARELEFT Dense PARELEFT units EQUAL lstm_hid_size COMMA  input_dim EQUAL lstm_hid_size COMMA kernel_initializer EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA use_bias EQUAL False COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        Main_model DOT add PARELEFT Dense PARELEFT units EQUAL lstm_hid_size COMMA  input_dim EQUAL lstm_hid_size COMMA kernel_initializer EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA use_bias EQUAL False COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        Main_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
        Main_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
from __future__ import print_function DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D DOM
from keras DOT datasets import imdb DOM
top_words  EQUAL  20000 DOM
maxlen  EQUAL  100 DOM
embedding_size  EQUAL  128 DOM
kernel_size  EQUAL  5 DOM
filters  EQUAL  64 DOM
pool_size  EQUAL  4 DOM
lstm_output_size  EQUAL  70 DOM
batch_size  EQUAL  30 DOM
epochs  EQUAL  2 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  PARERIGHT  DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  LSTM COMMA  Dropout DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from keras DOT callbacks import EarlyStopping DOM
from sklearn DOT preprocessing import LabelBinarizer DOM
from public_tool DOT bagging_balance_weight import bagging_balance_weight DOM
from keras DOT layers import BatchNormalization DOM
from keras DOT optimizers import SGD DOM
from public_tool DOT form_index import form_index DOM
from public_tool DOT random_cut import random_cut DOM
from public_tool DOT form_accuracy import form_accuracy DOM
from keras DOT models import load_model DOM
import pickle DOM
def form_LSTM_dataset PARELEFT  PARERIGHT  COLON  DOM
    result_X  EQUAL  [] DOM
    result_y  EQUAL  [] DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        begin_index COMMA  end_index  EQUAL  form_index PARELEFT  PARERIGHT  DOM
        now_X  EQUAL  X[] DOM
        now_y  EQUAL  y[] DOM
        for j in range PARELEFT len PARELEFT  PARERIGHT  - T PARERIGHT  COLON  DOM
            result_X DOT append PARELEFT  PARERIGHT  DOM
            result_y DOT append PARELEFT  PARERIGHT  DOM
    result_X  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    return result_X COMMA  result_y DOM
def self_LSTM PARELEFT  PARERIGHT  COLON  DOM
    mms  EQUAL  MinMaxScaler PARELEFT  PARERIGHT  DOM
    X  EQUAL  mms DOT fit_transform PARELEFT  PARERIGHT  DOM
    T  EQUAL  10 DOM
    X_LSTM COMMA  y_LSTM  EQUAL  form_LSTM_dataset PARELEFT  PARERIGHT  DOM
    lb  EQUAL  LabelBinarizer PARELEFT  PARERIGHT  DOM
    y_LSTM  EQUAL  lb DOT fit_transform PARELEFT  PARERIGHT  DOM
    X_train COMMA  y_train COMMA  X_valid COMMA  y_valid  EQUAL  random_cut PARELEFT  PARERIGHT  DOM
    X_train COMMA  y_train  EQUAL  bagging_balance_weight PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT X_train COMMA y_train COMMA tch_size EQUAL int PARELEFT  PARERIGHT  COMMA epochs EQUAL 10000 COMMA verbose EQUAL 2 COMMA validation_split EQUAL 0 DOT 0 COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  COMMA shuffle EQUAL True COMMA class_weight EQUAL None COMMA sample_weight EQUAL None COMMA initial_epoch EQUAL 0 COMMA callbacks EQUAL [] PARERIGHT  DOM
    print PARELEFT  QUOTMARK  COMMA  form_accuracy PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  COMMA  form_accuracy PARELEFT  PARERIGHT  PARERIGHT  DOM
    mms_file_name  EQUAL   QUOTMARK  + file_name +  QUOTMARK  DOM
    pickle DOT dump PARELEFT mms COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_file_name  EQUAL   QUOTMARK  + file_name +  QUOTMARK  DOM
    model DOT save PARELEFT  PARERIGHT import matplotlib DOT pyplot as plt DOM
import pandas DOM
import numpy as np DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributedDense DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import SGD DOM
from keras DOT utils DOT np_utils import to_categorical DOM
def train_simple_lstm PARELEFT  PARERIGHT  COLON  DOM
    max_features  EQUAL  kwargs DOT get PARELEFT  QUOTMARK  COMMA  Xtrain DOT max PARELEFT  PARERIGHT  + 1 PARERIGHT  DOM
    embedding_size  EQUAL  kwargs DOT get PARELEFT  PARERIGHT  DOM
    dense_size  EQUAL  kwargs DOT get PARELEFT  PARERIGHT  DOM
    n_epoch  EQUAL  kwargs DOT get PARELEFT  PARERIGHT  DOM
    Ytrain  EQUAL  to_categorical PARELEFT Ytrain DOT reshape PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
dataset  EQUAL  np DOT loadtxt PARELEFT  PARERIGHT  DOM
trainX  EQUAL  dataset[] DOM
trainY  EQUAL  dataset[] DOT astype PARELEFT  PARERIGHT  DOM
train_simple_lstm PARELEFT  PARERIGHT  DOM
from keras DOT layers import Dense COMMA  Flatten COMMA  Dropout COMMA  ZeroPadding3D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
from collections import deque DOM
import sys DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        if self DOT nb_classes > EQUAL  10 COLON  DOM
            metrics DOT append PARELEFT  PARERIGHT  DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lrcn PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT conv_3d PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def lrcn PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA tivation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def conv_3d PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom __future__ import print_function DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Embedding COMMA  LSTM COMMA  GRU COMMA  Dense COMMA  Dropout COMMA  Bidirectional COMMA  TimeDistributed COMMA  Flatten DOM
from keras DOT callbacks import EarlyStopping COMMA  ModelCheckpoint DOM
from sklearn DOT metrics import mean_squared_error DOM
from keras DOT utils import np_utils DOM
import os DOM
import pickle DOM
import sys COMMA  argparse COMMA  os DOM
import keras DOM
import _pickle as pk DOM
import readline DOM
import numpy as np DOM
from keras import regularizers DOM
from keras DOT models import Model COMMA  load_model DOM
from keras DOT layers import Input COMMA  GRU COMMA  LSTM COMMA  Dense COMMA  Dropout COMMA  Bidirectional DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT optimizers import Adam DOM
from keras DOT callbacks import EarlyStopping COMMA  ModelCheckpoint DOM
import keras DOT backend DOT tensorflow_backend as K DOM
import tensorflow as tf DOM
import pandas as pd DOM
import os DOM
import sys DOM
from sklearn DOT linear_model import LinearRegression COMMA  LogisticRegression DOM
from sklearn DOT svm import SVC DOM
from sklearn DOT tree import DecisionTreeClassifier DOM
from sklearn DOT neural_network import MLPClassifier DOM
from sklearn DOT ensemble import RandomForestClassifier DOM
from sklearn DOT cluster import KMeans DOM
from sklearn DOT naive_bayes import GaussianNB DOM
from sklearn DOT model_selection import train_test_split DOM
from sklearn DOT metrics import accuracy_score COMMA  precision_recall_fscore_support COMMA  mean_squared_error COMMA  confusion_matrix DOM
from sklearn DOT preprocessing import StandardScaler DOM
from plot import plot_conf_matrix DOM
import numpy as np DOM
import pandas as pd DOM
import pickle DOM
import os DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Embedding COMMA  LSTM COMMA  GRU COMMA  Dense COMMA  Dropout COMMA  Bidirectional COMMA  TimeDistributed COMMA  Flatten DOM
from keras DOT callbacks import EarlyStopping COMMA  ModelCheckpoint DOM
from sklearn DOT metrics import mean_squared_error DOM
import os DOM
import pickle DOM
os DOT environ[]  EQUAL   QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
args  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
trainX_path  EQUAL  QUOTMARK   + args DOT window + QUOTMARK  DOM
trainY_path  EQUAL  QUOTMARK   + args DOT window + QUOTMARK  DOM
testY_path  EQUAL   QUOTMARK    + args DOT window + QUOTMARK   DOM
mode  EQUAL  args DOT action DOM
def RT_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT args DOT hidden_size COMMA  input_shape EQUAL  PARELEFT int PARELEFT  PARERIGHT  COMMA 4 PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    if mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def RT_gru PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT args DOT hidden_size COMMA  input_shape EQUAL  PARELEFT int PARELEFT  PARERIGHT  COMMA 4 PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    if mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def RF_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT args DOT hidden_size COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT int PARELEFT  PARERIGHT  COMMA 4 PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    if mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def RF_gru PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT args DOT hidden_size COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT int PARELEFT  PARERIGHT  COMMA 4 PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    if mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    index  EQUAL  args DOT index DOM
    bin_size  EQUAL  args DOT bin_size DOM
    acc COMMA  pre COMMA  rec COMMA  f_score  EQUAL  [] COMMA  [] COMMA  [] COMMA  [] DOM
    from keras DOT backend DOT tensorflow_backend import set_session DOM
    config  EQUAL  tf DOT ConfigProto PARELEFT  PARERIGHT  DOM
    config DOT gpu_options DOT allow_growth EQUAL True DOM
    set_session PARELEFT tf DOT Session PARELEFT  PARERIGHT  PARERIGHT  DOM
    save_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    if args DOT load_model is not None COLON  DOM
        load_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    from util import * DOM
    dm  EQUAL  DataManager PARELEFT  PARERIGHT  DOM
    dm DOT add_data PARELEFT  PARERIGHT  DOM
    data COMMA  label COMMA  Z  EQUAL  dm DOT get_data PARELEFT  PARERIGHT  DOM
    x_train COMMA  x_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT   DOM
    x_train  EQUAL  np DOT load PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
    y_train  EQUAL  np DOT load PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
    x_test  EQUAL  np DOT load PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
    y_test  EQUAL  np DOT load PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
    x_train1  EQUAL  x_train[] DOT reshape PARELEFT  PARERIGHT  DOM
    x_train2  EQUAL  x_train[] DOT reshape PARELEFT  PARERIGHT  DOM
    x_train1  EQUAL  np DOT concatenate PARELEFT  PARELEFT  PARERIGHT  COMMA  axis  EQUAL  2 PARERIGHT  DOM
    mean_x  EQUAL  np DOT mean PARELEFT  PARERIGHT  DOM
    std_x  EQUAL  np DOT std PARELEFT  PARERIGHT  DOM
    x_1  EQUAL   PARELEFT  PARERIGHT  / std_x DOM
    x_test1  EQUAL  x_test[] DOT reshape PARELEFT  PARERIGHT  DOM
    x_test2  EQUAL  x_train[] DOT reshape PARELEFT  PARERIGHT  DOM
    x_t1  EQUAL   PARELEFT  PARERIGHT  / std_x DOM
    mean_y  EQUAL  np DOT mean PARELEFT  PARERIGHT  DOM
    std_y  EQUAL  np DOT std PARELEFT  PARERIGHT  DOM
    y  EQUAL   PARELEFT  PARERIGHT  / std_y DOM
    y_t1  EQUAL   PARELEFT  PARERIGHT  / std_y   DOM
     PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL   PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT  DOM
    if args DOT action  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        print  PARELEFT  PARERIGHT  DOM
        if args DOT model_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model  EQUAL  RT_lstm PARELEFT  PARERIGHT  DOM
        elif args DOT model_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model  EQUAL  RT_gru PARELEFT  PARERIGHT  DOM
        elif args DOT model_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model  EQUAL  RF_lstm PARELEFT  PARERIGHT  DOM
        elif args DOT model_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model  EQUAL  RF_gru PARELEFT  PARERIGHT  DOM
        print  PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
         PARELEFT  PARERIGHT   EQUAL   PARELEFT  PARERIGHT  DOM
        earlystopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
        save_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
        checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
        history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
        dict_history  EQUAL  pd DOT DataFrame PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        dict_history DOT to_csv PARELEFT  PARERIGHT  DOM
    elif args DOT action  EQUAL  EQUAL   QUOTMARK   COLON  DOM
        print  PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        test_y  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        test_y  EQUAL  test_y * std_y DOM
        test_y  EQUAL  test_y + mean_y DOM
        print  PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        np DOT save PARELEFT  PARERIGHT  DOM
    elif args DOT action  EQUAL  EQUAL   QUOTMARK  COLON  DOM
         PARELEFT  PARERIGHT   EQUAL   PARELEFT  PARERIGHT  DOM
        min_val  EQUAL  min PARELEFT  PARERIGHT  DOM
        max_val  EQUAL  max PARELEFT  PARERIGHT  DOM
        bins  EQUAL  [] DOM
        labels  EQUAL  range PARELEFT  PARERIGHT  DOM
        train_label  EQUAL  pd DOT cut PARELEFT  PARERIGHT  DOM
        test_label  EQUAL  pd DOT cut PARELEFT  PARERIGHT  DOM
        for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            if train_label[] ! EQUAL  train_label[] COLON  DOM
                train_label[]  EQUAL  0 DOM
        for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            if test_label[] ! EQUAL  test_label[] COLON  DOM
                test_label[]  EQUAL  0 DOM
        print  PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        Y_train  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
        Y_test  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
         PARELEFT  PARERIGHT   EQUAL   PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        if args DOT model_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model  EQUAL  RT_lstm PARELEFT  PARERIGHT  DOM
        elif args DOT model_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model  EQUAL  RT_gru PARELEFT  PARERIGHT  DOM
        elif args DOT model_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model  EQUAL  RF_lstm PARELEFT  PARERIGHT  DOM
        elif args DOT model_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model  EQUAL  RF_gru PARELEFT  PARERIGHT  DOM
        print  PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        earlystopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
        save_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
        checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
        history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
        dict_history  EQUAL  pd DOT DataFrame PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        dict_history DOT to_csv PARELEFT  PARERIGHT  DOM
        test_y  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        predict  EQUAL  [] DOM
        for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            p  EQUAL  np DOT argmax PARELEFT  PARERIGHT  DOM
            predict DOT append PARELEFT  PARERIGHT  DOM
        predict  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        print  PARELEFT  PARERIGHT  DOM
        conf_matrix  EQUAL  confusion_matrix PARELEFT  PARERIGHT  DOM
        figdir  EQUAL   QUOTMARK  DOM
        figpath  EQUAL  os DOT path DOT join PARELEFT figdir COMMA   QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        plot_conf_matrix PARELEFT  PARERIGHT  DOM
        accuracy  EQUAL  accuracy_score PARELEFT  PARERIGHT  DOM
        precision COMMA  recall COMMA  f COMMA  _  EQUAL  precision_recall_fscore_support PARELEFT  PARERIGHT  DOM
        acc DOT append PARELEFT  PARERIGHT  DOM
        pre DOT append PARELEFT  PARERIGHT  DOM
        rec DOT append PARELEFT  PARERIGHT  DOM
        f_score DOT append PARELEFT  PARERIGHT  DOM
    if mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
         with open PARELEFT  QUOTMARK  + args DOT model +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  COMMA   QUOTMARK  PARERIGHT  as f COLON  DOM
            f DOT write PARELEFT  PARERIGHT  DOM
            for idx in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
                f DOT write PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def build_improved_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_basic_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  Embedding DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D COMMA  LSTM DOM
def get_mnist_net PARELEFT  PARERIGHT  COLON  DOM
    if model_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        return get_mnist_stdnet PARELEFT  PARERIGHT  DOM
    elif model_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        return get_mnist_convnet PARELEFT  PARERIGHT  DOM
    else COLON  DOM
from keras DOT models import Sequential DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT layers import TimeDistributed COMMA  Dense COMMA  Dropout COMMA Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT optimizers import RMSprop COMMA  Adam DOM
import numpy as np DOM
def one_layer_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layers  EQUAL  { QUOTMARK  COLON  inp COMMA   QUOTMARK  COLON  hidden COMMA   QUOTMARK  COLON  outp} DOM
    model DOT add PARELEFT LSTM PARELEFT layers[] COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model   DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layers  EQUAL  { QUOTMARK  COLON  48 COMMA   QUOTMARK  COLON  64 COMMA   QUOTMARK   COLON  128 COMMA   QUOTMARK  COLON  1} DOM
    model DOT add PARELEFT LSTM PARELEFT layers[] COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model  from keras DOT layers import LSTM COMMA  Dense COMMA  Input COMMA  InputLayer COMMA  Permute COMMA  BatchNormalization COMMA  \ DOM
    GRU COMMA  Conv1D COMMA  MaxPooling1D DOM
from keras DOT models import Sequential COMMA  save_model DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT model_selection import GridSearchCV DOM
from src DOT const import * DOM
from src DOT utils import * DOM
INPUT_SHAPE  EQUAL   PARELEFT  PARERIGHT  DOM
LSTM_SIZE  EQUAL  50 DOM
def get_model PARELEFT  PARERIGHT  COLON  DOM
    lstm_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT InputLayer PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT summary PARELEFT  PARERIGHT  DOM
    lstm_model DOT compile PARELEFT  PARERIGHT  DOM
    return lstm_model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    csv_dict  EQUAL  read_csv_sequence PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    players_dict COMMA  val_players_dict  EQUAL  split_training_set PARELEFT  PARERIGHT  DOM
    batch_input COMMA  batch_input_other_info COMMA  batch_output COMMA  player_id_to_name_dict \ DOM
         EQUAL  csv_sequence_set_to_keras_batch PARELEFT  PARERIGHT  DOM
    val_batch_input COMMA  val_batch_input_other_info COMMA  val_batch_output COMMA  _ \ DOM
         EQUAL  csv_sequence_set_to_keras_batch PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  get_model PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT x EQUAL batch_input COMMA y EQUAL batch_output COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  COMMA epochs EQUAL 500 COMMA batch_size EQUAL 10 COMMA verbose EQUAL 2 PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    save_model PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
import numpy as np DOM
import time DOM
import csv DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA Merge DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
import copy DOM
data_dim  EQUAL  1 DOM
timesteps  EQUAL  13 DOM
model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm_hidden_size  EQUAL  [] DOM
drop_out_rate  EQUAL  [] DOM
model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
in_dimension  EQUAL  3; DOM
nn_hidden_size  EQUAL  [] DOM
nn_drop_rate  EQUAL  [] DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT compile PARELEFT  PARERIGHT  DOM
from keras DOT utils DOT visualize_util import plot COMMA  to_graph DOM
graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
graph DOT write_png PARELEFT  PARERIGHT LAB_VTX  EQUAL   QUOTMARK  DOM
DATASET_TRK  EQUAL  [] DOM
LAB_TRK  EQUAL   QUOTMARK  DOM
ROOTFILE  EQUAL   QUOTMARK  DOM
def load_data PARELEFT  PARERIGHT  COLON  DOM
    import uproot  DOM
    import pandas DOM
    import numpy as np DOM
    f  EQUAL  uproot DOT open PARELEFT  PARERIGHT  DOM
    tree  EQUAL  f[] DOM
    dataset  EQUAL  tree DOT pandas DOT df PARELEFT  PARERIGHT  DOM
    features  EQUAL  dataset DOT loc[] DOT values DOM
    labels  EQUAL  dataset DOT loc[] DOT values DOM
    features  EQUAL  np DOT resize PARELEFT features COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
    labels  EQUAL  np DOT resize PARELEFT labels COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
    return features COMMA  labels DOM
def vertex_model PARELEFT  PARERIGHT  COLON     DOM
    import keras DOM
    from keras import layers COMMA  models DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Dropout DOM
    from keras DOT activations import sigmoid COMMA  tanh DOM
    from keras DOT optimizers import Adam COMMA  Nadam COMMA  sgd DOM
    from keras DOT activations import softmax COMMA  sigmoid COMMA  relu COMMA  tanh COMMA  elu COMMA  selu DOM
    from keras DOT losses import categorical_crossentropy COMMA  logcosh COMMA  binary_crossentropy DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def tracks_model PARELEFT  PARERIGHT  COLON  DOM
    import keras DOM
    from keras import layers COMMA  models DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Dropout DOM
    from keras DOT activations import sigmoid COMMA  tanh DOM
    from keras DOT optimizers import Adam COMMA  Nadam COMMA  sgd DOM
    from keras DOT activations import softmax COMMA  sigmoid COMMA  relu COMMA  tanh COMMA  elu COMMA  selu DOM
    from keras DOT losses import categorical_crossentropy COMMA  logcosh COMMA  binary_crossentropy DOM
    from keras DOT callbacks import TensorBoard DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def LSTM_model PARELEFT  PARERIGHT  COLON  DOM
    import keras DOM
    from keras import layers COMMA  models DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Dropout COMMA  LSTM DOM
    from keras DOT activations import sigmoid DOM
    from keras DOT optimizers import Adam DOM
    from keras DOT losses import binary_crossentropy DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  1024 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  1024 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def train_model PARELEFT  PARERIGHT  COLON  DOM
    import keras DOM
    from keras import layers COMMA  models DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Dropout DOM
    from keras DOT activations import sigmoid COMMA  tanh DOM
    from keras DOT optimizers import Adam COMMA  Nadam COMMA  sgd DOM
    from keras DOT activations import softmax COMMA  sigmoid COMMA  relu COMMA  tanh COMMA  elu COMMA  selu DOM
    from keras DOT losses import categorical_crossentropy COMMA  logcosh COMMA  binary_crossentropy DOM
    from keras DOT callbacks import TensorBoard DOM
    from sklearn DOT model_selection import train_test_split DOM
    X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
    history  EQUAL  model DOT fit PARELEFT X_train COMMA  y_train COMMA pochs EQUAL epochs COMMA  lidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT   DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    return history COMMA  scores COMMA  X_test COMMA  y_test COMMA  model DOM
def conc_method PARELEFT  PARERIGHT  COLON  DOM
    import uproot DOM
    import pandas DOM
    import numpy as np DOM
    import keras DOM
    from keras import layers COMMA  models DOM
    from keras DOT models import Sequential COMMA  Model DOM
    from keras DOT layers import Dense COMMA  Dropout COMMA  Input COMMA  LSTM DOM
    from keras DOT activations import sigmoid COMMA  tanh DOM
    from keras DOT optimizers import Adam COMMA  Nadam COMMA  sgd DOM
    from keras DOT activations import softmax COMMA  sigmoid COMMA  relu COMMA  tanh COMMA  elu COMMA  selu DOM
    from keras DOT losses import categorical_crossentropy COMMA  logcosh COMMA  binary_crossentropy DOM
    from keras DOT layers DOT merge import concatenate DOM
    vertex_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    out  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    out_trk  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    tracks_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    x  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    main_out  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
    pred_labels  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT    DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT    DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT    DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT    DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT    DOM
def prediction PARELEFT  PARERIGHT  COLON  DOM
    result  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    probs  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
    probs1D  EQUAL  probs DOT flatten PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    return result COMMA  probs COMMA  probs1D DOM
def execute PARELEFT  PARERIGHT  COLON  DOM
    import InDetVtxClassPlot as plot DOM
    import Utils as utl DOM
    import os DOM
    form  EQUAL   QUOTMARK  DOM
    feat_vtx COMMA  lab_vtx  EQUAL  load_data PARELEFT  PARERIGHT  DOM
    feat_trk COMMA  lab_trk  EQUAL  load_data PARELEFT  PARERIGHT  DOM
    print  PARELEFT  PARERIGHT  DOM
    print  PARELEFT  PARERIGHT  DOM
    vtx_mod  EQUAL  vertex_model PARELEFT  PARERIGHT  DOM
    trk_mod  EQUAL  tracks_model PARELEFT  PARERIGHT  DOM
    lstm_vtx_mod  EQUAL  LSTM_model PARELEFT  PARERIGHT  DOM
    lstm_trk_mod  EQUAL  LSTM_model PARELEFT  PARERIGHT  DOM
    vrs  EQUAL   QUOTMARK  DOM
    vhs  EQUAL   QUOTMARK  DOM
    vps  EQUAL   QUOTMARK  DOM
    vtx_roc_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    vtx_hst_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    vtx_prob_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    vtx_history COMMA  vtx_scores COMMA  x_vtx_test COMMA  y_vtx_test COMMA  out_vtx_mod  EQUAL  train_model PARELEFT  PARERIGHT  DOM
    vtx_result COMMA  vtx_probs COMMA  vtx_probs1D  EQUAL  prediction PARELEFT  PARERIGHT  DOM
    plot DOT plot_roc PARELEFT  PARERIGHT  DOM
    plot DOT plot_history PARELEFT  PARERIGHT  DOM
    plot DOT plot_probs PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    trs  EQUAL   QUOTMARK  DOM
    ths  EQUAL   QUOTMARK  DOM
    tps  EQUAL   QUOTMARK  DOM
    trk_roc_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    trk_hst_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    trk_prob_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    trk_history COMMA  trk_scores COMMA  x_trk_test COMMA  y_trk_test COMMA  out_trk_mod  EQUAL  train_model PARELEFT  PARERIGHT      DOM
    trk_result COMMA  trk_probs COMMA  trk_probs1D  EQUAL  prediction PARELEFT  PARERIGHT  DOM
    plot DOT plot_roc PARELEFT  PARERIGHT  DOM
    plot DOT plot_history PARELEFT  PARERIGHT  DOM
    plot DOT plot_probs PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    vlhs  EQUAL   QUOTMARK  DOM
    vlps  EQUAL   QUOTMARK  DOM
    vtx_lstm_hst_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    vtx_lstm_prob_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    feat_vtx_3D COMMA  lab_vtx_3D  EQUAL  utl DOT twoD_to_3D PARELEFT  PARERIGHT  DOM
    lstm_vtx_hist COMMA  lstm_vtx_scores COMMA  lstm_vtx_x_test COMMA  lstm_vtx_y_test COMMA  lstm_vtx_mod  EQUAL  train_model PARELEFT  PARERIGHT  DOM
    lstm_vtx_result COMMA  lstm_vtx_probs COMMA  lstm_vtx_probs1D  EQUAL  prediction PARELEFT  PARERIGHT  DOM
    lstm_x_test_2D  EQUAL  utl DOT threeD_to2D PARELEFT  PARERIGHT  DOM
    lstm_y_test_2D  EQUAL  utl DOT threeD_to2D PARELEFT  PARERIGHT  DOM
    plot DOT plot_history PARELEFT  PARERIGHT  DOM
    plot DOT plot_probs PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    tlhs  EQUAL   QUOTMARK  DOM
    tlps  EQUAL   QUOTMARK  DOM
    trk_lstm_hst_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    trk_lstm_prob_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    feat_trk_3D COMMA  lab_trk_3D  EQUAL  utl DOT twoD_to_3D PARELEFT  PARERIGHT  DOM
    lstm_trk_hist COMMA  lstm_trk_scores COMMA  lstm_trk_x_test COMMA  lstm_trk_y_test COMMA  lstm_trk_mod  EQUAL  train_model PARELEFT  PARERIGHT  DOM
    lstm_trk_result COMMA  lstm_trk_probs COMMA  lstm_trk_probs1D  EQUAL  prediction PARELEFT  PARERIGHT  DOM
    lstm_x_test_2D  EQUAL  utl DOT threeD_to2D PARELEFT  PARERIGHT  DOM
    lstm_y_test_2D  EQUAL  utl DOT threeD_to2D PARELEFT  PARERIGHT  DOM
    plot DOT plot_history PARELEFT  PARERIGHT  DOM
    plot DOT plot_probs PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    con_roc_vtx_str  EQUAL   QUOTMARK  DOM
    con_roc_trk_str  EQUAL   QUOTMARK      DOM
    chs  EQUAL   QUOTMARK  DOM
    con_prob_str  EQUAL   QUOTMARK  DOM
    con_hst_str  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    out_con_mod COMMA  conc_history COMMA  conc_scores COMMA  pred COMMA  con_probs COMMA  con_probs1D  EQUAL  conc_method PARELEFT  PARERIGHT  DOM
    out_con_mod COMMA  conc_history COMMA  conc_scores COMMA  pred  EQUAL  conc_method PARELEFT  PARERIGHT  DOM
    plot DOT plot_conc_history PARELEFT  PARERIGHT  DOM
    plot DOT plot_roc PARELEFT  PARERIGHT  DOM
    plot DOT plot_roc PARELEFT  PARERIGHT  DOM
    plot DOT plot_probs PARELEFT  PARERIGHT  DOM
    return None DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    nSamples  EQUAL  30000 DOM
    test_size  EQUAL  6000 DOM
    epochs  EQUAL  10 DOM
    epochs_name  EQUAL   QUOTMARK  DOM
    path  EQUAL   QUOTMARK  DOM
    execute PARELEFT  PARERIGHT  DOM
    return None DOM
main PARELEFT  PARERIGHT  DOM
    from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def build_improved_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_basic_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
import os DOT path DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import load_model COMMA  Sequential DOM
def get_model PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL  Config[] DOM
    has_model  EQUAL  os DOT path DOT isfile PARELEFT  PARERIGHT  DOM
    if has_model COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        return load_model PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        LSTM_size  EQUAL  Config[] DOM
        LSTM_count  EQUAL  Config[] DOM
        LSTM_STATEFUL  EQUAL  Config[] DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT LSTM_size COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT maxlen COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COMMA  batch_size EQUAL Config[] COMMA  stateful EQUAL LSTM_STATEFUL PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return modelimport numpy as np DOM
import pprint DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution2D COMMA  Dense COMMA  Flatten COMMA  Activation COMMA  MaxPooling2D COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT advanced_activations import ELU DOM
from keras DOT layers DOT embeddings import Embedding DOM
from kerasify import export_model DOM
np DOT set_printoptions PARELEFT  PARERIGHT  DOM
def c_array PARELEFT  PARERIGHT  COLON  DOM
    s  EQUAL  pprint DOT pformat PARELEFT a DOT flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    s  EQUAL  s DOT replace PARELEFT  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOT replace PARELEFT  QUOTMARK  COMMA   QUOTMARK  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOM
    shape  EQUAL   QUOTMARK  DOM
    if a DOT shape  EQUAL  EQUAL   PARELEFT  PARERIGHT  COLON  DOM
        s  EQUAL   QUOTMARK  % s DOM
        shape  EQUAL   QUOTMARK  DOM
    else COLON  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Reshape COMMA  Merge COMMA  Dropout COMMA  Input DOM
from keras DOT layers import LSTM as keras_lstm DOM
from keras DOT layers DOT embeddings import Embedding DOM
from dictionary import Dictionary DOM
from constants import * DOM
from model_base import ModelBase DOM
class LSTM PARELEFT  PARERIGHT  COLON  DOM
    lstm_hidden_units  EQUAL  None DOM
    dropout  EQUAL  None DOM
    recurrent_dropout  EQUAL  None DOM
    number_stacked_lstms  EQUAL  None DOM
    mlp_hidden_units  EQUAL  None DOM
    adding_mlp  EQUAL  None DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT lstm_hidden_units  EQUAL  lstm_hidden_units DOM
        self DOT dropout  EQUAL  dropout DOM
        self DOT recurrent_dropout  EQUAL  recurrent_dropout DOM
        self DOT number_stacked_lstms  EQUAL  number_stacked_lstms DOM
        self DOT model_name  EQUAL   QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  \ DOM
                        + str PARELEFT  PARERIGHT  + QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT   + \ DOM
                           QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  DOM
        self DOT model_type  EQUAL   QUOTMARK  DOM
        self DOT adding_mlp  EQUAL  adding_mlp DOM
        self DOT mlp_hidden_units  EQUAL  number_mlp_units DOM
    def build_visual_model PARELEFT  PARERIGHT  COLON  DOM
        image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        image_dimension  EQUAL  self DOT dictionary DOT pp_data DOT calculateImageDimension PARELEFT  PARERIGHT  DOM
        image_model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        language_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        language_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            language_model DOT add PARELEFT keras_lstm PARELEFT  PARERIGHT  PARERIGHT  DOM
        language_model DOT add PARELEFT keras_lstm PARELEFT  PARERIGHT  PARERIGHT  DOM
        if self DOT adding_mlp COLON  DOM
            language_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            language_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def build_language_model PARELEFT  PARERIGHT  COLON  DOM
        language_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        language_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            language_model DOT add PARELEFT ras_lstm PARELEFT  PARERIGHT  PARERIGHT  DOM
        language_model DOT add PARELEFT ras_lstm PARELEFT  PARERIGHT  PARERIGHT  DOM
        if self DOT adding_mlp COLON  DOM
            language_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            language_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        language_model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        language_model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT language_model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return language_modelfrom sentifmdetect import featurizer DOM
from sentifmdetect import util DOM
import os DOM
import keras DOM
from keras DOT optimizers import Adam DOM
from keras import backend DOM
from keras DOT layers import Dense COMMA  Input COMMA  Flatten COMMA  Dropout COMMA  Merge COMMA  BatchNormalization DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding COMMA  LSTM COMMA  Bidirectional DOM
from keras DOT models import Model COMMA  Sequential DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT model_selection import train_test_split COMMA  RandomizedSearchCV DOM
from sklearn DOT metrics import precision_recall_fscore_support COMMA  classification_report COMMA  f1_score COMMA  precision_score COMMA \ DOM
    recall_score COMMA  roc_auc_score DOM
import numpy as np DOM
def create_emb_lstm PARELEFT bidirectional EQUAL False COMMA lstm_units EQUAL 10 COMMA lstm_dropout EQUAL 0 DOT 2 COMMA lstm_recurrent_dropout EQUAL 0 DOT 2 COMMA ptimizer EQUAL  PARELEFT  PARERIGHT  COMMA metrics EQUAL [] PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        embeddings_index  EQUAL  featurizer DOT load_emb PARELEFT  PARERIGHT  DOM
        EMBEDDINGS_MATRIX  EQUAL  featurizer DOT make_embedding_matrix PARELEFT  PARERIGHT  DOM
        EMB_DIM  EQUAL  EMBEDDINGS_MATRIX DOT shape[] DOM
        model DOT add PARELEFT edding PARELEFT  PARERIGHT  PARERIGHT  DOM
    elif isinstance PARELEFT  PARERIGHT  COLON  DOM
        EMB_DIM  EQUAL  wvec DOM
        model DOT add PARELEFT bedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        logging DOT error PARELEFT  PARERIGHT  DOM
    if bidirectional COLON  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL optimizer[] PARELEFT  PARERIGHT  COMMA  metrics EQUAL metrics PARERIGHT  DOM
    return model DOM
class KerasClassifierCustom PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT predict PARELEFT  PARERIGHT  DOM
class GlobalMetrics PARELEFT  PARERIGHT  COLON  DOM
        self DOT from_categorical  EQUAL  True DOM
        if isinstance PARELEFT  PARERIGHT  COLON  DOM
            self DOT global_metrics  EQUAL  metrics DOM
        else COLON  DOM
            raise TypeError PARELEFT  QUOTMARK  PARERIGHT  DOM
        self DOT global_scores  EQUAL  {} DOM
    def on_epoch_end PARELEFT  PARERIGHT  COLON  DOM
        predict  EQUAL  np DOT asarray PARELEFT self DOT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
        targ  EQUAL  self DOT validation_data[] DOM
        if self DOT from_categorical COLON  DOM
            predict  EQUAL  predict DOT argmax PARELEFT  PARERIGHT  DOM
            targ  EQUAL  targ DOT argmax PARELEFT  PARERIGHT  DOM
        for metric COMMA  kwargs in self DOT global_metrics COLON  DOM
            self DOT global_scores[]  EQUAL  metric PARELEFT  PARERIGHT  DOM
            print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        return DOM
class KerasRandomizedSearchCV PARELEFT  PARERIGHT  COLON  DOM
        pred  EQUAL  super PARELEFT  PARERIGHT  DOT predict PARELEFT  PARERIGHT  DOM
        backend DOT clear_session PARELEFT  PARERIGHT  DOM
        return pred DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    from sklearn DOT datasets import make_moons DOM
    from sklearn DOT model_selection import RandomizedSearchCV DOM
    from keras DOT regularizers import l2 DOM
    dataset  EQUAL  make_moons PARELEFT  PARERIGHT  DOM
    def build_fn PARELEFT  PARERIGHT  COLON  DOM
        result_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        result_model DOT add PARELEFT Dense PARELEFT first_layer_size COMMA input_dim EQUAL input_dim COMMA activation EQUAL activation COMMA W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        current_layer_size  EQUAL  int PARELEFT  PARERIGHT  + 1 DOM
        for index_of_layer in range PARELEFT  PARERIGHT  COLON  DOM
            result_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            result_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
            result_model DOT add PARELEFT Dense PARELEFT current_layer_size COMMA W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA activation EQUAL activation COMMA activity_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            current_layer_size  EQUAL  int PARELEFT  PARERIGHT  + 1 DOM
        result_model DOT add PARELEFT Dense PARELEFT 1 COMMA activation EQUAL  QUOTMARK  COMMA W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        result_model DOT compile PARELEFT  PARERIGHT  DOM
        return result_model DOM
    NeuralNet  EQUAL  KerasClassifier PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import Input COMMA  Dense COMMA  Embedding COMMA  Conv2D COMMA  MaxPool2D DOM
from keras DOT layers import Reshape COMMA  Flatten COMMA  Dropout COMMA  Concatenate DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense COMMA  Embedding COMMA  Input COMMA Bidirectional DOM
from keras DOT models import Model DOM
from keras DOT layers import merge DOM
def basic_mlp PARELEFT  PARERIGHT  COLON  DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT num_hidden_units_lstm COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def deeper_lstm PARELEFT  PARERIGHT  COLON  DOM
    inpx1 EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x1 EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x1 EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    image_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    image_model DOT summary PARELEFT  PARERIGHT  DOM
    inpx0 EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x0 EQUAL Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x1 EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x1 EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x2 EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x2 EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x2 EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    embedding_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    embedding_model DOT summary PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def visual_lstm PARELEFT  PARERIGHT  COLON  DOM
    inpx1 EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x1 EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x1 EQUAL Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    image_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    image_model DOT summary PARELEFT  PARERIGHT  DOM
    inpx0 EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x0 EQUAL Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x2 EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x2 EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    embedding_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    embedding_model DOT summary PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def visual_lstm2 PARELEFT  PARERIGHT  COLON  DOM
    inpx1 EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x1 EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x1 EQUAL Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    image_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    image_model DOT summary PARELEFT  PARERIGHT  DOM
    inpx0 EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x0 EQUAL Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x2 EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x2 EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    embedding_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    embedding_model DOT summary PARELEFT  PARERIGHT  DOM
    inpx2 EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x1 EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x3 EQUAL Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    image_model2  EQUAL  Model PARELEFT  PARERIGHT  DOM
    image_model2 DOT summary PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  LSTM DOM
from keras DOT models import Sequential DOM
max_features  EQUAL  10000 DOM
maxlen  EQUAL  500 DOM
batch_size  EQUAL  32 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
input_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
input_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
from keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  LSTM DOM
from keras DOT models import Sequential DOM
max_features  EQUAL  10000 DOM
maxlen  EQUAL  500 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
x_train  EQUAL  [] for x in x_train] DOM
x_test  EQUAL  [] for x in x_test] DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
from keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  LSTM DOM
from keras DOT models import Sequential DOM
max_features  EQUAL  10000 DOM
maxlen  EQUAL  500 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT layers DOT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT layers DOT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT x_train COMMA _train COMMA  epochs EQUAL 10 COMMA batch_size EQUAL 128 COMMA validation_split EQUAL 0 DOT 2 DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Embedding DOM
from keras DOT layers import LSTM COMMA  SimpleRNN DOM
from keras DOT datasets import imdb DOM
from keras DOT utils DOT vis_utils import plot_model DOM
batch_size  EQUAL  100 DOM
nb_epoch  EQUAL  1 DOM
print  QUOTMARK  DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
print len PARELEFT  PARERIGHT  COMMA   QUOTMARK  DOM
print len PARELEFT  PARERIGHT  COMMA   QUOTMARK  DOM
print  QUOTMARK  DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
print  QUOTMARK  COMMA  X_train DOT shape DOM
print  QUOTMARK  COMMA  X_test DOT shape DOM
print  QUOTMARK  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print  QUOTMARK  DOM
plot_model PARELEFT  PARERIGHT  DOM
print  QUOTMARK  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL nb_epoch COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
score COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print  QUOTMARK  COMMA  score DOM
print  QUOTMARK  COMMA  acc DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL nb_epoch COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
score COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print  QUOTMARK  COMMA  score DOM
print  QUOTMARK  COMMA  accimport random DOM
import copy DOM
import time DOM
import re DOM
import os DOM
import pandas as pd DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
from sklearn DOT decomposition import PCA DOM
from sklearn DOT metrics import f1_score COMMA  accuracy_score DOM
from sklearn DOT model_selection import cross_val_score COMMA  KFold DOM
import keras DOM
import tensorflow as tf DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
from keras DOT preprocessing import sequence DOM
from keras DOT preprocessing DOT text import Tokenizer COMMA  text_to_word_sequence DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras import regularizers DOM
from keras DOT optimizers import SGD COMMA  Adam DOM
from keras DOT initializers import he_normal DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Embedding COMMA  LSTM COMMA  Bidirectional COMMA  BatchNormalization COMMA  Activation DOM
from keras DOT callbacks import History COMMA  CSVLogger COMMA  EarlyStopping COMMA  LearningRateScheduler COMMA  TensorBoard COMMA  ModelCheckpoint DOM
from keras DOT utils import to_categorical DOM
config  EQUAL  tf DOT ConfigProto PARELEFT  PARERIGHT   DOM
sess  EQUAL  tf DOT Session PARELEFT  PARERIGHT   DOM
keras DOT backend DOT set_session PARELEFT  PARERIGHT  DOM
from tensorflow DOT python DOT client import device_lib DOM
print PARELEFT device_lib DOT list_local_devices PARELEFT  PARERIGHT  PARERIGHT  DOM
from keras import backend as K DOM
print PARELEFT K DOT tensorflow_backend DOT _get_available_gpus PARELEFT  PARERIGHT  PARERIGHT  DOM
kfold EQUAL KFold PARELEFT  PARERIGHT  DOM
VOCAB_SIZE  EQUAL  50000 DOM
EMBEDDING_DIM  EQUAL  300 DOM
MAX_DOC_LEN  EQUAL  40 DOM
def plot_explained_variance PARELEFT  PARERIGHT  COLON  DOM
	pca  EQUAL  PCA PARELEFT  PARERIGHT  DOM
	pca_full  EQUAL  pca DOT fit PARELEFT  PARERIGHT  DOM
	plt DOT plot PARELEFT np DOT cumsum PARELEFT  PARERIGHT  PARERIGHT  DOM
	plt DOT xlabel PARELEFT  PARERIGHT  DOM
	plt DOT ylabel PARELEFT  PARERIGHT  DOM
	plt DOT grid PARELEFT  PARERIGHT  DOM
	plt DOT show PARELEFT  PARERIGHT  DOM
def preprocess_pca PARELEFT  PARERIGHT  COLON  DOM
	pca  EQUAL  PCA PARELEFT  PARERIGHT  DOM
	X_train_pca  EQUAL  pca DOT fit_transform PARELEFT  PARERIGHT  DOM
	X_test_pca  EQUAL  pca DOT transform PARELEFT  PARERIGHT  DOM
	return X_train_pca COMMA  X_test_pca DOM
def skill_predictor PARELEFT  PARERIGHT  COLON  DOM
	l2_reg  EQUAL  regularizers DOT l2 PARELEFT  PARERIGHT  DOM
	embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	history  EQUAL  History PARELEFT  PARERIGHT  DOM
	logfile  EQUAL   QUOTMARK  DOT format PARELEFT  PARERIGHT  DOM
	csv_logger  EQUAL  CSVLogger PARELEFT  PARERIGHT  DOM
	scheduler  EQUAL  LearningRateScheduler PARELEFT lambda x COLON  learning_rate*10** PARELEFT  PARERIGHT  COMMA  verbose EQUAL 0 PARERIGHT  DOM
	print PARELEFT  PARERIGHT  DOM
	t1  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
	model DOT fit PARELEFT train_seq COMMA 	  train_labels DOT astype PARELEFT  PARERIGHT  COMMA 	  batch_size EQUAL batch_size COMMA 	  epochs EQUAL num_epochs COMMA 	  validation_data EQUAL val_data COMMA 	  shuffle EQUAL True COMMA  callbacks EQUAL [] COMMA 	  verbose EQUAL verbose PARERIGHT  DOM
	t2  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
	model DOT save PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
	with open PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  as res_file COLON  DOM
		res_file DOT write PARELEFT str PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model COMMA  historyimport numpy as np DOM
import pickle DOM
import sys DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM COMMA  SimpleRNN DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
from keras DOT models import load_model DOM
with open PARELEFT  PARERIGHT  as input COLON  DOM
	cached_data  EQUAL  pickle DOT load PARELEFT  PARERIGHT  DOM
	char_to_int  EQUAL  cached_data[] DOM
	int_to_char  EQUAL  cached_data[] DOM
	X  EQUAL  cached_data[] DOM
	y  EQUAL  cached_data[] DOM
	print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 100 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
filepath EQUAL  QUOTMARK  DOM
checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
callbacks_list  EQUAL  [] DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT from keras import backend as K DOM
from keras DOT layers import Dense COMMA  Lambda DOM
from keras DOT models import Sequential COMMA  Graph DOM
def get_item_subgraph PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Flatten COMMA  Dropout DOM
    number_of_time_stamps  EQUAL  200 DOM
    number_of_in_channels  EQUAL  55 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_item_lstm_subgraph PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Flatten COMMA  Dropout DOM
    from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
    from keras DOT regularizers import l2 DOM
    _num_of_hidden_units  EQUAL  100 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOT format PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_user_subgraph PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def per_char_loss PARELEFT  PARERIGHT  COLON  DOM
    alls  EQUAL  X DOT values PARELEFT  PARERIGHT  DOM
    concatenated  EQUAL  K DOT concatenate PARELEFT  PARERIGHT  DOM
    reshaped  EQUAL  K DOT mean PARELEFT K DOT reshape PARELEFT concatenated COMMA   PARELEFT K DOT shape PARELEFT  PARERIGHT [] COMMA  3 COMMA  30 PARERIGHT  PARERIGHT  COMMA  axis EQUAL 1 PARERIGHT  DOM
    return K DOT softmax PARELEFT K DOT reshape PARELEFT reshaped COMMA   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
def identity_loss PARELEFT  PARERIGHT  COLON  DOM
def get_graph PARELEFT  PARERIGHT  COLON  DOM
    batch_input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    magic_num  EQUAL  90 DOM
    model  EQUAL  Graph PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add_input PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  batch_input_shape EQUAL batch_input_shape PARERIGHT  DOM
    model DOT add_shared_node PARELEFT get_item_subgraph PARELEFT  PARELEFT  PARERIGHT  COMMA  latent_dim PARERIGHT  COMMA name EQUAL  QUOTMARK  COMMA ts EQUAL [] COMMA merge_mode EQUAL  QUOTMARK  PARERIGHT  DOM
    model DOT add_node PARELEFT Lambda PARELEFT  PARERIGHT  COMMA name EQUAL  QUOTMARK  COMMA input EQUAL  QUOTMARK  PARERIGHT  DOM
    model DOT add_output PARELEFT  PARERIGHT  DOM
    return model DOM
def get_graph_lstm PARELEFT  PARERIGHT  COLON  DOM
    batch_input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    magic_num  EQUAL  90 DOM
    model  EQUAL  Graph PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add_input PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  batch_input_shape EQUAL batch_input_shape PARERIGHT  DOM
    model DOT add_shared_node PARELEFT get_item_lstm_subgraph PARELEFT  PARERIGHT  COMMA name EQUAL  QUOTMARK  COMMA ts EQUAL [] COMMA merge_mode EQUAL  QUOTMARK  PARERIGHT  DOM
    model DOT add_node PARELEFT Lambda PARELEFT  PARERIGHT  COMMA name EQUAL  QUOTMARK  COMMA input EQUAL  QUOTMARK  PARERIGHT  DOM
    model DOT add_output PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT layers import Dense COMMA  Activation DOM
from keras DOT layers import LSTM DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import RMSprop DOM
from text_model import * DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 512 COMMA  batch_input_shape EQUAL  PARELEFT batch_size COMMA maxlen COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COMMA  return_sequences EQUAL True COMMA  stateful EQUAL True PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
print  PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  DOM
from keras import backend as K DOM
from keras import layers DOM
from keras import regularizers DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT models import load_model DOM
from keras DOT models import Sequential DOM
from keras DOT utils import plot_model DOM
def lstmModel PARELEFT  PARERIGHT  COLON  DOM
    name  EQUAL   QUOTMARK  + activation DOM
    lstm  EQUAL  LSTM PARELEFT n_channels COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA go_backwards EQUAL go_backwards COMMA unroll EQUAL unroll PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    folder    EQUAL   QUOTMARK      DOM
    name_h5   EQUAL  folder + name +  QUOTMARK  DOM
    name_png  EQUAL  folder + name +  QUOTMARK  DOM
    plot_model PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
    return model COMMA  name DOM
import os DOM
import time DOM
import numpy as np DOM
from functools import wraps DOM
from sklearn DOT externals import joblib DOM
from sklearn DOT preprocessing import LabelBinarizer DOM
from sklearn DOT model_selection import cross_val_score DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT models import load_model COMMA  Sequential DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  LSTM DOM
N_FEATURES  EQUAL  10000 DOM
DOC_LEN  EQUAL  60 DOM
N_CLASSES  EQUAL  2 DOM
def timeit PARELEFT  PARERIGHT  COLON  DOM
    @wraps PARELEFT  PARERIGHT  DOM
    def wrapper PARELEFT  PARERIGHT  COLON  DOM
        start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
        result  EQUAL  func PARELEFT  PARERIGHT  DOM
        return result COMMA  time DOT time PARELEFT  PARERIGHT  - start DOM
    return wrapper DOM
def documents PARELEFT  PARERIGHT  COLON  DOM
    return list PARELEFT corpus DOT reviews PARELEFT  PARERIGHT  PARERIGHT  DOM
def continuous PARELEFT  PARERIGHT  COLON  DOM
    return list PARELEFT corpus DOT scores PARELEFT  PARERIGHT  PARERIGHT  DOM
def make_categorical PARELEFT  PARERIGHT  COLON  DOM
    return np DOT digitize PARELEFT continuous PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
def binarize PARELEFT  PARERIGHT  COLON  DOM
    return np DOT digitize PARELEFT continuous PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
def build_nn PARELEFT  PARERIGHT  COLON  DOM
    nn DOT add PARELEFT Dense PARELEFT 500 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    nn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    nn DOT compile PARELEFT  PARERIGHT  DOM
    return nn DOM
def build_lstm PARELEFT  PARERIGHT  COLON  DOM
    lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT compile PARELEFT  PARERIGHT  DOM
    return lstm DOM
@timeit DOM
def train_model PARELEFT  PARERIGHT  COLON  DOM
    corpus  EQUAL  PickledAmazonReviewsReader PARELEFT  PARERIGHT  DOM
    X  EQUAL  documents PARELEFT  PARERIGHT  DOM
    y  EQUAL  binarize PARELEFT  PARERIGHT  DOM
    scores  EQUAL  cross_val_score PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    if saveto COLON  DOM
        model DOT steps[][] DOT model DOT save PARELEFT  PARERIGHT  DOM
        model DOT steps DOT pop PARELEFT  PARERIGHT  DOM
        joblib DOT dump PARELEFT  PARERIGHT  DOM
    return scores DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    from sklearn DOT pipeline import Pipeline DOM
    from sklearn DOT feature_extraction DOT text import TfidfVectorizer DOM
    from reader import PickledReviewsReader DOM
    from am_reader import PickledAmazonReviewsReader DOM
    from transformer import TextNormalizer COMMA  GensimDoc2Vectorizer DOM
    from transformer import KeyphraseExtractor COMMA  GensimTfidfVectorizer DOM
    cpath  EQUAL   QUOTMARK  DOM
    mpath  EQUAL  { DOM
         QUOTMARK    COLON   QUOTMARK  COMMA  DOM
         QUOTMARK   COLON   QUOTMARK  DOM
    } DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
from collections import deque DOM
import sys DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        if self DOT nb_classes > EQUAL  10 COLON  DOM
            metrics DOT append PARELEFT  PARERIGHT  DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lrcn PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT mlp PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT conv_3d PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT c3d PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def lrcn PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA tivation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def mlp PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def conv_3d PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def c3d PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  COMMA input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT ZeroPadding3D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
import keras DOM
from keras DOT models import Sequential COMMA  save_model DOM
from keras DOT layers import LSTM DOM
import keras DOT backend as K DOM
base_path  EQUAL   QUOTMARK  DOM
backend  EQUAL  K DOT backend PARELEFT  PARERIGHT  DOM
version  EQUAL  keras DOT __version__ DOM
major_version  EQUAL  int PARELEFT  PARERIGHT  DOM
n_in  EQUAL  4 DOM
n_out  EQUAL  6 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT n_out COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT save PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT from keras DOT models import Sequential DOM
from keras import layers DOM
import numpy as np DOM
from six DOT moves import range DOM
import sys DOM
import os DOM
from keras DOT models import load_model DOM
import keras DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Bidirectional DOM
class SenseModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT lstmunits  EQUAL lstmunits DOM
        self DOT lstmLayerNum  EQUAL  lstmLayerNum DOM
        self DOT DenseUnits  EQUAL  DenseUnits DOM
        self DOT charlenth  EQUAL  charlenth DOM
        self DOT datalenth  EQUAL  datalenth DOM
        self DOT buildmodel PARELEFT  PARERIGHT  DOM
    def buildmodel PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT self DOT DenseUnits COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            self DOT model DOT add PARELEFT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model DOT summary PARELEFT  PARERIGHT  DOM
    def trainModel PARELEFT  PARERIGHT  COLON  DOM
        for cur in range PARELEFT  PARERIGHT  COLON  DOM
            print  PARELEFT  PARERIGHT  DOM
            self DOT model DOT fit PARELEFT  PARERIGHT  DOM
            mdname EQUAL savename+ QUOTMARK +str PARELEFT  PARERIGHT  DOM
            self DOT model DOT save PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL  QUOTMARK  COLON  DOM
    a  EQUAL  SenseModel PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Input DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
import numpy as np DOM
import keras DOT preprocessing DOT text as prep DOM
import keras DOT preprocessing DOT sequence as seq DOM
from keras import backend as K DOM
root EQUAL  QUOTMARK  DOM
corpusFile EQUAL root+ QUOTMARK  DOM
labelsFile EQUAL root+ QUOTMARK  DOM
text EQUAL file DOT readlines PARELEFT  PARERIGHT  DOM
toknizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
data EQUAL toknizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
data EQUAL np DOT asanyarray PARELEFT  PARERIGHT  DOM
maxlen EQUAL [] DOM
maxlen EQUAL maxlen[] DOM
vocabSize  EQUAL  toknizer DOT word_index DOT __len__ PARELEFT  PARERIGHT +2 DOM
data EQUAL seq DOT pad_sequences PARELEFT  PARERIGHT  DOM
file DOT close PARELEFT  PARERIGHT  DOM
file EQUAL open PARELEFT  PARERIGHT  DOM
labels EQUAL [] for i in file DOT readlines PARELEFT  PARERIGHT ] DOM
X_train EQUAL data DOM
Y_train EQUAL labels DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT labels[] DOT __len__ PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
get_lstm_layer_output  EQUAL  K DOT function PARELEFT [] DOT input] COMMA [] PARERIGHT  DOM
lstmout EQUAL get_lstm_layer_output PARELEFT  PARERIGHT [] DOM
file EQUAL open PARELEFT  PARERIGHT  DOM
for i in lstmout COLON  DOM
    tmp EQUAL str PARELEFT  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOT strip PARELEFT  PARERIGHT  DOM
    file DOT write PARELEFT  PARERIGHT  DOM
file DOT close PARELEFT  PARERIGHT  DOM
from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from absl DOT testing import parameterized DOM
import numpy as np DOM
from tensorflow DOT python import keras DOM
from tensorflow DOT python DOT eager import context DOM
from tensorflow DOT python DOT keras import keras_parameterized DOM
from tensorflow DOT python DOT keras import testing_utils DOM
from tensorflow DOT python DOT platform import test DOM
from tensorflow DOT python DOT training import adam DOM
from tensorflow DOT python DOT training import gradient_descent DOM
@keras_parameterized DOT run_all_keras_modes DOM
class LSTMLayerTest PARELEFT  PARERIGHT  COLON  DOM
  def test_return_sequences_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA return_sequences' COLON  True} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_static_shape_inference_LSTM PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  keras DOT layers DOT Dense PARELEFT embedding_dim COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  model DOT layers[] DOT output DOM
    self DOT assertEqual PARELEFT outputs DOT shape DOT as_list PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
  def test_dynamic_behavior_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT msprop QUOTMARK mse' COMMA  run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    x  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_dropout_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA dropout QUOTMARK  COLON  0 DOT 1} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  @parameterized DOT parameters PARELEFT  PARERIGHT  DOM
  def test_implementation_mode_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA implementation' COLON  implementation_mode} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_constraints_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    k_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    r_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    b_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL k_constraint COMMA recurrent_constraint EQUAL r_constraint COMMA bias_constraint EQUAL b_constraint PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
  def test_with_masking_layer_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layer_class PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL  QUOTMARK  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_masking_with_stacking_LSTM PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_cells  EQUAL  [] DOM
    model DOT add PARELEFT keras DOT layers DOT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL  QUOTMARK  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_from_config_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    for stateful in  PARELEFT  PARERIGHT  COLON  DOM
      l1  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      l2  EQUAL  layer_class DOT from_config PARELEFT l1 DOT get_config PARELEFT  PARERIGHT  PARERIGHT  DOM
      assert l1 DOT get_config PARELEFT  PARERIGHT   EQUAL  EQUAL  l2 DOT get_config PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    else COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_non_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [keras DOT backend DOT random_normal_variable PARELEFT  PARERIGHT  COMMA  0 COMMA  1 PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_reset_states_with_values PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    assert layer DOT states[] is not None DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT zeros PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    state_shapes  EQUAL  [] DOM
    values  EQUAL  [] DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      values  EQUAL  values[] DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT ones PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    with self DOT assertRaises PARELEFT  PARERIGHT  COLON  DOM
      layer DOT reset_states PARELEFT [] *  PARELEFT len PARELEFT  PARERIGHT  + 1 PARERIGHT  PARERIGHT  DOM
  def test_specify_state_with_masking PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    _  EQUAL  keras DOT layers DOT Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL  QUOTMARK  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_return_state PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    state  EQUAL  outputs[] DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    state  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA  state COMMA  atol EQUAL 1e-4 PARERIGHT  DOM
  def test_state_reuse PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    output COMMA  state  EQUAL  outputs[] COMMA  outputs[] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    outputs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  def test_initial_states_as_other_inputs PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    num_states  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    main_inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    inputs  EQUAL  [] + initial_state DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    main_inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_regularizers_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL  QUOTMARK  COMMA activity_regularizer EQUAL  QUOTMARK  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  3 PARERIGHT  DOM
    x  EQUAL  keras DOT backend DOT variable PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    layer PARELEFT  PARERIGHT  DOM
    if context DOT executing_eagerly PARELEFT  PARERIGHT  COLON  DOM
      self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  4 PARERIGHT  DOM
    else COLON  DOM
      self DOT assertEqual PARELEFT len PARELEFT layer DOT get_losses_for PARELEFT  PARERIGHT  PARERIGHT  COMMA  1 PARERIGHT  DOM
  def test_statefulness_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT 4 COMMA embedding_dim COMMA mask_zero EQUAL True COMMA input_length EQUAL timesteps COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT optimizer EQUAL gradient_descent DOT GradientDescentOptimizer PARELEFT  PARERIGHT  COMMA oss EQUAL  QUOTMARK  COMMA  run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    out1  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT out1 DOT shape COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    out2  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out1 DOT max PARELEFT  PARERIGHT  COMMA  out2 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    out3  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out2 DOT max PARELEFT  PARERIGHT  COMMA  out3 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT reset_states PARELEFT  PARERIGHT  DOM
    out4  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT  PARERIGHT  DOM
    out5  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out4 DOT max PARELEFT  PARERIGHT  COMMA  out5 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    left_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    left_padded_input[]  EQUAL  0 DOM
    left_padded_input[]  EQUAL  0 DOM
    out6  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    right_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    right_padded_input[]  EQUAL  0 DOM
    right_padded_input[]  EQUAL  0 DOM
    out7  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  test DOT main PARELEFT  PARERIGHT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
import numpy as np DOM
data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
labels  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
import numpy as np DOM
data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
labels  EQUAL  np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
one_hot_labels  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT optimizers import SGD DOM
import numpy as np DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import SGD DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Conv1D COMMA  GlobalAveragePooling1D COMMA  MaxPooling1D DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT 64 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
data_dim  EQUAL  16 DOM
timesteps  EQUAL  8 DOM
num_classes  EQUAL  10 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
from keras DOT layers import Dense COMMA  LSTM COMMA  Activation COMMA  BatchNormalization COMMA  Dropout COMMA  initializers COMMA  Input DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import SGD COMMA  RMSprop DOM
from keras DOT models import load_model DOM
from keras DOT initializers import Constant DOM
import keras DOT backend as K DOM
from keras DOT utils DOT generic_utils import get_custom_objects DOM
from keras DOT backend DOT tensorflow_backend import _to_tensor DOM
def relu_limited PARELEFT  PARERIGHT  COLON  DOM
    return K DOT relu PARELEFT  PARERIGHT  DOM
get_custom_objects PARELEFT  PARERIGHT  DOT update PARELEFT { QUOTMARK  COLON  Activation PARELEFT  PARERIGHT } PARERIGHT  DOM
def risk_estimation PARELEFT  PARERIGHT  COLON  DOM
    return -100 DOT  * K DOT mean PARELEFT  PARELEFT  PARERIGHT  * y_pred PARERIGHT  DOM
class WindPuller PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  QUOTMARK  % PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT rate EQUAL rate_dropout COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT 1 COMMA  kernel_initializer EQUAL initializers DOT glorot_uniform PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
    def fit PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT save PARELEFT  PARERIGHT  DOM
    def load_model PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        return self DOM
    def evaluate PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT evaluate PARELEFT  PARERIGHT  DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT predict PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
from keras DOT optimizers import SGD DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
import numpy as np DOM
import openWav DOM
def train PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  10 DOM
    data_dim  EQUAL  len PARELEFT  PARERIGHT  DOM
    batchsize  EQUAL  10     DOM
    num_hidden_dimensions  EQUAL  data_dim/2 DOM
    num_frequency_dimensions  EQUAL  data_dim DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    exit DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    model DOT save_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def predict PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
x_train COMMA  y_train COMMA  x_test COMMA  y_test COMMA  sr  EQUAL  openWav DOT lstmData PARELEFT  PARERIGHT  DOM
model  EQUAL  train PARELEFT  PARERIGHT     from keras DOT layers DOT convolutional import Conv2DTranspose  COMMA  Conv1D COMMA  Conv2D COMMA Convolution3D COMMA  MaxPooling2D COMMA UpSampling1D COMMA UpSampling2D COMMA UpSampling3D DOM
from keras DOT layers import Input COMMA LSTM COMMA Bidirectional COMMA TimeDistributed COMMA Embedding COMMA  Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA    Reshape COMMA  Flatten COMMA  Lambda DOM
from keras DOT layers DOT noise import GaussianDropout COMMA  GaussianNoise DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras import initializers DOM
from keras import regularizers DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
import numpy as np  DOM
import pandas as pd DOM
import os DOM
def create_LSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    if embedding_matrix ! EQUAL  [] COLON  DOM
        embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT 150 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT 150 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    model_id  EQUAL   QUOTMARK  DOM
    model  EQUAL  create_LSTM PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class BotPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
import keras DOT backend as K DOM
import tensorflow as tf DOM
from keras import optimizers  DOM
from keras import losses DOM
from keras import metrics DOM
from keras import models DOM
from keras import layers DOM
from keras import callbacks DOM
from keras import regularizers DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT models import Model DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import GRU DOM
from keras DOT layers import Masking DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Activation DOM
from keras DOT layers import Lambda DOM
from keras DOT layers import Bidirectional DOM
from keras DOT layers import BatchNormalization DOM
from keras DOT layers import Input DOM
from keras DOT constraints import max_norm DOM
def model_3_LSTM_advanced1 PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l1 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  out EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model    DOM
def model_3_LSTM_advanced2 PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA  kernel_regularizer EQUAL regularizers DOT l1 PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  out EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model  DOM
def model_3_LSTM_advanced3 PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 6 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  out EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model  DOM
def model_3_LSTM_advanced4 PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 6 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  out EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model  DOM
def model_3_LSTM_advanced5 PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA   PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA      DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model  DOM
def model_3_LSTM_advanced6 PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA   PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA      DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model  DOM
def model_3_LSTM_advanced7 PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA kernel_regularizer EQUAL regularizers DOT l1 PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA   PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA      DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model import tensorflow as tf DOM
from tensorflow import keras DOM
import numpy as np DOM
from keras import Sequential DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import LSTM COMMA Bidirectional COMMA Embedding COMMA Dropout DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers import GlobalMaxPooling1D COMMA Concatenate DOM
import numpy as np DOM
import keras DOM
import tensorflow as tf DOM
from keras DOT layers import LSTM COMMA Bidirectional COMMA Embedding COMMA Dropout COMMA Dense DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT constraints import maxnorm DOM
from keras DOT engine import Input DOM
from keras DOT engine import Model DOM
from keras DOT layers import Dropout COMMA  Dense COMMA  Bidirectional COMMA  LSTM COMMA  \ DOM
    Embedding COMMA  GaussianNoise COMMA  Activation COMMA  Flatten COMMA  \ DOM
    RepeatVector COMMA  MaxoutDense COMMA  GlobalMaxPooling1D COMMA  \ DOM
    Convolution1D COMMA  MaxPooling1D COMMA  concatenate COMMA  Conv1D COMMA GaussianNoise DOM
from keras DOT regularizers import l2 DOM
from keras import initializers DOM
from keras import backend as K COMMA  regularizers COMMA  constraints COMMA  initializers DOM
from keras DOT engine DOT topology import Layer DOM
class Attention PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT attention_size  EQUAL  attention_size DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
    def build PARELEFT  PARERIGHT  COLON  DOM
        self DOT W  EQUAL  self DOT add_weight PARELEFT name EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA hape EQUAL  PARELEFT  PARERIGHT  COMMA initializer EQUAL  QUOTMARK  COMMA trainable EQUAL True PARERIGHT  DOM
        self DOT b  EQUAL  self DOT add_weight PARELEFT name EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA hape EQUAL  PARELEFT  PARERIGHT  COMMA initializer EQUAL  QUOTMARK  COMMA trainable EQUAL True PARERIGHT  DOM
        self DOT u  EQUAL  self DOT add_weight PARELEFT name EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA hape EQUAL  PARELEFT  PARERIGHT  COMMA initializer EQUAL  QUOTMARK  COMMA trainable EQUAL True PARERIGHT  DOM
        super PARELEFT  PARERIGHT  DOT build PARELEFT  PARERIGHT  DOM
    def call PARELEFT  PARERIGHT  COLON  DOM
        et  EQUAL  K DOT tanh PARELEFT K DOT dot PARELEFT  PARERIGHT  + self DOT b PARERIGHT  DOM
        at  EQUAL  K DOT softmax PARELEFT K DOT squeeze PARELEFT K DOT dot PARELEFT  PARERIGHT  COMMA  axis EQUAL -1 PARERIGHT  PARERIGHT  DOM
        if mask is not None COLON  DOM
            at * EQUAL  K DOT cast PARELEFT mask COMMA  K DOT floatx PARELEFT  PARERIGHT  PARERIGHT  DOM
        atx  EQUAL  K DOT expand_dims PARELEFT  PARERIGHT  DOM
        ot  EQUAL  atx * x DOM
        output  EQUAL  K DOT sum PARELEFT  PARERIGHT  DOM
        return output DOM
    def compute_mask PARELEFT  PARERIGHT  COLON  DOM
        return None DOM
    def compute_output_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT  PARERIGHT  DOM
def simple_nn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT optimizer EQUAL tf DOT train DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA loss EQUAL  QUOTMARK  COMMA metrics EQUAL [] PARERIGHT  DOM
    return model DOM
def simple_nn_l2 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT 16 COMMA  kernel_regularizer EQUAL keras DOT regularizers DOT l2 PARELEFT  PARERIGHT  COMMA  activation EQUAL tf DOT nn DOT relu PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Activation DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Bidirectional DOM
import keras DOM
def window_transform_series PARELEFT  PARERIGHT  COLON  DOM
    X  EQUAL  [] DOM
    y  EQUAL  [] DOM
    X  EQUAL  [] for i in range PARELEFT  PARERIGHT ] DOM
    y  EQUAL  [] for i in range PARELEFT  PARERIGHT ] DOM
    X  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
    X DOT shape  EQUAL   PARELEFT np DOT shape PARELEFT  PARERIGHT [] PARERIGHT  DOM
    y  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
    y DOT shape  EQUAL   PARELEFT len PARELEFT  PARERIGHT  COMMA 1 PARERIGHT  DOM
    return X COMMA y DOM
def build_part1_RNN PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 5 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def cleaned_text PARELEFT  PARERIGHT  COLON  DOM
    import re DOM
    text  EQUAL  text DOT replace PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    return text DOM
def window_transform_text PARELEFT  PARERIGHT  COLON  DOM
    inputs EQUAL  [] for i in range PARELEFT 0 COMMA len PARELEFT  PARERIGHT -window_size COMMA  step_size PARERIGHT ] DOM
    outputs EQUAL  [] for i in range PARELEFT 0 COMMA len PARELEFT  PARERIGHT -window_size COMMA  step_size PARERIGHT ] DOM
    return inputs COMMA outputs DOM
def build_part2_RNN PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 200 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_part2_RNN_Bi PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelimport pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Input COMMA  Dense COMMA  Conv1D COMMA  MaxPooling1D COMMA  GlobalAveragePooling1D COMMA  Dropout COMMA  Reshape COMMA  BatchNormalization DOM
from keras DOT models import Model DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
def build_model_LSTM PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    seq_input_drop  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    if lstm_attention COLON  DOM
        lstm_output  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_output COMMA  _  EQUAL  AttentionWeightedAverage PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        lstm_output  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    second_last  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    second_last_drop  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    return Model PARELEFT  PARERIGHT  DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT 100 COMMA  kernel_size COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom abc import ABCMeta COMMA  abstractmethod DOM
import numpy as np DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from scipy import stats DOM
from sklearn DOT cross_validation import StratifiedShuffleSplit DOM
from keras DOT callbacks import ModelCheckpoint DOM
from OriKerasExtension DOT P300Prediction import create_target_table COMMA  accuracy_by_repetition DOM
from OriKerasExtension DOT ThesisHelper import readCompleteMatFile COMMA  ExtractDataVer4 DOM
def create_train_data PARELEFT  PARERIGHT  COLON  DOM
    all_positive_train  EQUAL  [] DOM
    all_negative_train  EQUAL  [] DOM
    data_for_eval  EQUAL  ExtractDataVer4 PARELEFT  PARERIGHT  DOM
    temp_data_for_eval  EQUAL  downsample_data PARELEFT  PARERIGHT  DOM
    all_tags  EQUAL  gcd_res[][]  EQUAL  EQUAL  1] DOM
    all_data  EQUAL  temp_data_for_eval[]  EQUAL  EQUAL  1] DOM
    categorical_tags  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    return all_data COMMA  all_tags DOM
class GeneralModel PARELEFT  PARERIGHT  COLON  DOM
    __metaclass__  EQUAL  ABCMeta DOM
    @abstractmethod DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        pass DOM
    @abstractmethod DOM
    def fit PARELEFT  PARERIGHT  COLON  DOM
        pass DOM
    @abstractmethod DOM
    def reset PARELEFT  PARERIGHT  COLON  DOM
        pass DOM
    @abstractmethod DOM
    def get_name PARELEFT  PARERIGHT  COLON  DOM
        pass DOM
    @abstractmethod DOM
    def get_params PARELEFT  PARERIGHT  COLON  DOM
        pass DOM
class LSTM_EEG PARELEFT  PARERIGHT  COLON  DOM
    def get_params PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT get_params PARELEFT  PARERIGHT  DOM
        return self DOT model DOT get_weights PARELEFT  PARERIGHT  DOM
    def get_name PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT get_name PARELEFT  PARERIGHT  DOM
        return self DOT __class__ DOT __name__ +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  DOM
    def reset PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT reset PARELEFT  PARERIGHT  DOM
        self DOT model DOT set_weights PARELEFT  PARERIGHT  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT positive_weight  EQUAL  positive_weight DOM
        self DOT _num_of_hidden_units  EQUAL  _num_of_hidden_units DOM
        from keras DOT layers DOT recurrent import LSTM DOM
        from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
        from keras DOT regularizers import l2 DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  output_dim EQUAL _num_of_hidden_units COMMA  input_length EQUAL 25 COMMA  return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT 2 COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT original_weights  EQUAL  self DOT model DOT get_weights PARELEFT  PARERIGHT  DOM
    def fit PARELEFT  PARERIGHT  COLON  DOM
        _y  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
        checkpointer  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
        sss  EQUAL  list PARELEFT StratifiedShuffleSplit PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT fit PARELEFT stats DOT zscore PARELEFT  PARERIGHT  COMMA  _y[][]] COMMA epoch EQUAL 20 COMMA  show_accuracy EQUAL True COMMA  verbose EQUAL 1 COMMA  validation_data EQUAL  PARELEFT ats DOT zscore PARELEFT  PARERIGHT  COMMA  _y[][]] PARERIGHT  COMMA ss_weight EQUAL {0 COLON  1 COMMA  1 COLON  self DOT positive_weight} COMMA callbacks EQUAL [] PARERIGHT  DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT predict PARELEFT stats DOT zscore PARELEFT  PARERIGHT  PARERIGHT  DOM
class LSTM_CNN_EEG PARELEFT  PARERIGHT  COLON  DOM
    def get_params PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT get_params PARELEFT  PARERIGHT  DOM
        return self DOT model DOT get_weights PARELEFT  PARERIGHT  DOM
    def get_name PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT get_name PARELEFT  PARERIGHT  DOM
        return self DOT __class__ DOT __name__ +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  DOM
    def reset PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT reset PARELEFT  PARERIGHT  DOM
        self DOT model DOT set_weights PARELEFT  PARERIGHT  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT positive_weight  EQUAL  positive_weight DOM
        self DOT _num_of_hidden_units  EQUAL  _num_of_hidden_units DOM
        from keras DOT layers DOT recurrent import GRU DOM
        from keras DOT layers DOT convolutional import Convolution2D DOM
        from keras DOT layers DOT core import Dense COMMA  Activation COMMA  TimeDistributedDense COMMA  Reshape DOM
        from keras DOT layers DOT convolutional import MaxPooling2D DOM
        from keras DOT layers DOT core import Permute DOM
        maxToAdd  EQUAL  200 DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributedDense PARELEFT 10 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
import os DOM
os DOT environ[]  EQUAL   QUOTMARK  DOM
import keras DOM
from keras DOT models import Sequential COMMA Model DOM
from keras DOT layers import Embedding COMMA  Dense COMMA  merge COMMA  SimpleRNN COMMA  Activation COMMA  LSTM COMMA  GRU COMMA  Dropout COMMA  Input COMMA  TimeDistributed COMMA  \ DOM
    Concatenate COMMA  Add COMMA  Conv3D DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT convolutional import Conv2D DOM
from keras DOT layers DOT convolutional import MaxPooling2D COMMA MaxPooling3D DOM
from keras DOT layers DOT core import Flatten DOM
from keras import optimizers DOM
from EmbeddingMatrix import EmbeddingMatrix DOM
from keras DOT utils DOT np_utils import to_categorical DOM
import config DOM
GRID_COUNT  EQUAL  config DOT GRID_COUNT DOM
TEXT_K  EQUAL  config DOT text_k DOM
def geo_lprnn_text_model PARELEFT  PARERIGHT  COLON  DOM
    pl_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  DOM
    time_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  DOM
    user_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    text_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    pl_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    time_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    user_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attrs_latent  EQUAL  keras DOT layers DOT concatenate PARELEFT  PARERIGHT  DOM
    lstm_out  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    dense  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    out_vec  EQUAL  keras DOT layers DOT add PARELEFT  PARERIGHT  DOM
    pred  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  optimizers DOT SGD PARELEFT  PARERIGHT  DOM
    rmsprop  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def geo_lprnn_trainable_text_model PARELEFT  PARERIGHT  COLON  DOM
    pl_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  DOM
    time_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  DOM
    user_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    text_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    pl_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    time_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    user_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    text_embedding  EQUAL  EmbeddingMatrix PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attrs_latent  EQUAL  keras DOT layers DOT concatenate PARELEFT  PARERIGHT  DOM
    lstm_out  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    dense  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    out_vec  EQUAL  keras DOT layers DOT add PARELEFT  PARERIGHT  DOM
    pred  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  optimizers DOT SGD PARELEFT  PARERIGHT  DOM
    rmsprop  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def createSTCRNNModel PARELEFT  PARERIGHT  COLON  DOM
    pl_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  DOM
    time_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  DOM
    user_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    text_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    pltm_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    pl_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    time_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    user_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    text_embedding  EQUAL  EmbeddingMatrix PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv1  EQUAL  Conv3D PARELEFT 20 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    bn1 EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv2  EQUAL  Conv3D PARELEFT 20 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    bn2  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    mp  EQUAL  MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    dr  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lc  EQUAL  keras DOT layers DOT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attrs_latent  EQUAL  keras DOT layers DOT concatenate PARELEFT  PARERIGHT  DOM
    lstm_out  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    dense  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    out_vec  EQUAL  keras DOT layers DOT add PARELEFT  PARERIGHT  DOM
    pred  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  optimizers DOT SGD PARELEFT  PARERIGHT  DOM
    rmsprop  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return modelfrom preprocessing import load_data DOM
import random DOM
import matplotlib DOT pyplot as plt DOM
from keras import Model DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT layers import LeakyReLU COMMA  TimeDistributed DOM
from keras DOT layers DOT core import Dense COMMA  Flatten COMMA  Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Convolution3D COMMA  MaxPooling3D COMMA  Convolution2D COMMA  MaxPooling2D DOM
from keras DOT callbacks import * DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras import optimizers DOM
from keras DOT utils import multi_gpu_model DOM
import os  DOM
import pickle DOM
import time DOM
class ModelMGPU PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        pmodel  EQUAL  multi_gpu_model PARELEFT  PARERIGHT  DOM
        self DOT __dict__ DOT update PARELEFT  PARERIGHT  DOM
        self DOT _smodel  EQUAL  ser_model DOM
    def __getattribute__ PARELEFT  PARERIGHT  COLON  DOM
            return getattr PARELEFT  PARERIGHT  DOM
        return super PARELEFT  PARERIGHT  DOT __getattribute__ PARELEFT  PARERIGHT  DOM
def RNN PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 256 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return model DOM
tStart  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
X COMMA  y  EQUAL  load_data PARELEFT  PARERIGHT  DOM
model  EQUAL  RNN PARELEFT  PARERIGHT  DOM
parallel_model  EQUAL  ModelMGPU PARELEFT  PARERIGHT  DOM
parallel_model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
dirpath  EQUAL   QUOTMARK  DOM
if not os DOT path DOT exists PARELEFT  PARERIGHT  COLON  DOM
    os DOT mkdir PARELEFT  PARERIGHT  DOM
filepath EQUAL  dirpath +  QUOTMARK  DOM
checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
history  EQUAL  earlystopper  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
parallel_model DOT fit PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    pickle DOT dump PARELEFT  PARERIGHT  DOM
tEnd  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  % PARELEFT  PARERIGHT  PARERIGHT import _pickle as cPickle DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import GlobalAveragePooling1D DOM
from keras DOT layers DOT convolutional import Convolution1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import LSTM DOM
from features import dumpFeatures DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_1  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_1  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_1 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_2  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_2  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_2 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_3  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_3  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_3 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_4  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_4  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_4 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_5  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_5  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_5 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
[]  EQUAL  cPickle DOT load PARELEFT open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_6  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_6  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_6 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_7  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_7  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_7 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_8  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_8  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_8 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_9  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_9  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_9 COMMA  open PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
train_10  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
test_10  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
cPickle DOT dump PARELEFT test_10 COMMA  open PARELEFT  PARERIGHT  PARERIGHT import os DOM
global_model_version  EQUAL  55 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT SGD PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class BotPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT convolutional import Conv2D COMMA  Conv3D DOM
from keras DOT layers DOT convolutional_recurrent import ConvLSTM2D DOM
from keras DOT regularizers import l2 DOM
def Feed_Forward_NN PARELEFT  PARERIGHT  COLON  DOM
	name  EQUAL   QUOTMARK  DOT format PARELEFT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model COMMA  name DOM
def Regularized_Feed_Forward_NN PARELEFT  PARERIGHT  COLON  DOM
	name  EQUAL   QUOTMARK  DOT format PARELEFT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT units EQUAL hidden_neurons COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  input_shape EQUAL number_of_features PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT units EQUAL hidden_neurons COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model COMMA  name DOM
def LSTM_vector PARELEFT  PARERIGHT  COLON  DOM
	name  EQUAL   QUOTMARK  DOT format PARELEFT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT hidden_neurons COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT hidden_neurons COMMA  return_sequences EQUAL False COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT    DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT    DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model COMMA  name DOM
def ConvLSTM2D_matrix PARELEFT  PARERIGHT  COLON  DOM
	name  EQUAL   QUOTMARK  DOT format PARELEFT  PARERIGHT  DOM
	input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
	kernel_size  EQUAL   PARELEFT  PARERIGHT 	 DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT ConvLSTM2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT ConvLSTM2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT ConvLSTM2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT ConvLSTM2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Conv2D PARELEFT filters EQUAL 1 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA  data_format EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model COMMA  namefrom keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if tf DOT __version__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    from tensorflow DOT contrib DOT keras DOT api DOT keras DOT layers import Dense COMMA  Flatten COMMA  Dropout COMMA  ZeroPadding3D DOM
    from tensorflow DOT contrib DOT keras DOT python DOT keras DOT layers DOT recurrent import LSTM DOM
    from tensorflow DOT contrib DOT keras DOT python DOT keras DOT models import Sequential COMMA  load_model DOM
    from tensorflow DOT contrib DOT keras DOT api DOT keras DOT optimizers import Adam DOM
    from tensorflow DOT contrib DOT keras DOT python DOT keras DOT layers DOT wrappers import TimeDistributed DOM
    from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
else COLON  DOM
    from keras DOT layers import Dense COMMA  Flatten COMMA  Dropout COMMA  ZeroPadding3D DOM
    from keras DOT layers DOT recurrent import LSTM DOM
    from keras DOT models import Sequential COMMA  load_model DOM
    from keras DOT optimizers import Adam DOM
    from keras DOT layers DOT wrappers import TimeDistributed DOM
    from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
from collections import deque DOM
import sys DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        if self DOT nb_classes > EQUAL  10 COLON  DOM
            metrics DOT append PARELEFT  PARERIGHT  DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lrcn PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT mlp PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT conv_3d PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT c3d PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def lrcn PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA tivation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def mlp PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def conv_3d PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def c3d PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  COMMA input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT ZeroPadding3D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelimport os DOM
global_model_version  EQUAL  57 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM COMMA  Dropout DOM
from keras import backend as K DOM
from keras_tqdm import TQDMNotebookCallback DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  LSTM_model DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 DOM
import keras COMMA  urllib2  DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT optimizers import SGD COMMA  RMSprop COMMA  Adagrad DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
data   EQUAL  urllib2 DOT urlopen PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  DOM
data  EQUAL  [] DOM
data2 EQUAL [] DOM
for x in data COLON  DOM
    try COLON  DOM
        data2 DOT append PARELEFT  PARERIGHT  DOM
    except COLON      DOM
        pass DOM
data2  EQUAL  data2[] DOM
data2  EQUAL  [] DOM
X  EQUAL  data2[] DOM
y  EQUAL  data2[] DOM
X  EQUAL  np DOT array PARELEFT  PARERIGHT  DOT T DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOT T DOM
Xtrain  EQUAL  X[] DOM
ytrain  EQUAL  y[] DOM
Xtest  EQUAL  X[] DOM
Ytest  EQUAL  y[] DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
pred  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    import matplotlib DOT pyplot as plt DOM
    fig  EQUAL  plt DOT figure PARELEFT  PARERIGHT  DOM
    fig DOT suptitle PARELEFT  PARERIGHT  DOM
    plt DOT xlabel PARELEFT  PARERIGHT  DOM
    plt DOT ylabel PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT legend PARELEFT  PARERIGHT  DOM
    plt DOT show PARELEFT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM COMMA  SimpleRNN COMMA  GRU DOM
from keras DOT layers DOT core import * DOM
max_features  EQUAL  5883 DOM
maxlen  EQUAL  80 DOM
batch_size  EQUAL  32 DOM
in_out_neurons  EQUAL  2 DOM
hidden_neurons  EQUAL  300 DOM
import os DOM
import sys DOM
import pandas as pd DOM
def _load_data PARELEFT  PARERIGHT  COLON  DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT -n_prev PARERIGHT  COLON  DOM
        docX DOT append PARELEFT  PARERIGHT  DOM
        docY DOT append PARELEFT  PARERIGHT  DOM
    all_X  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    all_Y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    return all_X COMMA  all_Y DOM
def train_test_split PARELEFT  PARERIGHT  COLON  DOM
    X_train COMMA  y_train  EQUAL  _load_data PARELEFT  PARERIGHT  DOM
    X_test COMMA  y_test  EQUAL  _load_data PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    return  PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT  DOM
def rnn_lstm PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
     PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    hidden  EQUAL  32 DOM
    step  EQUAL  10 DOM
    model1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model2 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model2 DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
    model2 DOT add PARELEFT Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  \lidation_data EQUAL  PARELEFT  PARERIGHT  COMMA  nb_epoch EQUAL 5 PARERIGHT  DOM
    score COMMA  accuracy  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    return  PARELEFT  PARERIGHT  DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    file_name EQUAL  QUOTMARK  DOM
    print PARELEFT  PARERIGHT  DOM
    file_dataframe  EQUAL  pd DOT read_csv PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT rnn_lstm PARELEFT  PARERIGHT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT from __future__ import print_function DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Input COMMA  Bidirectional DOM
from keras DOT optimizers import Adam DOM
from keras DOT callbacks import EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT metrics import categorical_accuracy DOM
import spacy DOM
nlp  EQUAL  spacy DOT load PARELEFT  PARERIGHT  DOM
import numpy as np DOM
import pandas as pd DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT utils import np_utils DOM
data  EQUAL   PARELEFT open PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  PARERIGHT  DOM
chars  EQUAL  sorted PARELEFT list PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
id_char  EQUAL  {id COLON char for id COMMA  char in enumerate PARELEFT  PARERIGHT } DOM
char_id  EQUAL  {char COLON id for id COMMA  char in enumerate PARELEFT  PARERIGHT } DOM
x  EQUAL  [] DOM
Y  EQUAL  [] DOM
length  EQUAL  len PARELEFT  PARERIGHT  DOM
seq_length  EQUAL  100 DOM
for i in range PARELEFT  PARERIGHT  COLON  DOM
    sequence  EQUAL  data[] DOM
    label  EQUAL  data[] DOM
    x DOT append PARELEFT  PARERIGHT  DOM
    Y DOT append PARELEFT  PARERIGHT  DOM
x_mod  EQUAL  np DOT reshape PARELEFT x COMMA   PARELEFT len PARELEFT  PARERIGHT  COMMA  seq_length COMMA  1 PARERIGHT  PARERIGHT  DOM
x_mod  EQUAL  x_mod / float PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
y_mod  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 400 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save_weights PARELEFT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
string_mapped  EQUAL  x[] DOM
for i in range PARELEFT  PARERIGHT  COLON  DOM
    x1  EQUAL  np DOT reshape PARELEFT string_mapped COMMA  PARELEFT 1 COMMA len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
    x1  EQUAL  x1 / float PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    pred_index  EQUAL  np DOT argmax PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
    seq  EQUAL  [] for value in string_mapped] DOM
    string_mapped DOT append PARELEFT  PARERIGHT  DOM
    full_string  EQUAL  string_mapped[] DOM
txt EQUAL  QUOTMARK  DOM
for char in full_string COLON  DOM
    txt  EQUAL  txt+char DOM
print PARELEFT  PARERIGHT import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras DOT layers import Conv2D DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT filters EQUAL 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class ClofusBotPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
import sys DOM
import random DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT utils import np_utils DOM
from keras DOT optimizers import SGD DOM
from keras DOT layers import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT utils DOT data_utils import get_file DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT models import model_from_json DOM
from keras DOT layers import Merge DOM
from data_helper import loaddata DOM
m_names COMMA  f_names  EQUAL  loaddata PARELEFT  PARERIGHT  DOM
totalEntries  EQUAL  len PARELEFT  PARERIGHT  + len PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  len PARELEFT max PARELEFT  PARERIGHT  PARERIGHT  + len PARELEFT max PARELEFT  PARERIGHT  PARERIGHT  DOM
chars  EQUAL  set PARELEFT    QUOTMARK  DOT join PARELEFT  PARERIGHT  +  QUOTMARK  DOT join PARELEFT  PARERIGHT    PARERIGHT  DOM
char_index  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
X  EQUAL  np DOT zeros PARELEFT  PARELEFT totalEntries  COMMA  maxlen COMMA  len PARELEFT  PARERIGHT   PARERIGHT  COMMA  dtype EQUAL np DOT bool PARERIGHT  DOM
y  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  COMMA  dtype EQUAL np DOT bool PARERIGHT  DOM
for i COMMA  name in enumerate PARELEFT  PARERIGHT  COLON  DOM
    for t COMMA  char in enumerate PARELEFT  PARERIGHT  COLON  DOM
        X[]]  EQUAL  1 DOM
    y[]  EQUAL  1 DOM
for i COMMA  name in enumerate PARELEFT  PARERIGHT  COLON  DOM
    for t COMMA  char in enumerate PARELEFT  PARERIGHT  COLON  DOM
        X[]]  EQUAL  1 DOM
    y[]  EQUAL  1 DOM
nEpochs  EQUAL  10 DOM
def baseline_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 512 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT maxlen COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
model EQUAL baseline_model PARELEFT  PARERIGHT  DOM
json_string  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as file COLON  DOM
	file DOT write PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save_weights PARELEFT  PARERIGHT  DOM
def baseline_model1 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 128 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT maxlen COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
model1 EQUAL baseline_model1 PARELEFT  PARERIGHT  DOM
json_string  EQUAL  model1 DOT to_json PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as file COLON  DOM
    file DOT write PARELEFT  PARERIGHT  DOM
model1 DOT fit PARELEFT  PARERIGHT  DOM
model1 DOT save_weights PARELEFT  PARERIGHT __author__  EQUAL   QUOTMARK  DOM
from keras DOT regularizers import l2 DOM
from sklearn DOT cross_validation import train_test_split DOM
from six DOT moves import xrange DOM
from keras DOT layers import LSTM COMMA  Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  Lambda DOM
from keras DOT layers import MaxPooling1D COMMA  MaxPooling2D COMMA  AveragePooling2D COMMA  MaxPooling3D DOM
from keras DOT layers import Conv1D COMMA  Conv2D COMMA  Conv3D COMMA  GlobalAveragePooling2D COMMA  GlobalMaxPooling2D DOM
from keras DOT layers DOT convolutional_recurrent import ConvLSTM2D COMMA  ConvRecurrent2D DOM
from keras DOT engine import Input COMMA  Model DOM
from keras DOT callbacks import Callback COMMA  LearningRateScheduler COMMA  ModelCheckpoint COMMA  EarlyStopping DOM
from keras DOT preprocessing DOT image import ImageDataGenerator DOM
import json DOM
import keras DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT optimizers import SGD COMMA  Adam DOM
from keras import backend as K DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT utils DOT data_utils import get_file DOM
from keras DOT layers DOT wrappers import TimeDistributed COMMA  Bidirectional DOM
import numpy as np DOM
from keras DOT layers DOT wrappers import TimeDistributed COMMA  Bidirectional DOM
from keras DOT layers DOT recurrent import SimpleRNN COMMA  GRU DOM
import warnings DOM
from keras DOT utils import layer_utils DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    from util import Util as util DOM
    X_data_name_1  EQUAL   QUOTMARK  DOM
    y_data_name_1  EQUAL   QUOTMARK  DOM
    X_data_name_2  EQUAL   QUOTMARK  DOM
    y_data_name_2  EQUAL   QUOTMARK  DOM
    X_train COMMA  y_train  EQUAL  util DOT load_from_npz PARELEFT  PARERIGHT  COMMA  util DOT load_from_npz PARELEFT  PARERIGHT  DOM
    X_test COMMA  y_test  EQUAL  util DOT load_from_npz PARELEFT  PARERIGHT  COMMA  util DOT load_from_npz PARELEFT  PARERIGHT  DOM
    def normalize PARELEFT  PARERIGHT  COLON  DOM
        mean  EQUAL  np DOT mean PARELEFT  PARERIGHT  DOM
        std  EQUAL  np DOT std PARELEFT  PARERIGHT  DOM
        X_train  EQUAL   PARELEFT  PARERIGHT / PARELEFT  PARERIGHT  DOM
        X_test  EQUAL   PARELEFT  PARERIGHT / PARELEFT  PARERIGHT  DOM
        return X_train COMMA  X_test DOM
    X_train COMMA  X_test  EQUAL  normalize PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  X_train DOT reshape PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  X_test DOT reshape PARELEFT  PARERIGHT  DOM
    from keras DOT utils import np_utils DOM
    nb_classes  EQUAL  7 DOM
    y_train  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
    y_test  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
    from keras DOT layers DOT merge import concatenate COMMA  add DOM
    def audio_clstm PARELEFT  PARERIGHT  COLON  DOM
        x  EQUAL  GRU PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  GRU PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  GRU PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  GRU PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        return x DOM
    inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    out  EQUAL  audio_clstm PARELEFT  PARERIGHT  DOM
    model_clstm  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model_clstm DOT summary PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model_clstm DOT compile PARELEFT  PARERIGHT  DOM
    mc  EQUAL  keras DOT callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
    model_clstm DOT fit PARELEFT X_train_2nd COMMA  y_train_2nd COMMA  batch_size EQUAL 4 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  uffle EQUAL True COMMA  epochs EQUAL 50 COMMA  callbacks EQUAL [] PARERIGHT  DOM
    open PARELEFT  PARERIGHT  DOT write PARELEFT model_clstm DOT to_yaml PARELEFT  PARERIGHT  PARERIGHT  DOM
    proba_clstm  EQUAL  model_clstm DOT predict_on_batch PARELEFT  PARERIGHT  DOM
    model_Bilstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_Bilstm DOT add PARELEFT LSTM PARELEFT 577 COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_Bilstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_Bilstm DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_Bilstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_Bilstm DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_Bilstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_Bilstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_Bilstm DOT summary PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model_Bilstm DOT compile PARELEFT  PARERIGHT  DOM
    mc  EQUAL  keras DOT callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
    model_Bilstm DOT fit PARELEFT X_train_2nd COMMA  y_train_2nd COMMA  batch_size EQUAL 4 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  uffle EQUAL True COMMA  epochs EQUAL 50 COMMA  callbacks EQUAL [] PARERIGHT  DOM
    model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT 577 COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT summary PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    mc  EQUAL  keras DOT callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
    model_lstm DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL 4 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  uffle EQUAL True COMMA  epochs EQUAL 200 COMMA  callbacks EQUAL [] PARERIGHT  DOM
    model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT 577 COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT summary PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    mc  EQUAL  keras DOT callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
    model_lstm DOT fit PARELEFT X_train_2nd COMMA  y_train_2nd COMMA  batch_size EQUAL 4 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  uffle EQUAL True COMMA  epochs EQUAL 50 COMMA  callbacks EQUAL [] DOM
import os DOM
global_model_version  EQUAL  41 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  10000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import pandas as pd DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT models import Input DOM
from keras DOT models import Model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Merge DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT models import model_from_json DOM
from keras DOT callbacks import ModelCheckpoint DOM
from MyModule import data DOM
from MyModule import evaluate DOM
import os DOM
def build_lstm_models PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA output_dim EQUAL lstm_config[][] COMMA ctivation EQUAL lstm_config[] COMMA  recurrent_activation EQUAL lstm_config[] COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in range PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def add_multi_dense PARELEFT  PARERIGHT  COLON  DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    if os DOT path DOT exists PARELEFT  PARERIGHT  COLON  DOM
        json_string  EQUAL  open PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  DOM
        model  EQUAL  model_from_json PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        lstm_models  EQUAL  [] DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            lstm_models DOT append PARELEFT build_lstm_models PARELEFT  PARERIGHT  PARERIGHT  DOM
        date_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        date_model DOT add PARELEFT ense PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA nits EQUAL dense_config[][] COMMA  activation EQUAL dense_config[] PARERIGHT  PARERIGHT  DOM
        lstm_models DOT append PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  add_multi_dense PARELEFT  PARERIGHT  DOM
        open PARELEFT  PARERIGHT  DOT write PARELEFT model DOT to_json PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if os DOT path DOT exists PARELEFT  PARERIGHT  COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def train PARELEFT  PARERIGHT  COLON  DOM
    df_date  EQUAL  df_raw DOT pop PARELEFT  PARERIGHT  DOM
    df_date  EQUAL  pd DOT concat PARELEFT [] COMMA  axis EQUAL 1 PARERIGHT  DOM
    df_date  EQUAL  pd DOT concat PARELEFT [] COMMA  axis EQUAL 1 PARERIGHT  DOM
    df_date  EQUAL  df_date DOT loc[] DOM
    df_raw  EQUAL  data DOT process_sequence_features PARELEFT  PARERIGHT  DOM
    df_date_encode  EQUAL  data DOT encoding_features PARELEFT  PARERIGHT  DOM
    y_scaled COMMA  y_scaler  EQUAL  data DOT min_max_scale PARELEFT np DOT array PARELEFT df_raw DOT pop PARELEFT  PARERIGHT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_scaled COMMA  X_scaler  EQUAL  data DOT min_max_scale PARELEFT  PARERIGHT  DOM
    date_encode  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    train_y  EQUAL  y_scaled[] DOM
    test_y  EQUAL  y_scaled[] DOM
    train_y  EQUAL  train_y DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    test_y  EQUAL  test_y DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_scaled  EQUAL  X_scaled DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    date_encode  EQUAL  date_encode DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_X  EQUAL  [] DOM
    test_X  EQUAL  [] DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        train_X DOT append PARELEFT X_scaled[] PARERIGHT  DOM
        test_X DOT append PARELEFT X_scaled[] PARERIGHT  DOM
    train_X DOT append PARELEFT date_encode[] PARERIGHT  DOM
    test_X DOT append PARELEFT date_encode[] PARERIGHT  DOM
    model  EQUAL  build_model PARELEFT  PARERIGHT  DOM
    checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
    callbacks_list  EQUAL  [] DOM
    history  EQUAL  model DOT fit PARELEFT train_X COMMA  train_y COMMA  epochs EQUAL epochs COMMA  batch_size EQUAL batch_size COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA rbose EQUAL 1 COMMA  callbacks EQUAL callbacks_list COMMA  shuffle EQUAL False PARERIGHT  DOM
    plt DOT figure PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    pred_y  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    test_y  EQUAL  data DOT inverse_to_original_data PARELEFT train_y DOT reshape PARELEFT  PARERIGHT  COMMA  test_y DOT reshape PARELEFT  PARERIGHT  COMMA  scaler EQUAL y_scaler COMMA n_num EQUAL int PARELEFT len PARELEFT  PARERIGHT  *  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    pred_y  EQUAL  data DOT inverse_to_original_data PARELEFT train_y DOT reshape PARELEFT  PARERIGHT  COMMA  pred_y DOT reshape PARELEFT  PARERIGHT  COMMA  scaler EQUAL y_scaler COMMA n_num EQUAL int PARELEFT len PARELEFT  PARERIGHT  *  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return test_y COMMA  pred_y DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pd DOT set_option PARELEFT  PARERIGHT  DOM
    cols  EQUAL  [] DOM
    metrics  EQUAL  [] DOM
    time_steps  EQUAL  [] DOM
    for time_step in time_steps COLON  DOM
        df_raw_data  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
        epoch  EQUAL  200 DOM
        batch  EQUAL  1024 DOM
        model_path  EQUAL   QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  DOM
        weight_path  EQUAL   QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  DOM
        test_split  EQUAL  0 DOT 4 DOM
        lstm_num  EQUAL  6 DOM
        lstm_layers  EQUAL  [] DOM
        lstm_activation  EQUAL   QUOTMARK  DOM
        lstm_recurrent_activation  EQUAL   QUOTMARK  DOM
        lstm_input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
        lstm_dropout  EQUAL  0 DOT 3 DOM
        dense_layers  EQUAL  [] DOM
        dense_activation  EQUAL  None DOM
        date_features_shape  EQUAL   PARELEFT  PARERIGHT  DOM
        dense_dropout  EQUAL  0 DOT 5 DOM
        lstm_conf  EQUAL  { DOM
             QUOTMARK  COLON  lstm_num COMMA  DOM
             QUOTMARK  COLON  lstm_input_shape COMMA  DOM
             QUOTMARK  COLON  lstm_layers COMMA  DOM
             QUOTMARK  COLON  lstm_activation COMMA  DOM
             QUOTMARK  COLON  lstm_recurrent_activation COMMA  DOM
             QUOTMARK  COLON  lstm_dropout DOM
        } DOM
        dense_conf  EQUAL  { DOM
             QUOTMARK  COLON  date_features_shape COMMA  DOM
             QUOTMARK  COLON  dense_layers COMMA  DOM
             QUOTMARK  COLON  dense_activation COMMA  DOM
             QUOTMARK  COLON  dense_dropout DOM
        } DOM
        y_true COMMA  y_pred  EQUAL  train PARELEFT  PARERIGHT  DOM
        metrics DOT append PARELEFT evaluate DOT print_metrics PARELEFT  PARERIGHT  PARERIGHT  DOM
from data import data DOM
import numpy as np DOM
from sim import sim DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation COMMA  LSTM DOM
import keras DOT utils DOM
from data import data DOM
from keras DOT callbacks import History DOM
import matplotlib DOT pyplot as plt DOM
from keras import optimizers DOM
path  EQUAL   QUOTMARK  DOM
prefix  EQUAL   QUOTMARK  DOM
index  EQUAL   PARELEFT  PARERIGHT  DOM
suffix  EQUAL   QUOTMARK  DOM
d  EQUAL  data DOT multiload PARELEFT  PARERIGHT  DOM
[]  EQUAL  data DOT preplstm PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 9 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
optimizers DOT rmsprop PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
epch  EQUAL  100 DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
hist  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
history  EQUAL  History PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT range PARELEFT  PARERIGHT  COMMA  hist DOT history[] PARERIGHT  DOM
plt DOT show PARELEFT  PARERIGHT import numpy as np  DOM
import jieba DOM
import multiprocessing DOM
from gensim DOT models DOT word2vec import Word2Vec DOM
from gensim DOT corpora DOT dictionary import Dictionary DOM
from keras DOT preprocessing import sequence DOM
from sklearn DOT cross_validation import train_test_split DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA Activation DOM
from keras DOT models import model_from_yaml DOM
import sys DOM
sys DOT setrecursionlimit PARELEFT  PARERIGHT  DOM
import yaml DOM
vocab_dim  EQUAL  100 DOM
window_size  EQUAL  7 DOM
n_epoch  EQUAL  4 DOM
input_length  EQUAL  100 DOM
maxlen  EQUAL  100 DOM
batch_size  EQUAL  32 DOM
def loadfile PARELEFT  PARERIGHT  COLON  DOM
    neg EQUAL pd DOT read_csv PARELEFT  PARERIGHT [] DOM
    pos EQUAL pd DOT read_csv PARELEFT  PARERIGHT [] DOM
    neu EQUAL pd DOT read_csv PARELEFT  PARERIGHT [] DOM
    combined  EQUAL  np DOT concatenate PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT concatenate PARELEFT  PARELEFT np DOT ones PARELEFT len PARELEFT  PARERIGHT  COMMA  dtype EQUAL int PARERIGHT  COMMA   DOT zeros PARELEFT len PARELEFT  PARERIGHT  COMMA  dtype EQUAL int PARERIGHT  COMMA   * np DOT ones PARELEFT len PARELEFT  PARERIGHT  COMMA dtype EQUAL int PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return combined COMMA y DOM
def tokenizer PARELEFT  PARERIGHT  COLON  DOM
    return text DOM
def create_dictionaries PARELEFT  PARERIGHT  COLON  DOM
        gensim_dict  EQUAL  Dictionary PARELEFT  PARERIGHT  DOM
        gensim_dict DOT doc2bow PARELEFT model DOT wv DOT vocab DOT keys PARELEFT  PARERIGHT  COMMA allow_update EQUAL True PARERIGHT  DOM
            for sentence in combined COLON  DOM
                new_txt  EQUAL  [] DOM
                for word in sentence COLON  DOM
                    try COLON  DOM
                        new_txt DOT append PARELEFT  PARERIGHT  DOM
                    except COLON  DOM
                data DOT append PARELEFT  PARERIGHT  DOM
        combined EQUAL parse_dataset PARELEFT  PARERIGHT  DOM
        return w2indx COMMA  w2vec COMMA combined DOM
    else COLON  DOM
        print PARELEFT  PARERIGHT  DOM
def word2vec_train PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Word2Vec PARELEFT  PARERIGHT  DOM
    model DOT train PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
    index_dict COMMA  word_vectors COMMA combined  EQUAL  create_dictionaries PARELEFT  PARERIGHT  DOM
    return   index_dict COMMA  word_vectors COMMA combined DOM
def build_data PARELEFT  PARERIGHT  COLON  DOM
        embedding_weights[]  EQUAL  word_vectors[] DOM
    x_train COMMA  x_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
    y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT   DOM
    y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT  DOM
    return n_symbols COMMA embedding_weights COMMA x_train COMMA y_train COMMA x_test COMMA y_test DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    print  PARELEFT  PARERIGHT  DOM
import itertools DOM
import unittest DOM
import numpy as np DOM
import os COMMA  shutil DOM
import tempfile DOM
import pytest DOM
from coremltools DOT _deps import HAS_KERAS_TF DOM
from coremltools DOT models DOT utils import macos_version DOM
if HAS_KERAS_TF COLON  DOM
    import keras DOT backend DOM
    from keras DOT models import Sequential COMMA  Model DOM
    from keras DOT layers import Dense COMMA  Activation COMMA  Convolution2D COMMA  AtrousConvolution2D COMMA  LSTM COMMA  \ DOM
        ZeroPadding2D COMMA  Deconvolution2D COMMA  Permute COMMA  Convolution1D COMMA  AtrousConvolution1D COMMA  \ DOM
        MaxPooling2D COMMA  AveragePooling2D COMMA  Flatten COMMA  Dropout COMMA  UpSampling2D COMMA  merge COMMA  Merge COMMA  Input COMMA  GRU COMMA  \ DOM
        GlobalMaxPooling2D COMMA  GlobalMaxPooling1D COMMA  GlobalAveragePooling2D COMMA  GlobalAveragePooling1D COMMA  \ DOM
        Cropping1D COMMA  Cropping2D COMMA  Reshape COMMA  AveragePooling1D COMMA  MaxPooling1D COMMA  RepeatVector COMMA  ELU COMMA  \ DOM
        SimpleRNN COMMA  BatchNormalization COMMA  Embedding COMMA  ZeroPadding1D COMMA  UpSampling1D DOM
    from keras DOT layers DOT wrappers import Bidirectional COMMA  TimeDistributed DOM
    from keras DOT optimizers import SGD DOM
    from coremltools DOT converters import keras as kerasConverter DOM
def _keras_transpose PARELEFT  PARERIGHT  COLON  DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  4 COLON  DOM
        x  EQUAL  np DOT transpose PARELEFT  PARERIGHT  DOM
        return np DOT expand_dims PARELEFT  PARERIGHT  DOM
    elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  3 COLON  DOM
        return np DOT transpose PARELEFT  PARERIGHT  DOM
    elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            return x DOT reshape PARELEFT x DOT shape[] +  PARELEFT  PARERIGHT  PARERIGHT  DOM
    elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            return x DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON   DOM
            return x DOM
    else COLON  DOM
        return x DOM
def _get_coreml_model PARELEFT  PARERIGHT  COLON  DOM
    from coremltools DOT converters import keras as keras_converter DOM
    model  EQUAL  keras_converter DOT convert PARELEFT  PARERIGHT  DOM
    return model DOM
def _generate_data PARELEFT  PARERIGHT  COLON  DOM
        X  EQUAL  np DOT zeros PARELEFT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        X  EQUAL  np DOT ones PARELEFT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        X  EQUAL  np DOT array PARELEFT range PARELEFT np DOT product PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        X  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        X  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT -0 DOT 5 DOM
    return X DOM
def conv2d_bn PARELEFT x COMMA  nb_filter COMMA  nb_row COMMA  nb_col COMMA  border_mode EQUAL  QUOTMARK  COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL None PARERIGHT  COLON  DOM
        bn_name  EQUAL  name +  QUOTMARK  DOM
        conv_name  EQUAL  name +  QUOTMARK  DOM
    else COLON  DOM
        bn_name  EQUAL  None DOM
        conv_name  EQUAL  None DOM
    bn_axis  EQUAL  3 DOM
    x  EQUAL  Convolution2D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    return x DOM
@unittest DOT skipIf PARELEFT  PARERIGHT  DOM
class KerasNumericCorrectnessTest PARELEFT  PARERIGHT  COLON  DOM
            input_blob  EQUAL   QUOTMARK  COMMA  output_blob  EQUAL   QUOTMARK  COMMA  delta  EQUAL  1e-2 COMMA  DOM
            model_dir  EQUAL  None COMMA  transpose_keras_result  EQUAL  True COMMA   DOM
            one_dim_seq_flags  EQUAL  None  PARERIGHT  COLON e_tmp_folder  EQUAL  Falsemodel_dir is None COLON e_tmp_folder  EQUAL  Truedel_dir  EQUAL  tempfile DOT mkdtemp PARELEFT  PARERIGHT el_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT _inputs  EQUAL  len PARELEFT  PARERIGHT nb_inputs > 1 COLON mes  EQUAL  []; input_data  EQUAL  []; coreml_input  EQUAL  {} i in range PARELEFT  PARERIGHT  COLON  EQUAL  []] _generate_data PARELEFT  PARERIGHT ure_name  EQUAL   QUOTMARK  % iinput_names DOT append PARELEFT  PARERIGHT input_data DOT append PARELEFT  PARERIGHT ne_dim_seq_flags is None COLON  reml_input[]  EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOT copy PARELEFT  PARERIGHT lse COLON  eml_input[]  EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOT copy PARELEFT  PARERIGHT else COLON  EQUAL  []put_names  EQUAL  []ut_data  EQUAL  _generate_data PARELEFT  PARERIGHT ne_dim_seq_flags is None COLON  eml_input  EQUAL  { QUOTMARK  COLON  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOT copy PARELEFT  PARERIGHT }lse COLON  ml_input  EQUAL  { QUOTMARK  COLON  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOT copy PARELEFT  PARERIGHT }_names  EQUAL  []l_model  EQUAL  _get_coreml_model PARELEFT  PARERIGHT acos_version PARELEFT  PARERIGHT  > EQUAL   PARELEFT  PARERIGHT  COLON reml_preds  EQUAL  coreml_model DOT predict PARELEFT  PARERIGHT s  EQUAL  [] for name in output_names]ras_preds  EQUAL  model DOT predict PARELEFT  PARERIGHT  EQUAL  keras_preds if type PARELEFT  PARERIGHT  is list else []idx COMMA  k_pred in enumerate PARELEFT  PARERIGHT  COLON f transpose_keras_result COLON   EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT flatten PARELEFT  PARERIGHT else COLON   EQUAL  k_pred DOT flatten PARELEFT  PARERIGHT   EQUAL  c_preds[] DOT flatten PARELEFT  PARERIGHT elf DOT assertEquals PARELEFT len PARELEFT  PARERIGHT  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON den  EQUAL  max PARELEFT  PARERIGHT elf DOT assertAlmostEquals PARELEFT  PARERIGHT use_tmp_folder and os DOT path DOT exists PARELEFT  PARERIGHT  COLON shutil DOT rmtree PARELEFT  PARERIGHT test DOT skipIf PARELEFT  PARERIGHT lass KerasBasicNumericCorrectnessTest PARELEFT  PARERIGHT  COLON ef test_tiny_inner_product_zero_input PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2m_channels  EQUAL  2del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT f DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_inner_product_ones PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2m_channels  EQUAL  2del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT f DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_inner_product_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2m_channels  EQUAL  2del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_inner_product_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  100ut_shape  EQUAL   PARELEFT  PARERIGHT m_channels  EQUAL  100del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_ones PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT AtrousConvolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_atrous_conv_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  8t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_height  EQUAL  3rnel_width  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT AtrousConvolution2D PARELEFT nb_filter EQUAL num_kernels COMMA  nb_row EQUAL kernel_height COMMA  nb_col EQUAL kernel_width COMMA  _shape  EQUAL  input_shape COMMA  atrous_rate  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT st_keras_model PARELEFT  PARERIGHT         ef test_tiny_atrous_conv_rect_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_height  EQUAL  3rnel_width  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT AtrousConvolution2D PARELEFT nb_filter EQUAL num_kernels COMMA  nb_row EQUAL kernel_height COMMA  nb_col EQUAL kernel_width COMMA  _shape  EQUAL  input_shape COMMA  atrous_rate  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_rect_kernel_x PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  1rnel_width  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_rect_kernel_y PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_rect_kernel_xy PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_pseudo_1d_x PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  5_filters  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT nb_filters COMMA  1 COMMA  filter_length COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv1d_same_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv1d_valid_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_atrous_conv1d_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  8ut_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_length  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT AtrousConvolution1D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT _test_keras_model PARELEFT  PARERIGHT      ef test_tiny_deconv_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  13tput_dim  EQUAL  28t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  16rnel_height  EQUAL  3rnel_width  EQUAL  3t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Deconvolution2D PARELEFT num_kernels COMMA  kernel_width COMMA  kernel_height COMMA _shape  EQUAL  input_shape COMMA  output_shape  EQUAL  output_shape COMMA r_mode  EQUAL   QUOTMARK  COMMA  subsample  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_deconv_random_same_padding PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  14tput_dim  EQUAL  28t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  16rnel_height  EQUAL  3rnel_width  EQUAL  3t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Deconvolution2D PARELEFT num_kernels COMMA  kernel_width COMMA  kernel_height COMMA _shape  EQUAL  input_shape COMMA  output_shape  EQUAL  output_shape COMMA r_mode  EQUAL   QUOTMARK  COMMA  subsample  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_upsample_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT el DOT add PARELEFT UpSampling2D PARELEFT size  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_housenet_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m_hidden  EQUAL  2m_features  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_lstm_zeros PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_lstm_zeros_gpu PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_lstm_ones PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_lstm_zeros PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_lstm_ones PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_simple_rnn_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1m_samples  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_gru_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1m_samples  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_bidir_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1m_samples  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_bidir_random_gpu PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1m_samples  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_lstm_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_gru_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_bidir_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_simple_rnn_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_no_sequence_lstm_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_no_sequence_bidir_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_bidir_random_return_seq_false PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  7put_length  EQUAL  5m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT lf DOT _test_keras_model PARELEFT  PARERIGHT ef test_medium_bidir_random_return_seq_true PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  7put_length  EQUAL  5m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_lstm_seq PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_lstm_seq_dense PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  5m_hidden  EQUAL  12m_classes  EQUAL  6put_length  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT odel DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_lstm_seq_backwards PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_rnn_seq PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_rnn_seq_backwards PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_gru_seq PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_gru_seq_backwards PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_no_sequence_simple_rnn_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_no_sequence_gru_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT ef test_medium_conv_batchnorm_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  5ta_mean  EQUAL  2ta_var  EQUAL  1m keras DOT layers DOT normalization import BatchNormalizationdel  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_elu_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import ELUdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA r  EQUAL  3 COMMA  nb_row  EQUAL  5 COMMA  nb_col  EQUAL  5 PARERIGHT  PARERIGHT model DOT add PARELEFT ELU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_prelu_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import PReLUdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  3 COMMA  nb_row  EQUAL  5 COMMA  nb_col  EQUAL  5 COMMA  border_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT odel DOT add PARELEFT PReLU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_leaky_relu_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import LeakyReLUdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  3 COMMA  nb_row  EQUAL  5 COMMA  nb_col  EQUAL  5 COMMA  border_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_parametric_softplus_random PARELEFT  PARERIGHT  COLON m keras DOT layers DOT advanced_activations import ParametricSoftplusdel  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT ParametricSoftplus PARELEFT  PARERIGHT  PARERIGHT pha_per_channel  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT ta_per_channel  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT s  EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARELEFT  PARERIGHT  PARERIGHT   EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARELEFT  PARERIGHT  PARERIGHT odel DOT layers[] DOT set_weights PARELEFT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_parametric_softplus_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT _filters  EQUAL  2tput_shape  EQUAL   PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import ParametricSoftplusdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  nb_filters COMMA  nb_row  EQUAL  3 COMMA  nb_col  EQUAL  3 COMMA  border_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT model DOT add PARELEFT ParametricSoftplus PARELEFT  PARERIGHT  PARERIGHT pha_per_channel  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT ta_per_channel  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT s  EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARELEFT  PARERIGHT  PARERIGHT   EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARELEFT  PARERIGHT  PARERIGHT odel DOT layers[] DOT set_weights PARELEFT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_dense_parametric_softplus_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import ParametricSoftplusdel  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT Dense PARELEFT 10 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT model DOT add PARELEFT ParametricSoftplus PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_thresholded_relu_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import ThresholdedReLUdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  3 COMMA  nb_row  EQUAL  5 COMMA  nb_col  EQUAL  5 COMMA  border_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT model DOT add PARELEFT ThresholdedReLU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_concat_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_concat_seq_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT x_features  EQUAL  10bedding_dims  EQUAL  4q_len  EQUAL  5m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_add_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_mul_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_cos_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_zeropad_simple PARELEFT  PARERIGHT  COLON t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT ZeroPadding2D PARELEFT  PARELEFT  PARERIGHT  COMMA input_shape EQUAL input_shape PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_zeropad_fancy PARELEFT  PARERIGHT  COLON t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT ZeroPadding2D PARELEFT  PARELEFT  PARERIGHT  COMMA input_shape EQUAL input_shape PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_crop_simple PARELEFT  PARERIGHT  COLON t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT Cropping2D PARELEFT cropping EQUAL  PARELEFT  PARELEFT  PARERIGHT  COMMA  PARELEFT  PARERIGHT  PARERIGHT  COMMA input_shape EQUAL input_shape PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_permute PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT  DOT add PARELEFT Permute PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_no_overlap PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT MaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL None COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_overlap_multiple PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT MaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_overlap_odd PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT MaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_overlap_same PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT MaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_global_max_pooling PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT GlobalMaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_1d PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT MaxPooling1D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_length EQUAL 4 PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_global_max_pooling_1d PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT model DOT add PARELEFT GlobalMaxPooling1D PARELEFT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_average_pooling_no_overlap PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT AveragePooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL None COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_average_pooling_inception_config_1 PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT AveragePooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_global_average_pooling PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT GlobalAveragePooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_average_pooling_1d PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT model DOT add PARELEFT AveragePooling1D PARELEFT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_global_average_pooling_1d PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_dense_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m_samples  EQUAL  1put_dim  EQUAL  8t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_height  EQUAL  5rnel_width  EQUAL  5dden_dim  EQUAL  4m keras DOT layers import Flattendel  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_dense_tanh_fused_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m_samples  EQUAL  1put_dim  EQUAL  3dden_dim  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Dense PARELEFT hidden_dim COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_relu_fused_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m_samples  EQUAL  1put_dim  EQUAL  8t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_height  EQUAL  5rnel_width  EQUAL  5dden_dim  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_flatten PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_reshape_3d PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOT _test_keras_model PARELEFT  PARERIGHT ef test_embedding PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT m_inputs  EQUAL  10m_outputs  EQUAL  3odel DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_embedding_seq PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT m_inputs  EQUAL  10m_outputs  EQUAL  3del DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_time_distrbuted PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_sequence_lstm PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  2m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT est_keras_model PARELEFT  PARERIGHT ef test_tiny_spatial_bn PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT in  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  ZeroPadding2D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT est_keras_model PARELEFT  PARERIGHT ef test_dense_fused_act_in_td PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT in  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT imeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT est_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_upsample_1d_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT  DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length  EQUAL  filter_length COMMA  border_mode  EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT del DOT add PARELEFT UpSampling1D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_crop_1d_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length  EQUAL  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT del DOT add PARELEFT Cropping1D PARELEFT cropping  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_pad_1d_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length  EQUAL  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT del DOT add PARELEFT ZeroPadding1D PARELEFT padding  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_conv_batch_1d PARELEFT  PARERIGHT  COLON cabulary_size  EQUAL  4bedding_dimension  EQUAL  6put_length  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT odel DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_large_channel_gpu PARELEFT  PARERIGHT  COLON t_shape  EQUAL   PARELEFT  PARERIGHT m_channels  EQUAL  2049rnel_size  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT f DOT _test_keras_model PARELEFT  PARERIGHT ytest DOT mark DOT xfail PARELEFT  PARERIGHT ef test_large_batch_gpu PARELEFT  PARERIGHT  COLON tch_size  EQUAL  2049m_channels  EQUAL  4rnel_size  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT f DOT _test_keras_model PARELEFT  PARERIGHT test DOT skipIf PARELEFT  PARERIGHT lass KerasTopologyCorrectnessTest PARELEFT  PARERIGHT  COLON ef test_tiny_sequential_merge PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT del1  EQUAL  Sequential PARELEFT  PARERIGHT el1 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT model1 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT del2  EQUAL  Sequential PARELEFT  PARERIGHT el2 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT model2 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT del3  EQUAL  Sequential PARELEFT  PARERIGHT del3 DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT l3 DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_dangling_merge_left PARELEFT  PARERIGHT  COLON Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_dangling_merge_right PARELEFT  PARERIGHT  COLON Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_shared_vision PARELEFT  PARERIGHT  COLON it_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT Convolution2D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT Convolution2D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT t  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT ion_model  EQUAL  Model PARELEFT  PARERIGHT git_a  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT git_b  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT t_a  EQUAL  vision_model PARELEFT  PARERIGHT t_b  EQUAL  vision_model PARELEFT  PARERIGHT atenated  EQUAL  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_weight_sharing PARELEFT  PARERIGHT  COLON  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT nse  EQUAL  Dense PARELEFT  PARERIGHT   EQUAL  dense PARELEFT  PARERIGHT   EQUAL  dense PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT  DOT _test_keras_model PARELEFT  PARERIGHT test DOT skipIf PARELEFT  PARERIGHT lass KerasInceptionCorrectnessTest PARELEFT  PARERIGHT  COLON ef test_inception_conv_stage PARELEFT  PARERIGHT  COLON put_shape  EQUAL   PARELEFT  PARERIGHT g_input  EQUAL  Input PARELEFT  PARERIGHT annel_axis  EQUAL  3puts  EQUAL  img_input2d_bn PARELEFT img_input COMMA  32 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT nv2d_bn PARELEFT  PARERIGHT onv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_inception_first_branch PARELEFT  PARERIGHT  COLON put_shape  EQUAL   PARELEFT  PARERIGHT g_input  EQUAL  Input PARELEFT  PARERIGHT annel_axis  EQUAL  3puts  EQUAL  img_input2d_bn PARELEFT img_input COMMA  32 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT nv2d_bn PARELEFT  PARERIGHT onv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_inception_second_branch PARELEFT  PARERIGHT  COLON put_shape  EQUAL   PARELEFT  PARERIGHT g_input  EQUAL  Input PARELEFT  PARERIGHT annel_axis  EQUAL  3puts  EQUAL  img_input2d_bn PARELEFT img_input COMMA  32 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT nv2d_bn PARELEFT  PARERIGHT onv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT 3  EQUAL  conv2d_bn PARELEFT x COMMA  384 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT branch3x3dbl COMMA  96 COMMA  3 COMMA  3 COMMA  DOM
                                 subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h_pool  EQUAL  MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT _pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT _pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_inception_no_top PARELEFT  PARERIGHT  COLON put_shape  EQUAL   PARELEFT  PARERIGHT g_input  EQUAL  Input PARELEFT  PARERIGHT annel_axis  EQUAL  3puts  EQUAL  img_input2d_bn PARELEFT img_input COMMA  32 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT nv2d_bn PARELEFT  PARERIGHT onv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT 3  EQUAL  conv2d_bn PARELEFT x COMMA  384 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT branch3x3dbl COMMA  96 COMMA  3 COMMA  3 COMMA  DOM
                                 subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h_pool  EQUAL  MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT _pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT _pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT  PARERIGHT h3x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3  EQUAL  conv2d_bn PARELEFT branch3x3 COMMA  320 COMMA  3 COMMA  3 COMMA  DOM
                              subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h7x7x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7x3  EQUAL  conv2d_bn PARELEFT branch7x7x3 COMMA  192 COMMA  3 COMMA  3 COMMA  DOM
                                subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h_pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3_1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3_2  EQUAL  conv2d_bn PARELEFT  PARERIGHT nch3x3  EQUAL  merge PARELEFT [] COMMA  DOM
                              mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                              name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl_1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl_2  EQUAL  conv2d_bn PARELEFT  PARERIGHT nch3x3dbl  EQUAL  merge PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT @pytest DOT mark DOT slowtest DOT skipIf PARELEFT  PARERIGHT lass KerasNumericCorrectnessStressTest PARELEFT  PARERIGHT  COLON model_dir is None COLON e_tmp_folder  EQUAL  Truedel_dir  EQUAL  tempfile DOT mkdtemp PARELEFT  PARERIGHT el_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT _inputs  EQUAL  len PARELEFT  PARERIGHT nb_inputs > 1 COLON mes  EQUAL  []; input_data  EQUAL  []; coreml_input  EQUAL  {} i in range PARELEFT  PARERIGHT  COLON  EQUAL  []] EQUAL  _generate_data PARELEFT  PARERIGHT ure_name  EQUAL   QUOTMARK  % iinput_names DOT append PARELEFT  PARERIGHT input_data DOT append PARELEFT  PARERIGHT ne_dim_seq_flags is None COLON  reml_input[]  EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT lse COLON  eml_input[]  EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT else COLON  EQUAL  []put_names  EQUAL  []put_data  EQUAL  _generate_data PARELEFT  PARERIGHT ne_dim_seq_flags is None COLON  eml_input  EQUAL  { QUOTMARK  COLON  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT }lse COLON  ml_input  EQUAL  { QUOTMARK  COLON  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT }f transpose_keras_result COLON ras_preds  EQUAL  _keras_transpose PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOT flatten PARELEFT  PARERIGHT else COLON ras_preds  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOT flatten PARELEFT  PARERIGHT l_model  EQUAL  _get_coreml_model PARELEFT  PARERIGHT acos_version PARELEFT  PARERIGHT  > EQUAL   PARELEFT  PARERIGHT  COLON eml_preds  EQUAL  coreml_model DOT predict PARELEFT  PARERIGHT [] DOT flatten PARELEFT  PARERIGHT  f use_tmp_folder COLON shutil DOT rmtree PARELEFT  PARERIGHT elf DOT assertEquals PARELEFT len PARELEFT  PARERIGHT  COMMA  len PARELEFT  PARERIGHT  COMMA  DOM
                    msg  EQUAL   QUOTMARK  %  PARELEFT param COMMA  len PARELEFT  PARERIGHT  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON den  EQUAL  max PARELEFT  PARERIGHT  DOT assertAlmostEquals PARELEFT keras_preds[]/max_den COMMA  coreml_preds[]/max_den COMMA  delta  EQUAL  delta COMMA  DOM
                    msg  EQUAL   QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT @pytest DOT mark DOT slowef test_activation_layer_params PARELEFT  PARERIGHT  COLON tions  EQUAL  dict PARELEFT  PARERIGHT m_channels  EQUAL  10put_dim  EQUAL  10ef build_model PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT odel DOT add PARELEFT Activation PARELEFT **dict PARELEFT zip PARELEFT options DOT keys PARELEFT  PARERIGHT  COMMA  x PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT turn x COMMA  modeloduct  EQUAL  itertools DOT product PARELEFT *options DOT values PARELEFT  PARERIGHT  PARERIGHT  []ng a total of %s cases DOT  This could take a while QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT param COMMA  model in args COLON elf DOT _run_test PARELEFT  PARERIGHT @pytest DOT mark DOT slowef test_upsample_layer_params PARELEFT  PARERIGHT  COLON tions  EQUAL  dict PARELEFT  DOM
            size EQUAL  [] DOM
         PARERIGHT np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT  np DOT random DOT rand PARELEFT  PARERIGHT ef build_model PARELEFT  PARERIGHT  COLON rgs  EQUAL  dict PARELEFT zip PARELEFT options DOT keys PARELEFT  PARERIGHT  COMMA  x PARERIGHT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT  DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT UpSampling2D PARELEFT  PARERIGHT  PARERIGHT turn x COMMA  modeloduct  EQUAL  itertools DOT product PARELEFT *options DOT values PARELEFT  PARERIGHT  PARERIGHT  []ng a total of %s cases DOT  This could take a while QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT param COMMA  model in args COLON elf DOT _run_test PARELEFT  PARERIGHT @pytest DOT mark DOT slowef test_dense_elementwise_params PARELEFT  PARERIGHT  COLON tions  EQUAL  dict PARELEFT  DOM
            modes  EQUAL  [] DOM
import tensorflow as tf DOM
import numpy as np DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Dropout COMMA  TimeDistributed COMMA  Bidirectional DOM
from keras DOT layers import LSTM COMMA  Input COMMA  merge COMMA  multiply COMMA  Conv2D COMMA  \ DOM
 Conv2DTranspose COMMA  BatchNormalization COMMA  UpSampling2D COMMA  ConvLSTM2D COMMA  Conv3D COMMA  BatchNormalization DOM
from keras DOT layers DOT core import Permute COMMA  Reshape COMMA  Flatten COMMA  Lambda COMMA  RepeatVector DOM
from keras DOT optimizers import RMSprop COMMA  Adam DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
from keras DOT utils DOT data_utils import get_file DOM
from keras DOT models import load_model DOM
from Midi_Parser import MidiParser DOM
from keras import backend as K DOM
MAX_LEN  EQUAL  25 DOM
OUT_MAX_LEN  EQUAL  1 DOM
from preprocessing import PITCHES_REPRESS DOM
NUM_CHANNELS  EQUAL  4 DOM
INPUT_DIM  EQUAL  NUM_CHANNELS * PITCHES_REPRESS DOM
INPUT_DIM  EQUAL  PITCHES_REPRESS DOM
def simple PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout_U EQUAL 0 DOT 5 COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout_U EQUAL 0 DOT 5 COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout_U EQUAL 0 DOT 5 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def prepare_model_keras PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True COMMA dropout_U EQUAL 0 DOT 5 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA eturn_sequences EQUAL True COMMA  dropout_U EQUAL 0 DOT 5 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout_U EQUAL 0 DOT 5 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def prepare_conv_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 1 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA eturn_sequences EQUAL True COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 1 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT filters EQUAL 1 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  COMMA adding EQUAL  QUOTMARK  COMMA  data_format EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def prepare_attention PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_units  EQUAL  32 DOM
        lstm_out COMMA  state_h COMMA  state_c  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        state_c  EQUAL  RepeatVector PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_out  EQUAL  merge PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        lstm_out  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention_mul  EQUAL  attention_3d_block PARELEFT  PARERIGHT  DOM
    attention_mul2  EQUAL  attention_3d_block PARELEFT  PARERIGHT  DOM
    attention_mul2 EQUAL  Lambda PARELEFT lambda x COLON  K DOT sum PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def attention_3d_block PARELEFT  PARERIGHT  COLON  DOM
    input_dim  EQUAL  int PARELEFT  PARERIGHT  DOM
    a  EQUAL  Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    a  EQUAL  Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    if full_attention COLON  DOM
        a  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    a  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    a_probs  EQUAL  Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output_attention_mul  EQUAL  multiply PARELEFT  PARERIGHT  DOM
    return output_attention_mul DOM
def discriminator PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def adversarial PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    discriminator DOT trainable  EQUAL  False DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def generator PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    noise_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def build_and_run_model PARELEFT  PARERIGHT  COLON  DOM
    with tf DOT Graph PARELEFT  PARERIGHT  DOT as_default PARELEFT  PARERIGHT  COLON  DOM
        net  EQUAL  tflearn DOT input_data PARELEFT  PARERIGHT  DOM
        net  EQUAL  tflearn DOT lstm PARELEFT  PARERIGHT  DOM
        net  EQUAL  tflearn DOT dropout PARELEFT  PARERIGHT  DOM
        net  EQUAL  tflearn DOT lstm PARELEFT  PARERIGHT  DOM
        net  EQUAL  tflearn DOT dropout PARELEFT  PARERIGHT  DOM
        net  EQUAL  tflearn DOT lstm PARELEFT  PARERIGHT  DOM
        net  EQUAL  tflearn DOT fully_connected PARELEFT  PARERIGHT  DOM
        net  EQUAL  tflearn DOT regression PARELEFT  PARERIGHT  DOM
        model  EQUAL  tflearn DOT DNN PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
from  keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from DataCreateHelper import DataCreate DOM
class Models COLON  DOM
    def StackedLSTM PARELEFT  PARERIGHT  COLON  DOM
        model EQUAL Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            model DOT fit PARELEFT  PARERIGHT  DOM
        loss EQUAL model DOT evaluate PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    def VanillaLSTM PARELEFT  PARERIGHT  COLON  DOM
      mainmodel EQUAL Sequential PARELEFT  PARERIGHT  DOM
      mainmodel DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
      mainmodel DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
      mainmodel DOT compile PARELEFT  PARERIGHT  DOM
      print PARELEFT mainmodel DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
      for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
          mainmodel DOT fit PARELEFT  PARERIGHT  DOM
      mydatacraete EQUAL DataCreate PARELEFT  PARERIGHT  DOM
      loss EQUAL mainmodel DOT evaluate PARELEFT  PARERIGHT  DOM
      print PARELEFT  PARERIGHT  DOM
      yhat EQUAL mainmodel DOT predict PARELEFT X_predict[] DOT reshape PARELEFT  PARERIGHT  PARERIGHT  DOM
      print PARELEFT  QUOTMARK  COMMA mydatacraete DOT decode_vanillaLSTM PARELEFT y_predict[] DOT reshape PARELEFT  PARERIGHT  COMMA tuple PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      print PARELEFT  QUOTMARK  COMMA mydatacraete DOT decode_vanillaLSTM PARELEFT yhat COMMA tuple PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if __name__ EQUAL  EQUAL  QUOTMARK  COLON  DOM
        import keras DOM
        import tensorflow DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT from __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT metrics import  PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  2000 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader1  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list1  EQUAL  list PARELEFT  PARERIGHT  DOM
testX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y1  EQUAL  testdata DOT iloc[] DOM
y_test1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  2000 DOM
testX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  5 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
import os DOM
for file in os DOT listdir PARELEFT  PARERIGHT  COLON  DOM
  model DOT load_weights PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  y_pred  EQUAL  model DOT predict_classes PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  accuracy  EQUAL  accuracy_score PARELEFT  PARERIGHT  DOM
  recall  EQUAL  recall_score PARELEFT  PARERIGHT  DOM
  precision  EQUAL  precision_score PARELEFT  PARERIGHT  DOM
  f1  EQUAL  f1_score PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT import os DOM
os DOT environ[]  EQUAL   QUOTMARK  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Dropout COMMA  LSTM COMMA  Bidirectional DOM
from keras DOT layers DOT convolutional import MaxPooling1D COMMA  Conv1D DOM
from keras DOT callbacks import EarlyStopping DOM
from keras DOT models import load_model DOM
import numpy as np DOM
import pandas as pd DOM
import functools DOM
from keras import backend as K DOM
import tensorflow as tf DOM
import Doc2Vec DOM
def as_keras_metric PARELEFT  PARERIGHT  COLON  DOM
    @functools DOT wraps PARELEFT  PARERIGHT  DOM
    def wrapper PARELEFT  PARERIGHT  COLON  DOM
        value COMMA  update_op  EQUAL  method PARELEFT  PARERIGHT  DOM
        K DOT get_session PARELEFT  PARERIGHT  DOT run PARELEFT tf DOT local_variables_initializer PARELEFT  PARERIGHT  PARERIGHT  DOM
        with tf DOT control_dependencies PARELEFT  PARERIGHT  COLON  DOM
            value  EQUAL  tf DOT identity PARELEFT  PARERIGHT  DOM
        return value DOM
    return wrapper DOM
def MyLSTM PARELEFT  PARERIGHT  COLON  DOM
    feature  EQUAL  700 DOM
    vec_size  EQUAL  300 DOM
    auc_roc  EQUAL  as_keras_metric PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA tivation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    model  EQUAL  MyLSTM PARELEFT  PARERIGHT  DOM
    trainData COMMA  trainLabel  EQUAL  Doc2Vec DOT LoadDataTrain PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  Doc2Vec DOT LoadDataTest PARELEFT  PARERIGHT  DOM
    Y_test  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    Doc2Vec DOT SaveResult PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
import numpy as np DOM
import time DOM
import csv DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA Merge DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
import copy DOM
data_dim  EQUAL  1 DOM
timesteps  EQUAL  13 DOM
model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm_hidden_size  EQUAL  [] DOM
drop_out_rate  EQUAL  [] DOM
model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
in_dimension  EQUAL  3; DOM
nn_hidden_size  EQUAL  [] DOM
nn_drop_rate  EQUAL  [] DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT compile PARELEFT  PARERIGHT  DOM
from keras DOT utils DOT visualize_util import plot COMMA  to_graph DOM
graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
graph DOT write_png PARELEFT  PARERIGHT import glob DOM
import subprocess DOM
import json DOM
import re DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras import metrics DOM
from sklearn DOT metrics import precision_recall_fscore_support DOM
from sklearn DOT metrics import f1_score DOM
from sklearn DOT metrics import precision_score DOM
from sklearn DOT metrics import recall_score DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Embedding  COMMA  Merge COMMA RepeatVector DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU COMMA  TimeDistributed DOM
from keras DOT datasets import imdb DOM
from keras DOT layers DOT core import Reshape DOM
from keras DOT optimizers import SGD COMMA  Adam COMMA  RMSprop DOM
from sklearn DOT metrics import confusion_matrix DOM
from sklearn DOT model_selection import StratifiedKFold DOM
seed EQUAL 7 DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
def RLSTM PARELEFT  PARERIGHT  COLON  DOM
        xtrain EQUAL [] DOM
        ytrain EQUAL [] DOM
        xtest EQUAL [] DOM
        ytest EQUAL [] DOM
        X_train  EQUAL  np DOT loadtxt PARELEFT  PARERIGHT  DOM
        Y_train  EQUAL  np DOT loadtxt PARELEFT  PARERIGHT  DOM
        Y_train  EQUAL  Y_train DOT reshape PARELEFT  PARERIGHT  DOM
        X_test  EQUAL  X_train DOM
        Y_test  EQUAL  Y_train DOM
        X_train  EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOM
        Y_train  EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 1 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT fit PARELEFT  PARERIGHT  DOM
        score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
        model DOT save PARELEFT  PARERIGHT  DOM
        Y_result EQUAL model DOT predict PARELEFT  PARERIGHT  DOM
        for num in range PARELEFT 0 COMMA len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            for s in range PARELEFT 0 COMMA len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
                for u in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
                    print PARELEFT  int PARELEFT round PARELEFT  PARERIGHT  PARERIGHT   PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
RLSTM PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  LSTM COMMA  Activation COMMA  Dropout COMMA  Embedding COMMA  Bidirectional COMMA  GlobalMaxPool1D DOM
from keras DOT optimizers import RMSprop DOM
class BiLSTM PARELEFT  PARERIGHT  COLON  DOM
	def create_model PARELEFT  PARERIGHT  COLON  DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		return model DOM
class BiLSTMv2 PARELEFT  PARERIGHT  COLON  DOM
	def create_model PARELEFT  PARERIGHT  COLON  DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		return model DOM
class CSTM PARELEFT  PARERIGHT  COLON   DOM
	def create_model PARELEFT  PARERIGHT  COLON  DOM
		wv  EQUAL  vectors DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
	import pickle as pkl DOM
	from keras DOT preprocessing DOT text import Tokenizer DOM
	from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT layers import Dense COMMA  Flatten COMMA  Dropout COMMA  ZeroPadding3D DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT convolutional import MaxPooling3D COMMA  Conv3D DOM
from keras DOT models import model_from_yaml DOM
from collections import deque DOM
import sys DOM
from keras DOT preprocessing import image DOM
import numpy as np DOM
from dataSetModel import DataSetModel COMMA  GetArrayFromImage DOM
from keras DOT applications DOT inception_v3 import InceptionV3 COMMA  preprocess_input DOM
from keras DOT layers import Reshape DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
class Model PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT featureQueue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        self DOT sequenseLength  EQUAL  sequenseLength DOM
        self DOT savedModel  EQUAL  savedModel DOM
        self DOT classesNumber  EQUAL  classesNumber DOM
        self DOT featuresLength  EQUAL  featuresLength DOM
        if self DOT savedModel is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif modelName  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT shapeOfInput  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT Conv3DModelCreate PARELEFT  PARERIGHT  DOM
        elif modelName  EQUAL  EQUAL   QUOTMARK   COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT shapeOfInput  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT LSTMModelCreate PARELEFT  PARERIGHT  DOM
        elif modelName  EQUAL  EQUAL   QUOTMARK   COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT shapeOfInputConv3d  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT shapeOfInputLSTM  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT Conv3dBLSTM PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        if self DOT classesNumber > EQUAL  10 COLON  DOM
            metrics DOT append PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def Conv3DModelCreate PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from process_data import * DOM
from time import time DOM
def base_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def multilayer_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def generate PARELEFT  PARERIGHT  COLON  DOM
        exp_pdf  EQUAL  np DOT exp PARELEFT np DOT log PARELEFT  PARERIGHT  / temp PARERIGHT  DOM
        return np DOT random DOT choice PARELEFT np DOT arange PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COMMA  p EQUAL np DOT array PARELEFT  PARERIGHT  / np DOT sum PARELEFT  PARERIGHT  PARERIGHT  DOM
    gen  EQUAL  [] DOM
    window  EQUAL  len PARELEFT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        prev  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        gen DOT append PARELEFT int_to_onehot PARELEFT sample PARELEFT model DOT predict PARELEFT  PARERIGHT [] PARERIGHT  COMMA  128 PARERIGHT  PARERIGHT  DOM
    return  QUOTMARK  DOT join PARELEFT [] PARERIGHT  DOM
def perplexity PARELEFT  PARERIGHT  COLON  DOM
    return np DOT prod PARELEFT P **  PARELEFT -1 / len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
X COMMA  Y  EQUAL  character_onehot PARELEFT  PARERIGHT  DOM
X_test COMMA  Y_test  EQUAL  character_onehot PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  DOM
bs  EQUAL  100 DOM
start  EQUAL  time PARELEFT  PARERIGHT  DOM
character_model  EQUAL  multilayer_model PARELEFT 100 COMMA  np DOT shape PARELEFT  PARERIGHT  COMMA  128 PARERIGHT  DOM
character_model DOT fit PARELEFT  PARERIGHT  DOM
end  EQUAL  time PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  perplexity PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  perplexity PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
seed  EQUAL   QUOTMARK  DOM
temps  EQUAL  [] DOM
print PARELEFT  PARERIGHT  DOM
for t in temps COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT generate PARELEFT  PARERIGHT  PARERIGHT  DOM
from configs DOT data_config import * DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D DOM
def create_model_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    if embedding_trainable COLON  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_model_cnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dropout COMMA  Dense COMMA  Activation COMMA  Input COMMA  Embedding DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT models import load_model DOM
from keras DOT layers DOT merge import Average DOM
from keras DOT models import Model DOM
import os DOM
def M1_Embedding_128_256_relu PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  input_dim EQUAL num_inputs COMMA  output_dim EQUAL 512 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def M2_Embedding_32_64_relu PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  input_dim EQUAL num_inputs COMMA  output_dim EQUAL 512 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def M3_Embedding_32_64_64_64_relu PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  input_dim EQUAL num_inputs COMMA  output_dim EQUAL 512 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def M4_Embedding_256_512_relu PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  input_dim EQUAL num_inputs COMMA  output_dim EQUAL 512 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def M5_128 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def M6_128_256_relu PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def M7_128_256_relu_dropout PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def M8_M5_average_merge PARELEFT  PARERIGHT  COLON  DOM
    truncated_models_outputs  EQUAL  [] DOM
    models  EQUAL  [] DOM
    for model_file in os DOT listdir PARELEFT  PARERIGHT  COLON  DOM
        model_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
        current_model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        models DOT append PARELEFT  PARERIGHT  DOM
        current_model DOT pop PARELEFT  PARERIGHT  DOM
        truncated_models_outputs DOT append PARELEFT  PARERIGHT  DOM
    new_models  EQUAL  [] DOM
    input_layer  EQUAL  Input PARELEFT shape EQUAL  PARELEFT SEQUENCE_LENGTH-1 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    for model in models COLON  DOM
        model  EQUAL  model PARELEFT  PARERIGHT  DOM
        new_models DOT append PARELEFT  PARERIGHT  DOM
    output  EQUAL  Average PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model     DOM
MODELS  EQUAL  { QUOTMARK  COLON  M1_Embedding_128_256_relu COMMA  DOM
           QUOTMARK  COLON  M2_Embedding_32_64_relu COMMA  DOM
           QUOTMARK  COLON  M3_Embedding_32_64_64_64_relu COMMA  DOM
           QUOTMARK  COLON  M4_Embedding_256_512_relu COMMA  DOM
           QUOTMARK  COLON  M5_128 COMMA  DOM
           QUOTMARK  COLON  M6_128_256_relu COMMA  DOM
           QUOTMARK  COLON  M7_128_256_relu_dropout COMMA  DOM
           QUOTMARK  COLON  M8_M5_average_merge} DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  MODELS[] PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import GlobalAveragePooling1D COMMA  MaxPooling1D COMMA  Dense COMMA Dropout COMMA MaxPool1D COMMA  Conv1D COMMA  GlobalMaxPool1D COMMA  Activation COMMA  Bidirectional COMMA  LSTM COMMA  Input DOM
from keras import backend as K DOM
from keras DOT optimizers import Adam DOM
def precision PARELEFT  PARERIGHT  COLON  DOM
    predicted_positives  EQUAL  K DOT sum PARELEFT K DOT round PARELEFT K DOT clip PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    precision  EQUAL  true_positives /  PARELEFT predicted_positives + K DOT epsilon PARELEFT  PARERIGHT  PARERIGHT  DOM
    return precision DOM
def recall PARELEFT  PARERIGHT  COLON  DOM
    possible_positives  EQUAL  K DOT sum PARELEFT K DOT round PARELEFT K DOT clip PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    recall  EQUAL  true_positives /  PARELEFT possible_positives + K DOT epsilon PARELEFT  PARERIGHT  PARERIGHT  DOM
    return recall DOM
def mlpModel PARELEFT  PARERIGHT  COLON  DOM
    last_idx  EQUAL  len PARELEFT  PARERIGHT  - 1 DOM
    for  PARELEFT  PARERIGHT  in enumerate PARELEFT  PARERIGHT  COLON  DOM
        activation_name  EQUAL   QUOTMARK  DOM
        if idx  EQUAL  EQUAL  last_idx COLON  DOM
            activation_name  EQUAL   QUOTMARK  DOM
        if idx  EQUAL  EQUAL  0 COLON  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def convModel PARELEFT  PARERIGHT  COLON  DOM
    for  PARELEFT  PARERIGHT  in enumerate PARELEFT  PARERIGHT  COLON  DOM
        if isinstance PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT MaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            if i  EQUAL  EQUAL  0 COLON  DOM
                model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
            else COLON  DOM
                model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalMaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA etrics EQUAL [] COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def convLstmModel PARELEFT  PARERIGHT  COLON  DOM
    for  PARELEFT  PARERIGHT  in enumerate PARELEFT  PARERIGHT  COLON  DOM
        if isinstance PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT MaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            if i  EQUAL  EQUAL  0 COLON  DOM
                model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
            else COLON  DOM
                model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
    for  PARELEFT  PARERIGHT  in enumerate PARELEFT  PARERIGHT  COLON  DOM
        if i  EQUAL  EQUAL  len PARELEFT  PARERIGHT  - 1 COLON  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA etrics EQUAL [] COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def lstmHypnoModel PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA etrics EQUAL [] COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def convHypnoModel PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalMaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA etrics EQUAL [] COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Conv1D COMMA  GlobalAveragePooling1D COMMA  MaxPooling1D DOM
def properHypnoConv PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA etrics EQUAL [] COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def doubleHypnoConv PARELEFT  PARERIGHT  COLON  DOM
    main_input  EQUAL  Input PARELEFT  PARERIGHT  DOM
    x  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  GlobalAveragePooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output_hypno  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output_arousals  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA etrics EQUAL [] COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelimport keras   DOM
from keras DOT layers import LSTM   DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Input COMMA  Dropout COMMA  Activation DOM
from keras DOT datasets import mnist   DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT optimizers import Adam DOM
from keras DOT callbacks import TensorBoard DOM
learning_rate  EQUAL  0 DOT 001   DOM
training_iters  EQUAL  3   DOM
batch_size  EQUAL  128   DOM
display_step  EQUAL  10   DOM
n_input  EQUAL  28   DOM
n_step  EQUAL  28  DOM
n_hidden  EQUAL  128   DOM
n_classes  EQUAL  10   DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  mnist DOT load_data PARELEFT  PARERIGHT    DOM
x_train  EQUAL  x_train DOT reshape PARELEFT  PARERIGHT    DOM
x_test  EQUAL  x_test DOT reshape PARELEFT  PARERIGHT    DOM
x_train  EQUAL  x_train DOT astype PARELEFT  PARERIGHT  DOM
x_test  EQUAL  x_test DOT astype PARELEFT  PARERIGHT    DOM
x_train / EQUAL  255   DOM
x_test / EQUAL  255   DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT    DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT    DOM
inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
predictions  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
model  EQUAL  Model PARELEFT  PARERIGHT  DOM
adam  EQUAL  Adam PARELEFT  PARERIGHT    DOM
model DOT summary PARELEFT  PARERIGHT    DOM
model DOT compile PARELEFT  PARERIGHT    DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA   tch_size EQUAL batch_size COMMA   ochs EQUAL training_iters COMMA   rbose EQUAL 1 COMMA   alidation_data EQUAL  PARELEFT  PARERIGHT  COMMA llbacks EQUAL [] PARERIGHT    DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT    DOM
print PARELEFT  PARERIGHT    DOM
print PARELEFT  PARERIGHT import numpy as  np DOM
from keras import Input DOM
from keras DOT engine import Model DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Flatten COMMA  Dense COMMA  Dropout DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT optimizers import SGD DOM
from keras DOT optimizers import Adam COMMA  RMSprop COMMA  Adagrad DOM
from keras DOT layers import LSTM COMMA  Convolution1D COMMA  LeakyReLU COMMA  MaxPooling1D COMMA  UpSampling1D COMMA  Merge COMMA  Conv1D COMMA  concatenate DOM
from keras DOT utils DOT vis_utils import plot_model DOM
from keras DOT models import load_model DOM
import io DOM
import time DOM
t0  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 100 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
t1  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
tt  EQUAL  t1 - t0 DOM
print  QUOTMARK  + str PARELEFT  PARERIGHT  DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten COMMA  LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import Conv1D COMMA  MaxPooling1D DOM
from sklearn DOT metrics import accuracy_score DOM
import numpy as np DOM
import itertools DOM
from scipy DOT signal import butter COMMA  lfilter DOM
def butter_bandpass PARELEFT  PARERIGHT  COLON  DOM
	nyq  EQUAL  0 DOT 5 * fs DOM
	low  EQUAL  lowcut / nyq DOM
	b COMMA  a  EQUAL  butter PARELEFT  PARERIGHT  DOM
	return b COMMA  a DOM
def butter_bandpass_filter PARELEFT  PARERIGHT  COLON  DOM
	b COMMA  a  EQUAL  butter_bandpass PARELEFT  PARERIGHT  DOM
	y  EQUAL  lfilter PARELEFT  PARERIGHT  DOM
	return y DOM
def conv_classifier PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Conv1D PARELEFT filters EQUAL filters COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  kernel_size EQUAL kernel_size COMMA  dilation_rate EQUAL dilation_rate PARERIGHT   PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT      DOM
	model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	summary  EQUAL  model DOT summary PARELEFT  PARERIGHT  DOM
	return model COMMA  summary DOM
def hybrid_classifier PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Conv1D PARELEFT filters EQUAL filters COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  kernel_size EQUAL kernel_size PARERIGHT   PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT      DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	summary  EQUAL  model DOT summary PARELEFT  PARERIGHT  DOM
	return model COMMA  summary DOM
def lstm_classifier PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units  EQUAL  100 COMMA  return_sequences EQUAL True COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   PARERIGHT   PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    summary  EQUAL  model DOT summary PARELEFT  PARERIGHT  DOM
    return model COMMA  summary DOM
def expandgrid PARELEFT  PARERIGHT  COLON  DOM
	product  EQUAL  list PARELEFT itertools DOT product PARELEFT  PARERIGHT  PARERIGHT  DOM
	return product DOM
def evaluate PARELEFT  PARERIGHT  COLON  DOM
    Y_pred  EQUAL  [] DOM
    freq_tab  EQUAL  [] DOM
    for example in X COLON  DOM
        predic  EQUAL  classifier DOT predict PARELEFT  PARERIGHT  DOM
        b_count  EQUAL  np DOT bincount PARELEFT  PARERIGHT  DOM
        Y_pred DOT append PARELEFT np DOT argmax PARELEFT  PARERIGHT  PARERIGHT  DOM
        n_zero  EQUAL  np DOT nonzero PARELEFT  PARERIGHT [] DOM
        freq_tab DOT append PARELEFT list PARELEFT zip PARELEFT  PARERIGHT  PARERIGHT   PARERIGHT  DOM
    score  EQUAL  accuracy_score PARELEFT  PARERIGHT    DOM
    return score  COMMA  freq_tab   from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Input DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
import numpy as np DOM
import keras DOT preprocessing DOT text as prep DOM
import keras DOT preprocessing DOT sequence as seq DOM
from keras import backend as K DOM
import  sklearn DOT cluster as clu DOM
from matplotlib import pyplot as plt DOM
from keras DOT utils DOT visualize_util import plot DOM
text EQUAL file DOT readlines PARELEFT  PARERIGHT  DOM
toknizer EQUAL prep DOT Tokenizer PARELEFT  PARERIGHT  DOM
toknizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
data EQUAL toknizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
data EQUAL np DOT asanyarray PARELEFT  PARERIGHT  DOM
maxlen EQUAL [] DOM
maxlen EQUAL maxlen[] DOM
print toknizer DOT word_index DOM
print toknizer DOT word_counts DOM
vocabSize EQUAL toknizer DOT word_index DOT __len__ PARELEFT  PARERIGHT  DOM
print maxlen DOM
data EQUAL seq DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train EQUAL data DOM
Y_train EQUAL np DOT eye PARELEFT data DOT __len__ PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT data DOT __len__ PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
get_lstm_layer_output  EQUAL  K DOT function PARELEFT [] DOT input] COMMA [] PARERIGHT  DOM
y EQUAL model DOT predict PARELEFT  PARERIGHT  DOM
labels EQUAL [] DOM
print labels DOM
lstmout EQUAL get_lstm_layer_output PARELEFT  PARERIGHT [] DOM
print lstmout DOM
y_pred EQUAL kmeans DOT fit_predict PARELEFT  PARERIGHT  DOM
print y_pred DOM
saveFile EQUAL  QUOTMARK  DOM
w EQUAL open PARELEFT  PARERIGHT  DOM
tmp EQUAL [] DOM
for i COMMA v in enumerate PARELEFT  PARERIGHT  COLON  DOM
    tmp DOT append PARELEFT str PARELEFT  PARERIGHT + QUOTMARK +v PARERIGHT  DOM
tmp EQUAL sorted PARELEFT  PARERIGHT  DOM
for i in tmp COLON  DOM
    w DOT write PARELEFT  PARERIGHT from keras DOT models import Sequential COMMA Model DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT core import Reshape COMMA  Permute DOM
from keras DOT layers import Merge COMMA concatenate DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
import numpy as np DOM
def model_cnn_lstm_adam_binary PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL   QUOTMARK  DOM
    loss  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 4 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +inputShape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape  EQUAL  model DOT layers[] DOT output_shape DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape[] COMMA np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_cnn_lstm_adam_binary_dropout PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL   QUOTMARK  DOM
    loss  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 4 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +inputShape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape  EQUAL  model DOT layers[] DOT output_shape DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape[] COMMA np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_cnn_lstm_adam PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL   QUOTMARK  DOM
    loss  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 4 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +inputShape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape  EQUAL  model DOT layers[] DOT output_shape DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape[] COMMA np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_branched_cnn_mixed_lstm_binary PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_branched_cnn_mixed_lstm_regression PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
from keras DOT layers import Input DOM
def model_branched_cnn_mixed_lstm_binary_functional PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    input1  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  DOM
    input2  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    output1  EQUAL  branch1 PARELEFT  PARERIGHT  DOM
    output2  EQUAL  branch2 PARELEFT  PARERIGHT  DOM
    mergedInput  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_branched_cnn_mixed_lstm_regression_padding PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    input1  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  DOM
    input2  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape1  EQUAL  branch1 DOT layers[] DOT output_shape DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape1[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nPadTo  EQUAL  int PARELEFT np DOT ceil PARELEFT  PARERIGHT  * ntOut PARERIGHT  DOM
    nPadding  EQUAL   PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT ZeroPadding1D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    output1  EQUAL  branch1 PARELEFT  PARERIGHT  DOM
    output2  EQUAL  branch2 PARELEFT  PARERIGHT  DOM
    mergedInput  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
from keras DOT layers import ZeroPadding1D DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT core import Reshape COMMA  Permute DOM
from keras DOT layers import Merge COMMA  concatenate COMMA  BatchNormalization DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
def model_branched_cnn_mixed_lstm_regression_batchNorm PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    input1  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  DOM
    input2  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape1  EQUAL  branch1 DOT layers[] DOT output_shape DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape1[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nPadTo  EQUAL  int PARELEFT np DOT ceil PARELEFT  PARERIGHT  * ntOut PARERIGHT  DOM
    nPadding  EQUAL   PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT ZeroPadding1D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    output1  EQUAL  branch1 PARELEFT  PARERIGHT  DOM
    output2  EQUAL  branch2 PARELEFT  PARERIGHT  DOM
    mergedInput  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_branched_cnn_mixed_lstm_regression_functional PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    input1  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  DOM
    input2  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    output1  EQUAL  branch1 PARELEFT  PARERIGHT  DOM
    output2  EQUAL  branch2 PARELEFT  PARERIGHT  DOM
    mergedInput  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_cnn_cat_mixed_lstm_2predict PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL   QUOTMARK  DOM
    loss  EQUAL   QUOTMARK  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT 4 COMMA  1 COMMA  5 COMMA  border_mode EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT 4 COMMA  3 COMMA  5 COMMA  border_mode EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape  EQUAL  model DOT layers[] DOT output_shape DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT np DOT prod PARELEFT  PARERIGHT  COMMA  convOutShape[] PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  lossfrom keras DOT layers import Input COMMA  Dense DOM
from keras DOT models import Model DOM
from keras DOT layers import Flatten DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import GlobalMaxPool1D DOM
from keras DOT layers import Dropout DOM
from keras DOT models import Sequential  DOM
def LSTM_Classifier PARELEFT  PARERIGHT  COLON  DOM
    model EQUAL Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalMaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import pandas as pd DOM
from sklearn DOT cross_validation import train_test_split DOM
from sklearn DOT preprocessing import LabelEncoder DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT layers import Embedding DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
def LSTM_fakenews PARELEFT  PARERIGHT  COLON  DOM
    df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
    df  EQUAL  df DOT dropna PARELEFT  PARERIGHT  DOM
    X_body_text  EQUAL  df DOT text DOT values DOM
    X_headline_text  EQUAL  df DOT title DOT values DOM
    y  EQUAL  df DOT label DOT values DOM
    X_headline_train COMMA  X_headline_test COMMA  y_headline_train COMMA  y_headline_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
    X_body_train COMMA  X_body_test COMMA  y_body_train COMMA  y_body_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
    X_headline_list  EQUAL  list PARELEFT  PARERIGHT  DOM
    tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
    tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
    print PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
    l  EQUAL  len PARELEFT max PARELEFT sequences COMMA key  EQUAL  lambda  x  COLON  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    from keras DOT utils import to_categorical DOM
    y_train_LSTM  EQUAL  [] DOM
    y_test_LSTM  EQUAL  [] DOM
    for x in y_headline_train COLON  DOM
        if x  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            y_train_LSTM DOT append PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            y_train_LSTM DOT append PARELEFT  PARERIGHT  DOM
    for x in y_headline_test COLON  DOM
        if x  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            y_test_LSTM DOT append PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            y_test_LSTM DOT append PARELEFT  PARERIGHT  DOM
    y_train_LSTM  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    y_test_LSTM  EQUAL  to_categorical PARELEFT  PARERIGHT   DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    test  EQUAL  list PARELEFT  PARERIGHT  DOM
    print PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
    pad_test  EQUAL  pad_sequences PARELEFT  PARERIGHT   DOM
    scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    from keras DOT utils import to_categorical DOM
    y_train_LSTM  EQUAL  [] DOM
    y_test_LSTM  EQUAL  [] DOM
    for x in y_body_train COLON  DOM
        if x  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            y_train_LSTM DOT append PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            y_train_LSTM DOT append PARELEFT  PARERIGHT  DOM
    for x in y_body_test COLON  DOM
        if x  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            y_test_LSTM DOT append PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            y_test_LSTM DOT append PARELEFT  PARERIGHT  DOM
    y_train_LSTM  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    y_test_LSTM  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    X_body_list  EQUAL  list PARELEFT  PARERIGHT  DOM
    tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
    tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
    print PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
    l  EQUAL  len PARELEFT max PARELEFT sequences COMMA key  EQUAL  lambda  x  COLON  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    test  EQUAL  list PARELEFT  PARERIGHT  DOM
    print PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
    pad_test  EQUAL  pad_sequences PARELEFT  PARERIGHT   DOM
    scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
from datasets import Datasets DOM
import numpy as np DOM
from keras DOT layers DOT core import Dense COMMA  Merge COMMA  Dropout DOM
from keras DOT layers import recurrent DOM
from keras DOT models import Sequential DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
class Fit COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT W2V_DIM  EQUAL  w2v_dim DOM
        self DOT SENT_HIDDEN_SIZE  EQUAL  sent_hidden_size DOM
        self DOT QUERY_HIDDEN_SIZE  EQUAL  query_hidden_size DOM
        self DOT BATCH_SIZE  EQUAL  batch_size DOM
        self DOT EPOCHS  EQUAL  epochs DOM
        self DOT vocab_size  EQUAL  vocab_size DOM
        self DOT SENT_HIDDEN_SIZE2  EQUAL  sent_hidden_size2 DOM
        self DOT QUERY_HIDDEN_SIZE2  EQUAL  query_hidden_size2 DOM
        self DOT two_hidden_layers  EQUAL  two_hidden_layers DOM
        self DOT rs  EQUAL  rs DOM
        self DOT dropout  EQUAL  dropout DOM
        self DOT X  EQUAL  None DOM
        self DOT Xq  EQUAL  None DOM
        self DOT Y  EQUAL  None DOM
        self DOT answers  EQUAL  None DOM
    def compile_layers PARELEFT  PARERIGHT  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            RNN  EQUAL  self DOT model DOM
            sentrnn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            sentrnn DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
            sentrnn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            qrnn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            qrnn DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
            qrnn DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
            model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT compile PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  model DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            RNN  EQUAL  self DOT model DOM
            sentrnn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            sentrnn DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
            if self DOT dropout COLON  DOM
                sentrnn DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
            qrnn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            qrnn DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
            model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT compile PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  model DOM
    def run PARELEFT  PARERIGHT  COLON  DOM
        self DOT X  EQUAL  X DOM
        self DOT Xq  EQUAL  Xq DOM
        self DOT Y  EQUAL  Y DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
    def score PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        return acc DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    passfrom __future__ import print_function DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Embedding DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU DOM
from keras DOT datasets import imdb DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT metrics import  PARELEFT  PARERIGHT  DOM
from sklearn import metrics DOM
from sklearn DOT preprocessing import Normalizer DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
X  EQUAL  traindata DOT iloc[] DOM
Y  EQUAL  traindata DOT iloc[] DOM
C  EQUAL  testdata DOT iloc[] DOM
T  EQUAL  testdata DOT iloc[] DOM
scaler  EQUAL  Normalizer PARELEFT  PARERIGHT  DOT fit PARELEFT  PARERIGHT  DOM
trainX  EQUAL  scaler DOT transform PARELEFT  PARERIGHT  DOM
np DOT set_printoptions PARELEFT  PARERIGHT  DOM
scaler  EQUAL  Normalizer PARELEFT  PARERIGHT  DOT fit PARELEFT  PARERIGHT  DOM
testT  EQUAL  scaler DOT transform PARELEFT  PARERIGHT  DOM
np DOT set_printoptions PARELEFT  PARERIGHT  DOM
y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testT COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
csv_logger  EQUAL  CSVLogger PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL 1000 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA callbacks EQUAL [] PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  DOM
from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from absl DOT testing import parameterized DOM
import numpy as np DOM
from tensorflow DOT python import keras DOM
from tensorflow DOT python DOT eager import context DOM
from tensorflow DOT python DOT keras import keras_parameterized DOM
from tensorflow DOT python DOT keras import testing_utils DOM
from tensorflow DOT python DOT platform import test DOM
from tensorflow DOT python DOT training import adam DOM
from tensorflow DOT python DOT training import gradient_descent DOM
@keras_parameterized DOT run_all_keras_modes DOM
class LSTMLayerTest PARELEFT  PARERIGHT  COLON  DOM
  def test_return_sequences_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA return_sequences' COLON  True} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_static_shape_inference_LSTM PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  keras DOT layers DOT Dense PARELEFT embedding_dim COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  model DOT layers[] DOT output DOM
    self DOT assertEqual PARELEFT outputs DOT shape DOT as_list PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
  def test_dynamic_behavior_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT msprop QUOTMARK mse' COMMA  run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    x  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_dropout_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA dropout QUOTMARK  COLON  0 DOT 1} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  @parameterized DOT parameters PARELEFT  PARERIGHT  DOM
  def test_implementation_mode_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA implementation' COLON  implementation_mode} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_constraints_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    k_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    r_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    b_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL k_constraint COMMA recurrent_constraint EQUAL r_constraint COMMA bias_constraint EQUAL b_constraint PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
  def test_with_masking_layer_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layer_class PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL  QUOTMARK  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_masking_with_stacking_LSTM PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_cells  EQUAL  [] DOM
    model DOT add PARELEFT keras DOT layers DOT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL  QUOTMARK  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_from_config_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    for stateful in  PARELEFT  PARERIGHT  COLON  DOM
      l1  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      l2  EQUAL  layer_class DOT from_config PARELEFT l1 DOT get_config PARELEFT  PARERIGHT  PARERIGHT  DOM
      assert l1 DOT get_config PARELEFT  PARERIGHT   EQUAL  EQUAL  l2 DOT get_config PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    else COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_non_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [keras DOT backend DOT random_normal_variable PARELEFT  PARERIGHT  COMMA  0 COMMA  1 PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_reset_states_with_values PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    assert layer DOT states[] is not None DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT zeros PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    state_shapes  EQUAL  [] DOM
    values  EQUAL  [] DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      values  EQUAL  values[] DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT ones PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    with self DOT assertRaises PARELEFT  PARERIGHT  COLON  DOM
      layer DOT reset_states PARELEFT [] *  PARELEFT len PARELEFT  PARERIGHT  + 1 PARERIGHT  PARERIGHT  DOM
  def test_specify_state_with_masking PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    _  EQUAL  keras DOT layers DOT Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL  QUOTMARK  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_return_state PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    state  EQUAL  outputs[] DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    state  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA  state COMMA  atol EQUAL 1e-4 PARERIGHT  DOM
  def test_state_reuse PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    output COMMA  state  EQUAL  outputs[] COMMA  outputs[] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    outputs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  def test_initial_states_as_other_inputs PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    num_states  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    main_inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    inputs  EQUAL  [] + initial_state DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    main_inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_regularizers_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL  QUOTMARK  COMMA activity_regularizer EQUAL  QUOTMARK  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  3 PARERIGHT  DOM
    x  EQUAL  keras DOT backend DOT variable PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    layer PARELEFT  PARERIGHT  DOM
    if context DOT executing_eagerly PARELEFT  PARERIGHT  COLON  DOM
      self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  4 PARERIGHT  DOM
    else COLON  DOM
      self DOT assertEqual PARELEFT len PARELEFT layer DOT get_losses_for PARELEFT  PARERIGHT  PARERIGHT  COMMA  1 PARERIGHT  DOM
  def test_statefulness_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT 4 COMMA embedding_dim COMMA mask_zero EQUAL True COMMA input_length EQUAL timesteps COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT optimizer EQUAL gradient_descent DOT GradientDescentOptimizer PARELEFT  PARERIGHT  COMMA oss EQUAL  QUOTMARK  COMMA  run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    out1  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT out1 DOT shape COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    out2  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out1 DOT max PARELEFT  PARERIGHT  COMMA  out2 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    out3  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out2 DOT max PARELEFT  PARERIGHT  COMMA  out3 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT reset_states PARELEFT  PARERIGHT  DOM
    out4  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT  PARERIGHT  DOM
    out5  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out4 DOT max PARELEFT  PARERIGHT  COMMA  out5 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    left_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    left_padded_input[]  EQUAL  0 DOM
    left_padded_input[]  EQUAL  0 DOM
    out6  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    right_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    right_padded_input[]  EQUAL  0 DOM
    right_padded_input[]  EQUAL  0 DOM
    out7  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  test DOT main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
import numpy as np DOM
max_features  EQUAL  1000 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
data_dim  EQUAL  16 DOM
timesteps  EQUAL  8 DOM
num_classes  EQUAL  10 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
x_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA 	batch_size EQUAL 64 COMMA  epochs EQUAL 5 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
data_dim  EQUAL  16 DOM
timesteps  EQUAL  8 DOM
num_classes  EQUAL  10 DOM
batch_size  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 32 COMMA  return_sequences EQUAL True COMMA  stateful EQUAL True COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
x_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA  epochs EQUAL 5 COMMA  shuffle EQUAL False COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import keras DOT models DOM
from keras DOT layers import Dense DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT constraints import maxnorm COMMA  non_neg DOM
def singlevar_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def baseline_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dropout PARELEFT dropout COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def medium_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dropout PARELEFT dropout COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 11 COMMA  input_dim EQUAL nvars COMMA  kernel_initializer EQUAL init COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 16 COMMA  kernel_initializer EQUAL init COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def medium2_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dropout PARELEFT dropout COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 32 COMMA  input_dim EQUAL 12 COMMA  kernel_initializer EQUAL init COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 32 COMMA  kernel_initializer EQUAL init COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def two_var_medium_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dense PARELEFT 32 COMMA  input_dim EQUAL 2 COMMA  kernel_initializer EQUAL init COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def xlarge_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dropout PARELEFT dropout COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 16 COMMA   kernel_initializer EQUAL init COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 16 COMMA  kernel_initializer EQUAL init COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 16 COMMA  kernel_initializer EQUAL init COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT neurons COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL False COMMA  return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelSource COLON  https COLON //machinelearningmastery DOT com/text-generation-lstm-recurrent-neural-networks-python-keras/ DOM
import numpy DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
filename  EQUAL   QUOTMARK  DOM
raw_text  EQUAL  open PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  DOM
raw_text  EQUAL  raw_text DOT lower PARELEFT  PARERIGHT  DOM
chars  EQUAL  sorted PARELEFT list PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
char_to_int  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
n_chars  EQUAL  len PARELEFT  PARERIGHT  DOM
n_vocab  EQUAL  len PARELEFT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
seq_length  EQUAL  100 DOM
dataX  EQUAL  [] DOM
dataY  EQUAL  [] DOM
for i in range PARELEFT  PARERIGHT  COLON  DOM
	seq_in  EQUAL  raw_text[] DOM
	seq_out  EQUAL  raw_text[] DOM
	dataX DOT append PARELEFT  PARERIGHT  DOM
	dataY DOT append PARELEFT  PARERIGHT  DOM
n_patterns  EQUAL  len PARELEFT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
X  EQUAL  numpy DOT reshape PARELEFT dataX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
X DOT shape DOM
X  EQUAL  X / float PARELEFT  PARERIGHT  DOM
y  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
filepath EQUAL  QUOTMARK  DOM
checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
callbacks_list  EQUAL  [] DOM
model DOT fit PARELEFT  PARERIGHT  DOM
import sys DOM
import numpy DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
filename  EQUAL   QUOTMARK  DOM
raw_text  EQUAL  open PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  DOM
raw_text  EQUAL  raw_text DOT lower PARELEFT  PARERIGHT  DOM
chars  EQUAL  sorted PARELEFT list PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
char_to_int  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
int_to_char  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
n_chars  EQUAL  len PARELEFT  PARERIGHT  DOM
n_vocab  EQUAL  len PARELEFT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
seq_length  EQUAL  100 DOM
dataX  EQUAL  [] DOM
dataY  EQUAL  [] DOM
for i in range PARELEFT  PARERIGHT  COLON  DOM
	seq_in  EQUAL  raw_text[] DOM
	seq_out  EQUAL  raw_text[] DOM
	dataX DOT append PARELEFT  PARERIGHT  DOM
	dataY DOT append PARELEFT  PARERIGHT  DOM
n_patterns  EQUAL  len PARELEFT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
X  EQUAL  numpy DOT reshape PARELEFT dataX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
X  EQUAL  X / float PARELEFT  PARERIGHT  DOM
y  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
filename  EQUAL   QUOTMARK  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
start  EQUAL  numpy DOT random DOT randint PARELEFT 0 COMMA  len PARELEFT  PARERIGHT -1 PARERIGHT  DOM
pattern  EQUAL  dataX[] DOM
print  QUOTMARK  DOM
print  QUOTMARK  QUOTMARK  QUOTMARK \ QUOTMARK  DOM
for i in range PARELEFT  PARERIGHT  COLON  DOM
	x  EQUAL  numpy DOT reshape PARELEFT pattern COMMA   PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
	x  EQUAL  x / float PARELEFT  PARERIGHT  DOM
	prediction  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
	index  EQUAL  numpy DOT argmax PARELEFT  PARERIGHT  DOM
	result  EQUAL  int_to_char[] DOM
	seq_in  EQUAL  [] for value in pattern] DOM
	sys DOT stdout DOT write PARELEFT  PARERIGHT  DOM
	pattern DOT append PARELEFT  PARERIGHT  DOM
	pattern  EQUAL  pattern[] DOM
print  QUOTMARK  DOM
import numpy as np  DOM
import tensorflow as tf  DOM
import tensorflow DOT keras DOT layers as layers  DOM
from AutoconLayer import AutoconLayer DOM
def get_bartimaeus PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  tf DOT keras DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT dense_units COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL tf DOT keras DOT initializers DOT lecun_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_rnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  tf DOT keras DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT dense_units COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL tf DOT keras DOT initializers DOT lecun_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_dwarf PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  tf DOT keras DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_nathanael PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  tf DOT keras DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_ptolemaeus PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  tf DOT keras DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_grindelwald PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  tf DOT keras DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT 64 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL tf DOT keras DOT initializers DOT he_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_autoconceptor PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  tf DOT keras DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT AutoconLayer PARELEFT  PARERIGHT  PARERIGHT   DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom __future__ import print_function COMMA  division DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT recurrent import SimpleRNN COMMA  LSTM DOM
from keras DOT layers DOT noise import GaussianDropout DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
import theano DOM
import theano DOT tensor as T DOM
def build_feed_forward PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_train_rnn_mse PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_test_rnn_mse PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_simple_rnn_stateful PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT dh COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_rnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_train_lstm_mse PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_test_lstm_mse PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        print PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_lstm_stateful PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT dh COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_train_lstm_softmax PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_test_lstm_softmax PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_lstm_stateful_softmax PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT dh COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_lstm_dropout_stateful_softmax PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT dh COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT dh COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_train_stacked_lstm_dropout_softmax PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_test_stacked_lstm_dropout_softmax PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_train_stacked_lstm_dropout_mse PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_test_stacked_lstm_dropout_mse PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_lstm_mse_stateful PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT dh COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT do COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_lstm_mse_stateful_dropout PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT dh COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT do COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_lstm_regularized PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_lstm_regularized_dropout PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_lstm_regularized_dropout_batchnorm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def build_overkill_stacked_lstm_regularized_dropout PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def last_mse PARELEFT  PARERIGHT  COLON  DOM
    yt  EQUAL  y_true[] DOM
    yp  EQUAL  y_pred[] DOM
    se  EQUAL  T DOT mean PARELEFT T DOT square PARELEFT  PARERIGHT  COMMA  axis EQUAL -1 PARERIGHT  DOM
    return se DOM
def get_hidden PARELEFT  PARERIGHT  COLON  DOM
    get_activations  EQUAL  theano DOT function PARELEFT  PARERIGHT  DOM
    return get_activations DOM
def build_softmax_rnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    if weights is not None COLON  DOM
        model DOT set_weights PARELEFT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    dummy_params  EQUAL  10 COMMA  15 COMMA  5 COMMA  0 COMMA  None DOM
    build_lstm PARELEFT  PARERIGHT  DOM
    build_simple_rnn PARELEFT  PARERIGHT  DOM
    build_softmax_rnn PARELEFT  PARERIGHT  DOM
    build_stacked_lstm_dropout PARELEFT  PARERIGHT import keras DOM
from keras DOT models import Sequential COMMA  save_model DOM
from keras DOT layers import LSTM DOM
import keras DOT backend as K DOM
base_path  EQUAL   QUOTMARK  DOM
backend  EQUAL  K DOT backend PARELEFT  PARERIGHT  DOM
version  EQUAL  keras DOT __version__ DOM
major_version  EQUAL  int PARELEFT  PARERIGHT  DOM
n_in  EQUAL  4 DOM
n_out  EQUAL  6 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT n_out COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT save PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Embedding COMMA  LSTM COMMA  Dense COMMA  Dropout COMMA  Bidirectional COMMA  TimeDistributed COMMA  Activation COMMA  Convolution1D COMMA  MaxPool1D DOM
from keras DOT models import Model DOM
from keras DOT preprocessing import sequence DOM
use_dropout  EQUAL  True DOM
def LSTM_Model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def LSTM2Layer_Model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def BiLSTM_Model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def CLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def CBiLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    CBiLSTM PARELEFT  PARERIGHT import os DOM
global_model_version  EQUAL  40 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  59 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import numpy as np  DOM
from keras DOT preprocessing DOT text import one_hot DOM
from keras_preprocessing import sequence DOM
from keras import Sequential DOM
from keras DOT models import load_model DOM
from keras DOT layers import Embedding COMMA  LSTM COMMA  Dense COMMA  Dropout DOM
import matplotlib DOT pyplot as plt  DOM
import sys DOM
negative  EQUAL  open PARELEFT  PARERIGHT  DOT readlines PARELEFT  PARERIGHT  DOM
positive  EQUAL  open PARELEFT  PARERIGHT  DOT readlines PARELEFT  PARERIGHT  DOM
temp  EQUAL  [] DOM
for line in negative COLON  DOM
    temp DOT append PARELEFT line DOT strip PARELEFT  PARERIGHT  PARERIGHT  DOM
negative  EQUAL  temp DOT copy PARELEFT  PARERIGHT  DOM
temp  EQUAL  [] DOM
for line in positive COLON  DOM
    temp DOT append PARELEFT line DOT strip PARELEFT  PARERIGHT  PARERIGHT  DOM
positive  EQUAL  temp DOT copy PARELEFT  PARERIGHT  DOM
positive  EQUAL  [] DOM
negative  EQUAL  [] DOM
negative_vocab  EQUAL  len PARELEFT sorted PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
positive_vocab  EQUAL  len PARELEFT sorted PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
vocab  EQUAL  len PARELEFT sorted PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
encoded_negative  EQUAL  [] DOM
encoded_positive  EQUAL  [] DOM
x_train  EQUAL  encoded_positive[] + encoded_negative[] DOM
x_test  EQUAL  encoded_positive[] + encoded_negative[] DOM
y_train  EQUAL  [] * 7000 + [] * 7000 DOM
y_test  EQUAL  [] * 2926 + [] * 2704 DOM
max_review_length  EQUAL  350 DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
if len PARELEFT  PARERIGHT  < EQUAL  1 COLON  DOM
    embedding_vector_length  EQUAL  32 DOM
    dropout_rate  EQUAL  0 DOT 2 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
    model DOT save_weights PARELEFT  PARERIGHT  DOM
    del model DOM
    model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
    model DOT load_weights PARELEFT  PARERIGHT  DOM
    scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    bad  EQUAL   QUOTMARK  DOM
    good  EQUAL   QUOTMARK  DOM
    bad_  EQUAL  one_hot PARELEFT  PARERIGHT  DOM
    good_  EQUAL  one_hot PARELEFT  PARERIGHT  DOM
    bad_encoded  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    good_encoded  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    print PARELEFT bad COMMA   QUOTMARK  COMMA  model DOT predict PARELEFT np DOT array PARELEFT  PARERIGHT  PARERIGHT [][] PARERIGHT  DOM
    print PARELEFT good COMMA   QUOTMARK  COMMA  model DOT predict PARELEFT np DOT array PARELEFT  PARERIGHT  PARERIGHT [][] PARERIGHT from keras DOT layers import Dense COMMA  Dropout COMMA  LSTM COMMA  Bidirectional DOM
from keras import optimizers DOM
import numpy as np DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT ensemble import BaggingClassifier COMMA  RandomForestClassifier COMMA  \ DOM
    ExtraTreesClassifier COMMA  AdaBoostClassifier COMMA  GradientBoostingClassifier COMMA  \ DOM
    VotingClassifier DOM
from sklearn DOT naive_bayes import GaussianNB DOM
from sklearn DOT linear_model import LogisticRegression DOM
from mlxtend DOT classifier import StackingCVClassifier DOM
 QUOTMARK  DOM
def create_ffNN PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    adam  EQUAL  optimizers DOT Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_LSTM PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_biLSTM PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def feedforward_models PARELEFT  PARERIGHT  COLON  DOM
         QUOTMARK  COLON  KerasClassifier PARELEFT  PARERIGHT  DOM
    } DOM
    params  EQUAL  { DOM
         QUOTMARK  COLON  { QUOTMARK  COLON  [] COMMA  DOM
                  QUOTMARK  COLON  [] COMMA  DOM
                  QUOTMARK  COLON  []} DOM
    } DOM
    return  PARELEFT  PARERIGHT  DOM
def recurrent_models PARELEFT  PARERIGHT  COLON  DOM
         QUOTMARK  COLON  KerasClassifier PARELEFT  PARERIGHT  COMMA  DOM
         QUOTMARK  COLON  KerasClassifier PARELEFT  PARERIGHT  DOM
    } DOM
    params  EQUAL  { DOM
         QUOTMARK  COLON  { QUOTMARK  COLON  [] COMMA  DOM
                  QUOTMARK  COLON  []} COMMA  DOM
         QUOTMARK  COLON  { QUOTMARK  COLON  [] COMMA  DOM
                    QUOTMARK  COLON  []} DOM
    } DOM
    return  PARELEFT  PARERIGHT  DOM
def ensemble_models PARELEFT  PARERIGHT  COLON  DOM
         QUOTMARK  COLON  BaggingClassifier PARELEFT  PARERIGHT  COMMA  DOM
         QUOTMARK  COLON  RandomForestClassifier PARELEFT  PARERIGHT  DOM
    } DOM
    params  EQUAL  { DOM
         QUOTMARK  COLON  { QUOTMARK  COLON  [] COMMA   QUOTMARK  COLON  [ DOM
            1 DOT  COMMA  0 DOT 9 COMMA  0 DOT 8] COMMA   QUOTMARK  COLON  []} COMMA  DOM
         QUOTMARK  COLON  { QUOTMARK  COLON  [] COMMA  DOM
                          QUOTMARK  COLON  [] COMMA  DOM
                          QUOTMARK  COLON  [] COMMA  DOM
                          QUOTMARK  COLON  []} DOM
    } DOM
    return  PARELEFT  PARERIGHT  DOM
def best_ensemble PARELEFT  PARERIGHT  COLON  DOM
              QUOTMARK  COMMA   QUOTMARK ] DOM
    bagging_clf  EQUAL  BaggingClassifier PARELEFT  PARERIGHT  DOM
    rf_clf  EQUAL  RandomForestClassifier PARELEFT  PARERIGHT  DOM
    return zip PARELEFT  PARERIGHT  DOM
def stacking PARELEFT  PARERIGHT  COLON  DOM
    for  PARELEFT  PARERIGHT  in best_ensemble PARELEFT  PARERIGHT  COLON  DOM
        classifiers DOT append PARELEFT  PARERIGHT  DOM
    superlearner  EQUAL  RandomForestClassifier PARELEFT  PARERIGHT  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    stacking_clf  EQUAL  StackingCVClassifier PARELEFT  PARERIGHT  DOM
    return stacking_clffrom numpy import array DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import LSTM DOM
length  EQUAL  5 DOM
seq  EQUAL  array PARELEFT [] PARERIGHT  DOM
X  EQUAL  seq DOT reshape PARELEFT  PARERIGHT  DOM
y  EQUAL  seq DOT reshape PARELEFT  PARERIGHT  DOM
n_neurons  EQUAL  length DOM
n_batch  EQUAL  1 DOM
n_epoch  EQUAL  1000 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT n_neurons COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
result  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
for value in result[] COLON  DOM
	print PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  LSTM COMMA  TimeDistributed DOM
from keras DOT optimizers import Adam DOM
from keras import initializers DOM
from weightnorm import AdamWithWeightnorm DOM
import tensorflow as tf DOM
from multiplicative_lstm import MultiplicativeLSTM DOM
from params import * DOM
def tf_softmax_logits PARELEFT  PARERIGHT  COLON  DOM
  return tf DOT nn DOT softmax_cross_entropy_with_logits PARELEFT  PARERIGHT  DOM
def make_model PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT Embedding PARELEFT features COMMA LSTM_SIZE COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT MultiplicativeLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT TimeDistributed PARELEFT ense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  optimizer  EQUAL  AdamWithWeightnorm PARELEFT  PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  return model DOM
def make_run_model PARELEFT  PARERIGHT  COLON  DOM
  run_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  run_model DOT add PARELEFT Embedding PARELEFT features COMMA LSTM_SIZE COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA embeddings_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
  run_model DOT add PARELEFT MultiplicativeLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
  run_model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  return run_modelfrom keras DOT models import Model DOM
from keras DOT layers import Input DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Bidirectional DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT merge import concatenate DOM
from keras DOT models import Sequential DOM
import numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
emb_size  EQUAL  8 DOM
filters  EQUAL  3 DOM
lstm_number  EQUAL  10 DOM
def multiple PARELEFT  PARERIGHT  COLON  DOM
	inputs1  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
	embedding1  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	dropout1_0  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	conv1  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	pool1  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	dropout1_1  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	b_lstm1  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	lstm1  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	inputs2  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
	embedding2  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	dropout2_0  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	conv2  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	pool2  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	dropout2_1  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	b_lstm2  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	lstm2  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	inputs3  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
	embedding3  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	dropout3_0  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	conv3  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	pool3  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	dropout3_1  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	b_lstm3  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	lstm3  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	merged  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
	dropout  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	outputs  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
	model  EQUAL  Model PARELEFT  PARERIGHT  DOM
	return model DOM
def cnn_blstm PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return modelfrom loop import vector DOM
from keras DOT models import model_from_json DOM
from data import embedding COMMA  dev_data COMMA  train_data DOM
import tqdm DOM
import json DOM
import numpy as np DOM
from loop import make_generator DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Dropout COMMA  Flatten DOM
EMBEDDING_DIMS  EQUAL  300 DOM
CONTEXT_LENGTH  EQUAL  700 DOM
QUESTION_LENGTH  EQUAL  40 DOM
cenc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
cenc DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
cenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
qenc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
qenc DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
qenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
aenc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
aenc DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT                     DOM
aenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
facts  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
facts DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
attn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
attn DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
results  EQUAL  [] DOM
for i in tqdm DOT tqdm PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
	prediction  EQUAL  [] DOM
	c COMMA  q COMMA  a  EQUAL  train_data[] DOM
	c_vec  EQUAL  vector PARELEFT  PARERIGHT  DOM
	q_vec  EQUAL  vector PARELEFT  PARERIGHT  DOM
 	C  EQUAL  [] DOM
	Q  EQUAL  [] DOM
	A  EQUAL  [] DOM
	for word in c COLON  DOM
		C DOT append PARELEFT  PARERIGHT  DOM
		Q DOT append PARELEFT  PARERIGHT  DOM
		A DOT append PARELEFT vector PARELEFT  PARERIGHT  PARERIGHT  DOM
	C COMMA  Q COMMA  A  EQUAL  map PARELEFT np DOT array COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
	P  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
	for i COMMA  word in enumerate PARELEFT  PARERIGHT  COLON  DOM
		prediction DOT append PARELEFT {		 QUOTMARK  COLON  word COMMA 		 QUOTMARK  COLON  float PARELEFT  PARERIGHT 		} PARERIGHT  DOM
	results DOT append PARELEFT { QUOTMARK  COLON   QUOTMARK  DOT join PARELEFT  PARERIGHT  COMMA  QUOTMARK  COLON   QUOTMARK  DOT join PARELEFT  PARERIGHT  COMMA  QUOTMARK  COLON   QUOTMARK  DOT join PARELEFT  PARERIGHT  COMMA 	 QUOTMARK  COLON  prediction	} PARERIGHT  DOM
	json DOT dump PARELEFT results COMMA  open PARELEFT  PARERIGHT  COMMA  indent EQUAL 4 PARERIGHT from keras DOT models import Sequential DOM
from keras import layers DOM
import numpy as np DOM
from six DOT moves import range DOM
import sys DOM
import os DOM
from keras DOT models import load_model DOM
import keras DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense COMMA Dropout COMMA Activation DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Bidirectional DOM
import time DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT utils import plot_model DOM
from keras DOT layers DOT embeddings import Embedding DOM
class SenseModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT lstmunits  EQUAL lstmunits DOM
        self DOT lstmLayerNum  EQUAL  lstmLayerNum DOM
        self DOT DenseUnits  EQUAL  DenseUnits DOM
        self DOT charlenth  EQUAL  charlenth DOM
        self DOT datalenth  EQUAL  datalenth DOM
        self DOT buildmodel PARELEFT  PARERIGHT  DOM
    def buildmodel PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT layers DOT LSTM PARELEFT self DOT lstmunits COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            self DOT model DOT add PARELEFT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model DOT summary PARELEFT  PARERIGHT  DOM
    def trainModel PARELEFT  PARERIGHT  COLON  DOM
        for cur in range PARELEFT  PARERIGHT  COLON  DOM
            print  PARELEFT  PARERIGHT  DOM
            self DOT model DOT fit PARELEFT  PARERIGHT  DOM
            mdname EQUAL savename+ QUOTMARK +str PARELEFT  PARERIGHT  DOM
            self DOT model DOT save PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL  QUOTMARK  COLON  DOM
    a  EQUAL  SenseModel PARELEFT  PARERIGHT import os DOM
global_model_version  EQUAL  52 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Dropout COMMA  Bidirectional DOM
from keras DOT layers import LSTM DOM
def model_0 PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA   QUOTMARK  DOM
def model_1 PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  input_shape EQUAL input_dim COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA   QUOTMARK  DOM
def model_7 PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA   QUOTMARK  DOM
def model_8 PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA   QUOTMARK  DOM
def model_9 PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL input_dim COMMA merge_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA merge_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA   QUOTMARK import keras   DOM
from keras DOT layers import LSTM   DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Input COMMA  Dropout COMMA  Activation DOM
from keras DOT datasets import mnist   DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT optimizers import Adam DOM
from keras DOT callbacks import TensorBoard DOM
learning_rate  EQUAL  0 DOT 001   DOM
training_iters  EQUAL  3   DOM
batch_size  EQUAL  128   DOM
display_step  EQUAL  10   DOM
n_input  EQUAL  28   DOM
n_step  EQUAL  28  DOM
n_hidden  EQUAL  128   DOM
n_classes  EQUAL  10   DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  mnist DOT load_data PARELEFT  PARERIGHT    DOM
x_train  EQUAL  x_train DOT reshape PARELEFT  PARERIGHT    DOM
x_test  EQUAL  x_test DOT reshape PARELEFT  PARERIGHT    DOM
x_train  EQUAL  x_train DOT astype PARELEFT  PARERIGHT  DOM
x_test  EQUAL  x_test DOT astype PARELEFT  PARERIGHT    DOM
x_train / EQUAL  255   DOM
x_test / EQUAL  255   DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT    DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT    DOM
inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
predictions  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
model  EQUAL  Model PARELEFT  PARERIGHT  DOM
adam  EQUAL  Adam PARELEFT  PARERIGHT    DOM
model DOT summary PARELEFT  PARERIGHT    DOM
model DOT compile PARELEFT  PARERIGHT    DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA   tch_size EQUAL batch_size COMMA   ochs EQUAL training_iters COMMA   rbose EQUAL 1 COMMA   alidation_data EQUAL  PARELEFT  PARERIGHT  COMMA llbacks EQUAL [] PARERIGHT    DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT    DOM
print PARELEFT  PARERIGHT    DOM
print PARELEFT  PARERIGHT __author__  EQUAL   QUOTMARK  DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT regularizers import l1 COMMA  activity_l1 DOM
def create_simple_LSTM  PARELEFT  PARERIGHT  COLON  DOM
    D  EQUAL  embeddings DOT shape[] DOM
    out_dim  EQUAL  5 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def create_extreme_LSTM  PARELEFT  PARERIGHT  COLON  DOM
    D  EQUAL  embeddings DOT shape[] DOM
    out_dim  EQUAL  5 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    for Dense_size in Dense_sizes COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_stacked_LSTM  PARELEFT  PARERIGHT  COLON  DOM
    D  EQUAL  embeddings DOT shape[] DOM
    out_dim  EQUAL  5 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    for Dense_size in Dense_sizes COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense  COMMA Dropout COMMA Activation DOM
from keras DOT optimizers import SGD DOM
import pandas as pd DOM
import  matplotlib DOT pyplot as plt DOM
print  QUOTMARK  DOM
datas EQUAL pd DOT read_excel PARELEFT  PARERIGHT  DOM
X EQUAL datas DOT iloc[] DOT as_matrix PARELEFT  PARERIGHT  DOM
y EQUAL datas DOT iloc[] DOT as_matrix PARELEFT  PARERIGHT  DOM
print y DOM
model EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score EQUAL model DOT evaluate PARELEFT  PARERIGHT  DOM
p EQUAL model DOT predict PARELEFT  PARERIGHT  DOM
print p DOM
fig COMMA  ax  EQUAL  plt DOT subplots PARELEFT  PARERIGHT  DOM
ax DOT scatter PARELEFT  PARERIGHT  DOM
ax DOT plot PARELEFT [] COMMA [] COMMA  QUOTMARK  COMMA lw EQUAL 4 PARERIGHT  DOM
plt DOT show PARELEFT  PARERIGHT  DOM
import numpy as np DOM
import pandas as pd DOM
import os DOM
import matplotlib DOT pyplot as plt DOM
from sklearn DOT decomposition import PCA DOM
from sklearn DOT metrics import mean_squared_error COMMA  r2_score DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from sklearn DOT model_selection import train_test_split DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Bidirectional COMMA  Conv1D DOM
from keras DOT layers import MaxPooling1D COMMA  BatchNormalization COMMA  AveragePooling1D COMMA  GlobalAveragePooling1D DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Flatten DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT initializers import random_normal DOM
from keras DOT callbacks import EarlyStopping DOM
from keras import backend as K DOM
from fixed_leakyrelu import LeakyReLU DOM
n_out  EQUAL  1 DOM
variable_num  EQUAL  33 DOM
n_hidden  EQUAL  32 DOM
optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
def rmse PARELEFT  PARERIGHT  COLON  DOM
    return K DOT sqrt PARELEFT K DOT mean PARELEFT K DOT square PARELEFT  PARERIGHT  COMMA  axis EQUAL -1 PARERIGHT  PARERIGHT  DOM
def simpleLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT lstm_nodes COMMA  recurrent_dropout EQUAL 0 DOT 4 COMMA  dropout EQUAL 0 DOT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT n_out COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def TemporalCNN PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT name  EQUAL   QUOTMARK  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes COMMA  kernel_size EQUAL kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def BLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT n_out COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def StackeLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT lstm_nodes COMMA  return_sequences EQUAL True COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT lstm_nodes COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA  recurrent_dropout EQUAL 0 DOT 2 COMMA  dropout EQUAL 0 DOT 2 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT n_out COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def VGG16LIKE PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT name  EQUAL   QUOTMARK  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes*2 COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes*2 COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes*3 COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes*3 COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes*3 COMMA kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes*3 COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT int PARELEFT  PARERIGHT  COMMA  activation EQUAL LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def VGG_BLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT name  EQUAL   QUOTMARK  DOM
    model DOT add PARELEFT 1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT v1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK   PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT v1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT v1D PARELEFT cnn_nodes*2 COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK   PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT v1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT nv1D PARELEFT cnn_nodes*4 COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT v1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT int PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    Activation PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def VGG_BLSTM_LeakyReLU PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT name  EQUAL   QUOTMARK  DOM
    model DOT add PARELEFT 1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT 1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT 1D PARELEFT cnn_nodes*2 COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT 1D PARELEFT cnn_nodes*4 COMMA  kernel_size COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT cnn_nodes COMMA  kernel_size COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL random_normal PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT int PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    model  EQUAL  VGG_BLSTM PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  LSTM COMMA  Bidirectional DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT layers import Dense COMMA  GlobalAveragePooling1D DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Dropout COMMA  Embedding COMMA  Flatten COMMA  Input COMMA  Convolution1D COMMA  MaxPooling1D DOM
from keras DOT layers import Conv1D COMMA  concatenate DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras import regularizers DOM
def cnn PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim EQUAL  300 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  DOT 25 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    graph_in  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    convs  EQUAL  [] DOM
    for filter_length in  PARELEFT  PARERIGHT  COLON  DOM
        conv  EQUAL  Convolution1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        pool  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        flatten  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        convs DOT append PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  Model PARELEFT input EQUAL graph_in COMMA  output EQUAL  concatenate PARELEFT  PARERIGHT   PARERIGHT   PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    embedding_vecor_length  EQUAL  32 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT      DOM
    model DOT add PARELEFT  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Embedding DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU COMMA  Flatten COMMA  Convolution1D COMMA  MaxPooling1D DOM
from keras DOT initializers import RandomUniform DOM
from keras import optimizers DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    hidden_units  EQUAL  1000 DOM
    dim  EQUAL  1000 DOM
    batch_size  EQUAL  256 DOM
    initializer  EQUAL  RandomUniform PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  optimizers DOT SGD PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    left  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    left DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    left DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    left DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    left DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    right  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    right DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    right DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    right DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    right DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL max_epochs COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    score COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT   DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D DOM
def model PARELEFT  PARERIGHT  COLON  DOM
	embedding_size  EQUAL  128 DOM
	kernel_size  EQUAL  5 DOM
	filters  EQUAL  64 DOM
	pool_size  EQUAL  4 DOM
	lstm_output_size  EQUAL  70 DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	return modelfrom __future__ import print_function DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import BatchNormalization DOM
from keras import regularizers DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Convolution1D DOM
from keras DOT layers import MaxPool1D DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import concatenate DOM
from keras DOT layers import GRU DOM
from keras DOT layers import Conv1D DOM
from keras DOT layers import Bidirectional DOM
from keras DOT layers import Permute DOM
from keras DOT layers import merge DOM
from keras DOT models import Model DOM
from keras DOT layers import Reshape DOM
from keras DOT layers import RepeatVector DOM
from keras DOT layers import Input DOM
from keras DOT layers import Activation DOM
from keras DOT layers import Lambda DOM
import keras DOT backend as K DOM
K DOT set_image_dim_ordering PARELEFT  PARERIGHT  DOM
from utils import dense_to_one_hot DOM
from utils import labels_smooth DOM
from utils import Attention_layer DOM
from utils import str_to_list DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT      DOM
    vocab_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    embedding_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    dropout_prob  EQUAL  float PARELEFT  PARERIGHT  DOM
    l2_reg_scala  EQUAL  float PARELEFT  PARERIGHT  DOM
    units  EQUAL  int PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT      DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 2 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA  bias_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def bilstm PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT      DOM
    vocab_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    embedding_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    units  EQUAL  int PARELEFT  PARERIGHT  DOM
    dropout_prob  EQUAL  float PARELEFT  PARERIGHT  DOM
    l2_reg_scala  EQUAL  float PARELEFT  PARERIGHT  DOM
    length  EQUAL  int PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Permute PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 2 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA  bias_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def bilstm_att PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    vocab_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    embedding_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    units  EQUAL  int PARELEFT  PARERIGHT  DOM
    dropout_prob  EQUAL  float PARELEFT  PARERIGHT  DOM
    l2_reg_scala  EQUAL  float PARELEFT  PARERIGHT  DOM
    length  EQUAL  int PARELEFT  PARERIGHT  DOM
    _input  EQUAL  Input PARELEFT  PARERIGHT  DOM
    embed  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    activations  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  RepeatVector PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    activations  EQUAL  Permute PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    sent_representation  EQUAL  merge PARELEFT  PARERIGHT  DOM
    sent_representation  EQUAL  Lambda PARELEFT lambda xin COLON  K DOT sum PARELEFT  PARERIGHT  COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    prob  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def gru PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT      DOM
    vocab_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    embedding_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    dropout_prob  EQUAL  float PARELEFT  PARERIGHT  DOM
    l2_reg_scala  EQUAL  float PARELEFT  PARERIGHT  DOM
    units  EQUAL  int PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 2 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA  bias_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def bilstm_att2 PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    vocab_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    embedding_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    units  EQUAL  int PARELEFT  PARERIGHT  DOM
    dropout_prob  EQUAL  float PARELEFT  PARERIGHT  DOM
    l2_reg_scala  EQUAL  float PARELEFT  PARERIGHT  DOM
    length  EQUAL  int PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Attention_layer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 2 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA  bias_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def mlp PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    vocab_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    units  EQUAL  int PARELEFT  PARERIGHT  DOM
    dropout_prob  EQUAL  float PARELEFT  PARERIGHT  DOM
    l2_reg_scala  EQUAL  float PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def textcnn PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    vocab_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    embedding_size  EQUAL  int PARELEFT  PARERIGHT  DOM
    dropout_prob  EQUAL  float PARELEFT  PARERIGHT  DOM
    l2_reg_scala  EQUAL  float PARELEFT  PARERIGHT  DOM
    length  EQUAL  int PARELEFT  PARERIGHT  DOM
    filter_sizes  EQUAL  str_to_list PARELEFT  PARERIGHT  DOM
    filter_nums  EQUAL  str_to_list PARELEFT  PARERIGHT  DOM
    main_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    embed  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    cnn_outs  EQUAL  [] DOM
    for i COMMA  filter_size in enumerate PARELEFT  PARERIGHT  COLON  DOM
        filter_num  EQUAL  filter_nums[] DOM
        cnn  EQUAL  Convolution1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        cnn  EQUAL  MaxPool1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        cnn_outs DOT append PARELEFT  PARERIGHT  DOM
    out  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    flat  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    drop  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    main_output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT models import Sequential DOM
def get_lstm PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT units[] COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_gru PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT GRU PARELEFT units[] COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def _get_sae PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_saes PARELEFT  PARERIGHT  COLON  DOM
    sae2  EQUAL  _get_sae PARELEFT  PARERIGHT  DOM
    sae3  EQUAL  _get_sae PARELEFT  PARERIGHT  DOM
    saes  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    models  EQUAL  [] DOM
    return modelsimport datetime DOM
import os DOM
import keras DOM
import numpy as np DOM
import pandas as pd DOM
from base_model import BaseModel DOM
from multivariate_container import MultivariateContainer DOM
from typing import Union DOM
class MultivariateLSTM PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  -> None COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT config  EQUAL  config DOM
        self DOT container  EQUAL  container DOM
        self DOT hist  EQUAL  None DOM
        if create_empty COLON  DOM
            self DOT core  EQUAL  None DOM
        else COLON  DOM
            self DOT core  EQUAL  self DOT _construct_lstm_model PARELEFT  PARERIGHT  DOM
        self DOT _gen_file_name PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    def _construct_lstm_model PARELEFT self COMMA onfig COLON  dict COMMA erbose COLON  bool EQUAL True-> keras DOT Model COLON  DOM
        input_sequence  EQUAL  keras DOT layers DOT Input PARELEFT hape EQUAL  PARELEFT  PARERIGHT  COMMA dtype EQUAL  QUOTMARK  COMMA name EQUAL  QUOTMARK  PARERIGHT  DOM
        normalization  EQUAL  keras DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        dense1  EQUAL  keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        predictions  EQUAL  keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  keras DOT Model PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        if verbose COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            keras DOT utils DOT print_summary PARELEFT  PARERIGHT  DOM
        return model DOM
    def _construct_lstm_sequential PARELEFT self COMMA onfig COLON  dict COMMA erbose COLON  bool EQUAL True-> keras DOT Sequential COLON  DOM
        model  EQUAL  keras DOT Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT units EQUAL config[] COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        if verbose COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            keras DOT utils DOT print_summary PARELEFT  PARERIGHT  DOM
        return model DOM
    def update_config PARELEFT self COMMA ew_config COLON  dict-> None COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT prev_config  EQUAL  self DOT config DOM
        self DOT config  EQUAL  new_config DOM
        self DOT core  EQUAL  self DOT _construct_lstm_model PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    def fit_model PARELEFT self COMMA pochs COLON  int EQUAL 10-> None COLON  DOM
        start_time  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT hist  EQUAL  self DOT core DOT fit PARELEFT  PARERIGHT  DOM
        finish_time  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
        time_taken  EQUAL  finish_time - start_time DOM
        print PARELEFT f QUOTMARK  PARERIGHT  DOM
    def predict PARELEFT self COMMA _feed COLON  np DOT ndarray-> np DOT ndarray COLON  DOM
        y_hat  EQUAL  self DOT core DOT predict PARELEFT  PARERIGHT  DOM
        return y_hat DOM
    def save_model PARELEFT elf COMMA  ile_dir COLON  str EQUAL None-> None COLON  DOM
        if file_dir is None COLON  DOM
            file_dir  EQUAL  self DOT file_name DOM
        try COLON  DOM
            folder  EQUAL  f QUOTMARK  DOM
            os DOT system PARELEFT  PARERIGHT  DOM
            print PARELEFT  PARERIGHT  DOM
        except COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            _  EQUAL  os DOT system PARELEFT  PARERIGHT  DOM
            raise FileNotFoundError PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model_json  EQUAL  self DOT core DOT to_json PARELEFT  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as json_file COLON  DOM
            json_file DOT write PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT core DOT save_weights PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        try COLON  DOM
            keras DOT utils DOT plot_model PARELEFT  PARERIGHT  DOM
        except COLON  DOM
            print PARELEFT  PARERIGHT  DOM
        if self DOT hist is not None COLON  DOM
            hist_loss  EQUAL  np DOT squeeze PARELEFT np DOT array PARELEFT  PARERIGHT  PARERIGHT  DOM
            hist_val_loss  EQUAL  np DOT squeeze PARELEFT np DOT array PARELEFT  PARERIGHT  PARERIGHT  DOM
            combined  EQUAL  np DOT stack PARELEFT  PARERIGHT  DOM
            combined  EQUAL  np DOT transpose PARELEFT  PARERIGHT  DOM
            df  EQUAL  pd DOT DataFrame PARELEFT  PARERIGHT  DOM
            df DOT columns  EQUAL  [] DOM
            df DOT to_csv PARELEFT  PARERIGHT  DOM
            print PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    def load_model PARELEFT elf COMMA  older_dir COLON  str-> None COLON  DOM
            folder_dir + EQUAL   QUOTMARK  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        try COLON  DOM
            json_file  EQUAL  open PARELEFT  PARERIGHT  DOM
        except FileNotFoundError COLON  DOM
            raise Warning PARELEFT  PARERIGHT  DOM
        model_file  EQUAL  json_file DOT read PARELEFT  PARERIGHT  DOM
        json_file DOT close PARELEFT  PARERIGHT  DOM
        self DOT core  EQUAL  keras DOT models DOT model_from_json PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        try COLON  DOM
            self DOT core DOT load_weights PARELEFT  PARERIGHT  DOM
        except FileNotFoundError COLON  DOM
            raise Warning PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT core DOT compile PARELEFT  PARERIGHT  DOM
    def summarize_training PARELEFT  PARERIGHT  COLON  DOM
    def visualize_training PARELEFT  PARERIGHT  COLON  DOM
        raise NotImplementedErrorfrom math import sqrt DOM
from numpy import concatenate DOM
from matplotlib import pyplot DOM
import numpy as np DOM
from pandas import read_csv DOM
from pandas import DataFrame DOM
from pandas import concat DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from sklearn DOT preprocessing import LabelEncoder DOM
from sklearn DOT metrics import mean_squared_error DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT core import RepeatVector DOM
from keras DOT models import model_from_yaml DOM
import os DOM
from keras DOT utils import plot_model DOM
from keras DOT utils DOT vis_utils import plot_model DOM
from keras DOT utils DOT vis_utils import model_to_dot DOM
folder_address  EQUAL   QUOTMARK  DOM
preoutaddress  EQUAL   QUOTMARK  DOM
malware_class_dir  EQUAL  QUOTMARK  DOM
apa  EQUAL  1000 DOM
batch  EQUAL  10 DOM
    i EQUAL 0 DOM
    filenamelist  EQUAL  list PARELEFT  PARERIGHT  DOM
        wholefilepath  EQUAL  dir + QUOTMARK  + filename DOM
        filenamelist DOT append PARELEFT  PARERIGHT  DOM
    return filenamelist DOM
def data_to_reconstruction_problem PARELEFT  PARERIGHT  COLON  DOM
    df EQUAL  DataFrame PARELEFT  PARERIGHT  DOM
    list_concat  EQUAL  list PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        tempdf  EQUAL  df DOT shift PARELEFT  PARERIGHT  DOM
        list_concat DOT append PARELEFT  PARERIGHT  DOM
    data_for_autoencoder EQUAL concat PARELEFT  PARERIGHT  DOM
    data_for_autoencoder DOT dropna PARELEFT  PARERIGHT  DOM
    return data_for_autoencoder DOM
def data_to_reconstruction_problem PARELEFT  PARERIGHT  COLON  DOM
    df EQUAL  DataFrame PARELEFT  PARERIGHT  DOM
    list_concat  EQUAL  list PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        tempdf  EQUAL  df DOT shift PARELEFT  PARERIGHT  DOM
        list_concat DOT append PARELEFT  PARERIGHT  DOM
    data_for_autoencoder EQUAL concat PARELEFT  PARERIGHT  DOM
    data_for_autoencoder DOT dropna PARELEFT  PARERIGHT  DOM
    return data_for_autoencoder DOM
def out_put_core PARELEFT  PARERIGHT  COLON  DOM
    thefile  EQUAL  open PARELEFT  PARERIGHT  DOM
    for item in writting_list COLON  DOM
        thefile DOT write PARELEFT  PARERIGHT  DOM
n_apis  EQUAL  16 DOM
n_features  EQUAL  34 DOM
for i in range PARELEFT 0 COMMA len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
    dataset  EQUAL  read_csv PARELEFT  PARERIGHT  DOM
    values  EQUAL  dataset DOT values DOM
    reframed  EQUAL  data_to_reconstruction_problem PARELEFT  PARERIGHT  DOM
    reframed  EQUAL  reframed DOT astype PARELEFT  PARERIGHT  DOM
    scaler  EQUAL  MinMaxScaler PARELEFT feature_range EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    scaled  EQUAL  scaler DOT fit_transform PARELEFT  PARERIGHT  DOM
    dfscaled  EQUAL  DataFrame PARELEFT  PARERIGHT  DOM
    train_X  EQUAL  dfscaled DOT values DOM
    train_X  EQUAL  train_X DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    sample_number  EQUAL  train_X DOT shape[] DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    timesstep16  EQUAL  n_apis DOM
    timesstep8  EQUAL  int PARELEFT  PARERIGHT  DOM
    timesstep4  EQUAL  int PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT n_features COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    pyplot DOT plot PARELEFT  PARERIGHT  DOM
    pyplot DOT legend PARELEFT  PARERIGHT  DOM
    lossepoch  EQUAL   QUOTMARK  DOT format PARELEFT os DOT path DOT basename PARELEFT  PARERIGHT  PARERIGHT  DOM
    pyplot DOT savefig PARELEFT  PARERIGHT  DOM
    pyplot DOT gcf PARELEFT  PARERIGHT  DOT clear PARELEFT  PARERIGHT  DOM
    yhat  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    yhat  EQUAL  yhat DOT reshape PARELEFT  PARERIGHT  DOM
    yhat  EQUAL  scaler DOT inverse_transform PARELEFT  PARERIGHT  DOM
    df2  EQUAL  DataFrame PARELEFT  PARERIGHT  DOM
    df2 DOT to_csv PARELEFT  PARERIGHT  DOM
from keras DOT layers import Dense COMMA  Flatten COMMA  Dropout COMMA  ZeroPadding3D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
from collections import deque DOM
import sys DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
	print self DOT input_shape DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    import os DOM
global_model_version  EQUAL  48 DOM
global_batch_size  EQUAL  16 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  34 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT preprocessing DOT image import ImageDataGenerator DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  Reshape DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT layers DOT recurrent import LSTM COMMA  SimpleRNN DOM
from keras DOT optimizers import SGD COMMA  Adam DOM
from keras DOT utils import np_utils DOM
def build_MLP_net PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    return model DOM
def build_LSTM_net PARELEFT  PARERIGHT  COLON  DOM
    img_model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    img_model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    img_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    language_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    language_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    language_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    language_model DOT add PARELEFT TimeDistributedDense PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
def build_random PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom music21 import converter COMMA instrument COMMA note COMMA chord COMMA stream DOM
import tensorflow as tf DOM
from keras DOT layers import Dense COMMA  Conv2D COMMA  Dropout COMMA  Flatten COMMA  MaxPooling2D COMMA LSTM COMMA Activation DOM
from keras DOT models import Sequential DOM
import keras DOT models DOM
import numpy as np DOM
from keras DOT utils import np_utils DOM
from keras DOT callbacks import ModelCheckpoint DOM
import glob DOM
import pickle DOM
def createModel PARELEFT  PARERIGHT  COLON  DOM
    with open PARELEFT  PARERIGHT  as f COLON    DOM
        networkInput COMMA  pitchNames COMMA  numNotes COMMA  nVocab  COMMA  normalNetworkInput  EQUAL  pickle DOT load PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 256 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model开始学习keras，测试代码示例 DOM
https COLON //keras DOT io/zh/getting-started/sequential-model-guide/ DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation DOM
model  EQUAL  Sequential PARELEFT [] PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
编译 DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
import keras DOT backend as K DOM
def mean_pred PARELEFT  PARERIGHT  COLON  DOM
    return K DOT mean PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
对于具有2个类的单输入模型（二进制分类）： DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
import numpy as np DOM
data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
labels  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
对于具有10个类的单输入模型（多分类分类）： DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
import keras DOM
import numpy as np DOM
data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
labels  EQUAL  np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
one_hot_labels  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
基于多层感知器  PARELEFT  PARERIGHT  的 softmax 多分类： DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT optimizers import SGD DOM
import numpy as np DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
基于多层感知器的二分类： DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
类似 VGG 的卷积神经网络： DOM
import numpy as np DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import SGD DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
基于 LSTM 的序列分类： DOM
* name  QUOTMARK  is not defined DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
基于 1D 卷积的序列分类： DOM
* name  QUOTMARK  is not defined DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Conv1D COMMA  GlobalAveragePooling1D COMMA  MaxPooling1D DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT 64 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
基于栈式 LSTM 的序列分类 DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
data_dim  EQUAL  16 DOM
timesteps  EQUAL  8 DOM
num_classes  EQUAL  10 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
import numpy as np DOM
import time DOM
import csv DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA Merge DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
import copy DOM
data_dim  EQUAL  1 DOM
timesteps  EQUAL  13 DOM
model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm_hidden_size  EQUAL  [] DOM
drop_out_rate  EQUAL  [] DOM
model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
in_dimension  EQUAL  3; DOM
nn_hidden_size  EQUAL  [] DOM
nn_drop_rate  EQUAL  [] DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT compile PARELEFT  PARERIGHT  DOM
from keras DOT utils DOT visualize_util import plot COMMA  to_graph DOM
graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
graph DOT write_png PARELEFT  PARERIGHT from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
from keras DOT models import load_model DOM
from keras DOT layers import TimeDistributed COMMA  Dense COMMA  LSTM DOM
from keras DOT utils import np_utils DOM
from keras DOT callbacks import ModelCheckpoint DOM
from matplotlib DOT ticker import FormatStrFormatter DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 10 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def build_timedistributed_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 100 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def build_time_distributed_stateful_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 64 COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA stateful EQUAL True COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stacked_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 100 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def build_stateful_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 64 COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA stateful EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def build_cwrnn_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT cwrnn DOT ClockworkRNN PARELEFT output_dim EQUAL  y_input_dim_1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA period_spec EQUAL [] PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class nuRobotPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
from __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader1  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list1  EQUAL  list PARELEFT  PARERIGHT  DOM
testX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y1  EQUAL  testdata DOT iloc[] DOM
y_test1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
testX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  2 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA nb_epoch EQUAL 500 COMMA  callbacks EQUAL [] PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  import os DOM
global_model_version  EQUAL  65 DOM
global_batch_size  EQUAL  64 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from flask import Flask COMMA  render_template COMMA request COMMA send_file DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Input DOM
from keras DOT layers import Conv1D DOM
from keras DOT models import Model DOM
import json DOM
import keras DOM
from keras DOT layers import Dropout COMMA  Flatten DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D DOM
import numpy as np DOM
from sklearn DOT model_selection import train_test_split DOM
conv1  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
dense  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
model  EQUAL  Model PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT 32 COMMA  kernel_size EQUAL 2 COMMA activation EQUAL  QUOTMARK  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT loss EQUAL keras DOT losses DOT categorical_crossentropy COMMA optimizer EQUAL keras DOT optimizers DOT Adadelta PARELEFT  PARERIGHT  COMMA metrics EQUAL [] PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
app  EQUAL  Flask PARELEFT  PARERIGHT  DOM
@app DOT route PARELEFT  PARERIGHT  DOM
def prediction PARELEFT  PARERIGHT  COLON  DOM
    data  EQUAL  request DOT json DOM
    data  EQUAL  data[] DOM
    if PARELEFT len PARELEFT  PARERIGHT <100 PARERIGHT  COLON  DOM
        for j in range PARELEFT 0 COMMA 100-len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            data DOT append PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    data_to_predict  EQUAL  [] DOM
    data_to_predict  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    label  EQUAL  np DOT argmax PARELEFT  PARERIGHT  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        value  EQUAL   QUOTMARK  DOM
    elif PARELEFT  PARERIGHT  COLON  DOM
        value  EQUAL   QUOTMARK  DOM
    elif PARELEFT  PARERIGHT  COLON  DOM
        value  EQUAL   QUOTMARK  DOM
    elif PARELEFT  PARERIGHT  COLON  DOM
        value  EQUAL   QUOTMARK  DOM
    else COLON  DOM
        value EQUAL   QUOTMARK  DOM
    result  EQUAL  { QUOTMARK  COLON value} DOM
    return json DOT dumps PARELEFT  PARERIGHT  DOM
@app DOT route PARELEFT  PARERIGHT  DOM
def dashboard PARELEFT  PARERIGHT  COLON  DOM
    return render_template PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    app DOT run PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT recurrent import LSTM DOM
def create_lstm_network PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    for cur_unit in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def new_lstm_network PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Input COMMA  Layer COMMA  Merge DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
import numpy as np DOM
import keras DOT preprocessing DOT text as prep DOM
import keras DOT preprocessing DOT sequence as seq DOM
from keras DOT constraints import maxnorm COMMA  nonneg DOM
from keras DOT callbacks import EarlyStopping DOM
from keras import backend as K DOM
from keras DOT layers DOT core import Lambda DOM
def readEmbedding PARELEFT  PARERIGHT  COLON  DOM
    f EQUAL open PARELEFT  PARERIGHT  DOM
    embedding EQUAL [] DOM
    for i in f  DOT readlines PARELEFT  PARERIGHT  COLON  DOM
        tmp EQUAL [] DOM
        embedding DOT append PARELEFT  PARERIGHT  DOM
    return np DOT asanyarray PARELEFT  PARERIGHT  DOM
corpusFile EQUAL  QUOTMARK  DOM
labelsFile EQUAL  QUOTMARK  DOM
file EQUAL open PARELEFT  PARERIGHT  DOM
text EQUAL  [] DOM
toknizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
data EQUAL toknizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
data EQUAL np DOT asanyarray PARELEFT  PARERIGHT  DOM
maxlen EQUAL [] DOM
maxlen EQUAL maxlen[] DOM
worddic EQUAL toknizer DOT word_index DOM
wordcount EQUAL  toknizer DOT word_counts DOM
vocabSize  EQUAL  toknizer DOT word_index DOT __len__ PARELEFT  PARERIGHT +2 DOM
data EQUAL seq DOT pad_sequences PARELEFT  PARERIGHT  DOM
file DOT close PARELEFT  PARERIGHT  DOM
file EQUAL open PARELEFT  PARERIGHT  DOM
tmp EQUAL [] DOM
labelLen EQUAL max PARELEFT  PARERIGHT +1 DOM
labels EQUAL [] DOM
for i in tmp COLON  DOM
    k EQUAL []*labelLen DOM
    k[] EQUAL 1 DOM
    labels DOT append PARELEFT  PARERIGHT  DOM
X_train EQUAL data DOM
Y_train EQUAL labels DOM
weights EQUAL readEmbedding PARELEFT  PARERIGHT  DOM
leftmodel  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
leftmodel DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
rightmodel EQUAL Sequential PARELEFT  PARERIGHT  DOM
rightmodel DOT add PARELEFT Embedding PARELEFT input_length EQUAL maxlen COMMA input_dim EQUAL vocabSize COMMA  output_dim EQUAL 1 COMMA  mask_zero EQUAL  True COMMA  name EQUAL  QUOTMARK  COMMA  trainable EQUAL True COMMA  W_constraint EQUAL nonneg PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model EQUAL Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Merge PARELEFT [] COMMA  mode EQUAL  PARELEFT lambda x COLON  x[]*K DOT repeat_elements PARELEFT  PARERIGHT  PARERIGHT   COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT labels[] DOT __len__ PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
importance  EQUAL  rightmodel DOT get_layer PARELEFT  PARERIGHT  DOT get_weights PARELEFT  PARERIGHT [] DOM
file EQUAL open PARELEFT  PARERIGHT  DOM
sortedImp EQUAL [] DOM
for i in worddic COLON  DOM
    sortedImp DOT append PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
sortedImp EQUAL sorted PARELEFT  PARERIGHT  DOM
for i in sortedImp COLON  DOM
    file DOT write PARELEFT str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK  PARERIGHT  DOM
file DOT close PARELEFT  PARERIGHT  DOM
embeddings  EQUAL  model DOT get_layer PARELEFT  PARERIGHT  DOT get_weights PARELEFT  PARERIGHT [] DOM
file EQUAL open PARELEFT  PARERIGHT  DOM
for i in embeddings COLON  DOM
    tmp EQUAL str PARELEFT  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOT strip PARELEFT  PARERIGHT  DOM
    file DOT write PARELEFT  PARERIGHT  DOM
file DOT close PARELEFT  PARERIGHT  DOM
file EQUAL open PARELEFT  PARERIGHT  DOM
for i in worddic COLON  DOM
    tmp EQUAL str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT  DOM
    file DOT write PARELEFT  PARERIGHT  DOM
file DOT close PARELEFT  PARERIGHT  DOM
class RestaurantPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelwarnings DOT filterwarnings PARELEFT  PARERIGHT  DOM
import string DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from keras DOT utils import np_utils COMMA  to_categorical DOM
from sklearn DOT model_selection import train_test_split COMMA  KFold COMMA  GridSearchCV COMMA  StratifiedShuffleSplit COMMA StratifiedKFold DOM
from sklearn DOT metrics import confusion_matrix COMMA  classification_report COMMA  accuracy_score DOM
from sklearn DOT preprocessing import LabelEncoder DOM
from sklearn DOT pipeline import Pipeline DOM
from sklearn DOT feature_extraction DOT text import TfidfVectorizer COMMA  CountVectorizer DOM
import pandas as pd DOM
from keras import layers DOM
from keras DOT models import Model COMMA  Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  LSTM DOM
from keras DOT layers import Input COMMA  Flatten COMMA  merge COMMA  Lambda COMMA  Dropout DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from keras DOT layers DOT wrappers import TimeDistributed COMMA  Bidirectional DOM
from keras DOT utils import np_utils COMMA  to_categorical DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
import gensim DOM
from gensim DOT models import Word2Vec DOM
from gensim DOT models DOT keyedvectors import KeyedVectors DOM
import matplotlib DOT pyplot as plt DOM
import itertools DOM
from nltk DOT stem DOT wordnet import WordNetLemmatizer DOM
from nltk DOT tokenize import RegexpTokenizer DOM
from sklearn DOT utils import shuffle DOM
import numpy as np DOM
full_data  EQUAL  np DOT loadtxt PARELEFT  PARERIGHT  DOM
x  EQUAL  full_data[] DOM
y  EQUAL  full_data[] DOM
print PARELEFT len PARELEFT  PARERIGHT -1 PARERIGHT  DOM
encoder  EQUAL  LabelEncoder PARELEFT  PARERIGHT  DOM
encoder DOT fit PARELEFT  PARERIGHT  DOM
encoded_y  EQUAL  encoder DOT transform PARELEFT  PARERIGHT  DOM
dummy_y  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
def full_multiclass_report PARELEFT  PARERIGHT  COLON  DOM
    if not binary COLON  DOM
        y_true  EQUAL  np DOT argmax PARELEFT  PARERIGHT  DOM
    y_pred  EQUAL  model DOT predict_classes PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK + str PARELEFT accuracy_score PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT classification_report PARELEFT  PARERIGHT  PARERIGHT      DOM
seed  EQUAL 1000 DOM
Neurons  EQUAL  1024 DOM
Baseline  EQUAL  100 DOM
Top1  EQUAL  161 DOM
Top2  EQUAL  214 DOM
Top3  EQUAL  249 DOM
Top4  EQUAL  283 DOM
Top5  EQUAL  323 DOM
NoOfAtt EQUAL Top3 DOM
x_train COMMA  x_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
x_train COMMA  x_val COMMA  y_train COMMA  y_val  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
x_train  EQUAL  x_train DOT reshape PARELEFT  PARERIGHT  DOM
x_test  EQUAL  x_test DOT reshape PARELEFT  PARERIGHT  DOM
x_val  EQUAL  x_val DOT reshape PARELEFT  PARERIGHT  DOM
LSTM_Model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_Model DOT add PARELEFT LSTM PARELEFT units  EQUAL  1024 COMMA  return_sequences  EQUAL  True COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
LSTM_Model DOT add PARELEFT LSTM PARELEFT units  EQUAL  1024 COMMA  return_sequences  EQUAL  True COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
LSTM_Model DOT add PARELEFT LSTM PARELEFT units  EQUAL  1024 COMMA  return_sequences  EQUAL  True COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
LSTM_Model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_Model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_Model DOT compile PARELEFT  PARERIGHT  DOM
LSTM_Model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_History EQUAL LSTM_Model DOT fit PARELEFT x_train COMMA  y_train COMMA  epochs  EQUAL  75 COMMA  batch_size  EQUAL  64 COMMA verbose EQUAL 2 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  shuffle EQUAL False PARERIGHT  DOM
full_multiclass_report PARELEFT LSTM_Model COMMA  x_val COMMA  y_val COMMA  encoder DOT inverse_transform PARELEFT np DOT arange PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT recurrent import SimpleRNN  COMMA  LSTM DOM
from keras DOT optimizers import SGD  COMMA  Adagrad DOM
    LSTM_layers  EQUAL  1  DOM
    LSTM_units   EQUAL  512 DOM
    DNN_layers   EQUAL  3 DOM
    DNN_units    EQUAL  512 DOM
    question_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_q1  EQUAL  LSTM  PARELEFT  LSTM_units  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  return_sequences EQUAL  False  PARERIGHT  DOM
    question_model DOT add PARELEFT  PARERIGHT  DOM
    answer_1_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a1  EQUAL  LSTM  PARELEFT  LSTM_units  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  return_sequences EQUAL  False  PARERIGHT  DOM
    answer_1_model DOT add PARELEFT  PARERIGHT  DOM
    answer_2_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a2  EQUAL  LSTM  PARELEFT  LSTM_units  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  return_sequences EQUAL  False  PARERIGHT  DOM
    answer_2_model DOT add PARELEFT  PARERIGHT  DOM
    answer_3_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a3  EQUAL  LSTM  PARELEFT  LSTM_units  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  return_sequences EQUAL  False  PARERIGHT  DOM
    answer_3_model DOT add PARELEFT  PARERIGHT  DOM
    answer_4_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a4  EQUAL  LSTM  PARELEFT  LSTM_units  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  return_sequences EQUAL  False  PARERIGHT  DOM
    answer_4_model DOT add PARELEFT  PARERIGHT  DOM
    answer_5_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a5  EQUAL  LSTM  PARELEFT  LSTM_units  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  return_sequences EQUAL  False  PARERIGHT  DOM
    answer_5_model DOT add PARELEFT  PARERIGHT  DOM
    image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    image_model DOT add PARELEFT Reshape PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  dims  EQUAL   PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_DNN_1  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_DNN_1_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_DNN_1_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_DNN_2  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_DNN_2_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_DNN_2_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_DNN_3      EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_DNN_3_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_DNN_3_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_out      EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_softmax  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
import os DOM
global_model_version  EQUAL  32 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class RestaurantPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        batch_shape  EQUAL   PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom  DOT base import BaseNet DOM
import numpy as np DOM
import time DOM
import math as m DOM
import tensorflow as tf DOM
import keras DOM
from keras import Model DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import InputLayer DOM
from keras DOT layers import Conv1D DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Bidirectional DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers import Input COMMA  Concatenate COMMA  Permute COMMA  Reshape COMMA  Merge DOM
from keras DOT layers import concatenate DOM
from keras DOT optimizers import Adam DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import TimeDistributed COMMA  Dense COMMA  Dropout COMMA  Flatten DOM
import json DOM
import pickle DOM
class iEEGSeq PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        if name not in _availmodels COLON  DOM
            raise AttributeError PARELEFT  PARERIGHT  DOM
        self DOT name  EQUAL  name DOM
        self DOT num_timewins  EQUAL  num_timewins DOM
        self DOT DROPOUT  EQUAL  DROPOUT DOM
        self DOT BIDIRECT  EQUAL  BIDIRECT DOM
        self DOT FREEZE  EQUAL  FREEZE DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    def loadmodel PARELEFT  PARERIGHT  COLON  DOM
        json_file  EQUAL  open PARELEFT  PARERIGHT  DOM
        loaded_model_json  EQUAL  json_file DOT read PARELEFT  PARERIGHT  DOM
        json_file DOT close PARELEFT  PARERIGHT  DOM
        fixed_cnn_model  EQUAL  keras DOT models DOT model_from_json PARELEFT  PARERIGHT  DOM
        fixed_cnn_model DOT load_weights PARELEFT  PARERIGHT  DOM
        fixed_cnn_model DOT pop PARELEFT  PARERIGHT  DOM
        fixed_cnn_model DOT pop PARELEFT  PARERIGHT  DOM
        return fixed_cnn_model DOM
    def buildmodel PARELEFT  PARERIGHT  COLON  DOM
        size_mem  EQUAL  128 DOM
        num_timewins  EQUAL  self DOT num_timewins DOM
        self DOT input_shape  EQUAL  convnet DOT input_shape DOM
        if self DOT name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT _build_same_cnn_lstm PARELEFT  PARERIGHT  DOM
        elif self DOT name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT _build_cnn_lstm PARELEFT  PARERIGHT  DOM
        elif self DOT name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT _build_cnn_lstm_mix PARELEFT  PARERIGHT  DOM
        elif self DOT name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT _appendlstm PARELEFT  PARERIGHT  DOM
    def buildoutput PARELEFT  PARERIGHT  COLON  DOM
        if self DOT name  EQUAL  EQUAL   QUOTMARK  or self DOT name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT _build_seq_output PARELEFT  PARERIGHT  DOM
        elif self DOT name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT _build_output PARELEFT  PARERIGHT  DOM
        elif self DOT name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT model  EQUAL  self DOT _build_seq_output PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
    def _build_same_cnn_lstm PARELEFT  PARERIGHT  COLON  DOM
            convnet DOT trainable  EQUAL  False DOM
        convnet DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        cnn_output_shape  EQUAL  convnet DOT output_shape[] DOM
        cnn_input_shape  EQUAL  tuple PARELEFT list PARELEFT  PARERIGHT [] PARERIGHT  DOM
        self DOT model DOT add PARELEFT TimeDistributed PARELEFT onvnet COMMA  input_shape EQUAL  PARELEFT  PARERIGHT +cnn_input_shape PARERIGHT  PARERIGHT  DOM
        if BIDIRECT COLON  DOM
            self DOT model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    def _build_cnn_lstm PARELEFT  PARERIGHT  COLON  DOM
        buffweights  EQUAL  convnet DOT weights DOM
        convnet DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            convnets DOT append PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        num_cnn_features  EQUAL  convnets[] DOT output_shape[] DOM
        self DOT model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        if BIDIRECT COLON  DOM
            self DOT model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    def _build_cnn_lstm_mix PARELEFT  PARERIGHT  COLON  DOM
        buffweights  EQUAL  convnet DOT weights DOM
        convnet DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        cnn_input_shape  EQUAL  tuple PARELEFT list PARELEFT  PARERIGHT [] PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            convnets DOT append PARELEFT  PARERIGHT  DOM
        if self DOT FREEZE COLON  DOM
            for net in convnets COLON  DOM
                net DOT trainable  EQUAL  False DOM
        self DOT model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        num_cnn_features  EQUAL  convnets[] DOT output_shape[] DOM
        self DOT model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        convpool  EQUAL  self DOT model DOT output DOM
        reform_convpool  EQUAL  Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        convout_1d  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        convout_1d  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        if BIDIRECT COLON  DOM
            lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        self DOT auxmodel  EQUAL  keras DOT layers DOT concatenate PARELEFT  PARERIGHT  DOM
    def _build_lstm PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return self DOT model DOM
    def _appendlstm PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT add PARELEFT TimeDistributed PARELEFT ixed_model COMMA  input_shape EQUAL  PARELEFT  PARERIGHT +self DOT input_shape PARERIGHT  PARERIGHT  DOM
        if BIDIRECT COLON  DOM
            self DOT model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  60 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
import scipy DOT io DOM
from scipy DOT interpolate import griddata DOM
from sklearn DOT preprocessing import scale DOM
import time DOM
from functools import reduce DOM
import math as m DOM
from keras DOT utils DOT training_utils import multi_gpu_model DOM
import tensorflow as tf DOM
import keras DOM
from keras DOT optimizers import SGD DOM
from keras DOT models import Sequential DOM
from keras DOT layers import InputLayer DOM
from keras DOT layers import Conv1D COMMA  Conv2D COMMA  MaxPooling2D DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed COMMA  Dense COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers import Input COMMA  Concatenate COMMA  Permute COMMA  Reshape COMMA  Merge DOM
from keras DOT layers DOT embeddings import Embedding DOM
class IEEGdnn PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT n_colors  EQUAL  n_colors DOM
        self DOT num_classes  EQUAL  num_classes DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    def _build_2dcnn PARELEFT self COMMA  w_init COLON  list  EQUAL  None COMMA  n_layers COLON  tuple  EQUAL   PARELEFT  PARERIGHT  COMMA  poolsize COLON  tuple  EQUAL   PARELEFT  PARERIGHT  COMMA  n_filters_first COLON  int  EQUAL  32 COMMA  filter_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COLON      DOM
        if w_init is None COLON  DOM
            w_init  EQUAL  [] * sum PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT InputLayer PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        count EQUAL 0 DOM
        for idx COMMA  n_layer in enumerate PARELEFT  PARERIGHT  COLON  DOM
            for ilay in range PARELEFT  PARERIGHT  COLON  DOM
                model DOT add PARELEFT Conv2D PARELEFT n_filters_first* PARELEFT  PARERIGHT  COMMA  ernel_size EQUAL  PARELEFT  PARERIGHT  COMMA put_shape EQUAL  PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL w_init[] COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
                if DEBUG COLON  DOM
                    print PARELEFT  PARERIGHT  DOM
                    print PARELEFT  PARERIGHT  DOM
                count+ EQUAL 1 DOM
            model DOT add PARELEFT MaxPooling2D PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def _build_lstm PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return self DOT model DOM
    def build_same_cnn_lstm PARELEFT  PARERIGHT  COLON  DOM
        convnet  EQUAL  self DOT _build_2dcnn PARELEFT w_init EQUAL w_init COMMA  n_layers EQUAL  PARELEFT  PARERIGHT  COMMA  olsize EQUAL  PARELEFT  PARERIGHT  COMMA  n_filters_first EQUAL 32 COMMA  filter_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        convnet DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        cnn_output_shape  EQUAL  convnet DOT output_shape[] DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT convnet COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        output  EQUAL  self DOT _build_output PARELEFT  PARERIGHT  DOM
        return output DOM
    def build_cnn_lstm PARELEFT  PARERIGHT  COLON  DOM
        convnets  EQUAL  [] DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            convnet  EQUAL  self DOT _build_2dcnn PARELEFT w_init EQUAL w_init COMMA  n_layers EQUAL  PARELEFT  PARERIGHT  COMMA  olsize EQUAL  PARELEFT  PARERIGHT  COMMA  n_filters_first EQUAL 32 COMMA  filter_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
            convnet DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
            convnets DOT append PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        num_cnn_features  EQUAL  convnets[] DOT output_shape[] DOM
        model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  self DOT _build_output PARELEFT  PARERIGHT  DOM
        return model DOM
    def build_cnn_lstm_mix PARELEFT  PARERIGHT  COLON  DOM
        convnets  EQUAL  [] DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            convnet  EQUAL  self DOT _build_2dcnn PARELEFT w_init EQUAL w_init COMMA  n_layers EQUAL  PARELEFT  PARERIGHT  COMMA  olsize EQUAL  PARELEFT  PARERIGHT  COMMA  n_filters_first EQUAL 32 COMMA  filter_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
            convnet DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
            convnets DOT append PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        num_cnn_features  EQUAL  convnets[] DOT output_shape[] DOM
        model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        convpool  EQUAL  model DOT output DOM
        reform_convpool  EQUAL  Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        convout_1d  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        convout_1d  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  self DOT _build_output PARELEFT  PARERIGHT  DOM
        return model DOM
    def _build_output PARELEFT  PARERIGHT  COLON  DOM
        if DROPOUT COLON  DOM
            output  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        if DROPOUT COLON  DOM
            output  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        return output DOM
    def _build_seq_output PARELEFT  PARERIGHT  COLON  DOM
        if DROPOUT COLON  DOM
            finalmodel DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        finalmodel DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        if DROPOUT COLON  DOM
            finalmodel DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        finalmodel DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return finalmodel DOM
    def init_callbacks PARELEFT  PARERIGHT  COLON  DOM
        callbacks  EQUAL  [] DOM
        return callbacks DOM
        optimizer  EQUAL  keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model_config  EQUAL  model DOT get_config PARELEFT  PARERIGHT  DOM
        return model DOT get_config PARELEFT  PARERIGHT  DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
            callbacks  EQUAL  self DOT init_callbacks PARELEFT  PARERIGHT  DOM
            aug  EQUAL  ImageDataGenerator PARELEFT  PARERIGHT  DOM
            HH  EQUAL  model DOT fit_generator PARELEFT idation_data EQUAL  PARELEFT  PARERIGHT  COMMA   epochs EQUAL epochs COMMA allbacks EQUAL callbacks COMMA  verbose EQUAL 2 PARERIGHT  DOM
        else COLON  DOM
            HH  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
        self DOT HH  EQUAL  HH DOM
        return HH DOM
    def eval PARELEFT  PARERIGHT  COLON  DOM
        self DOT score  EQUAL  self DOT model DOT evaluate PARELEFT  PARERIGHT  DOM
        acc_train_history  EQUAL  self DOT score DOT history[] DOM
        acc_test_history  EQUAL  self DOT score DOT history[] DOM
        loss_train_history  EQUAL  self DOT score DOT history[] DOM
        loss_test_history  EQUAL  self DOT score DOT history[]from keras import layers COMMA  models COMMA  optimizers COMMA  initializers DOM
from keras import backend as K DOM
import tensorflow as tf DOM
import numpy as np DOM
from keras DOT regularizers import l2 DOM
def preprocess PARELEFT  PARERIGHT  COLON  DOM
    inp_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    out_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    inp  EQUAL  layers DOT Input PARELEFT  PARERIGHT  DOM
    def generateCovLayer PARELEFT  PARERIGHT  COLON  DOM
        convModel  EQUAL  models DOT Sequential PARELEFT  PARERIGHT  DOM
        convModel DOT add PARELEFT layers DOT Conv2D PARELEFT filters EQUAL 64 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        convModel DOT add PARELEFT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        convModel DOT add PARELEFT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        convModel DOT add PARELEFT layers DOT pooling DOT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        return convModel DOM
    convModel  EQUAL  generateCovLayer PARELEFT  PARERIGHT  DOM
    def presplit PARELEFT  PARERIGHT  COLON  DOM
        return inputR DOM
    return [] DOM
def GenerateBLSTMTime PARELEFT  PARERIGHT  COLON  DOM
    []  EQUAL  preprocess PARELEFT  PARERIGHT  DOM
    def easyreshape PARELEFT  PARERIGHT  COLON  DOM
        xR  EQUAL  K DOT reshape PARELEFT x COMMA  shape EQUAL [] PARERIGHT  DOM
        return xR DOM
    convoutputR  EQUAL  layers DOT Lambda PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    SIZE_RLAYERS  EQUAL  256 DOM
    x  EQUAL  convoutputR DOM
        x  EQUAL  layers DOT Bidirectional PARELEFT layers DOT LSTM PARELEFT SIZE_RLAYERS COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA dropout EQUAL DROPOUT COMMA recurrent_dropout EQUAL RDROPOUT PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    mask_o  EQUAL  layers DOT TimeDistributed PARELEFT layers DOT Dense PARELEFT out_shape[] COMMA activation EQUAL  QUOTMARK  COMMA kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  COMMA name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    train_model  EQUAL  models DOT Model PARELEFT  PARERIGHT  DOM
    return train_model DOM
def GenerateBLSTMFrequency PARELEFT  PARERIGHT  COLON  DOM
    []  EQUAL  preprocess PARELEFT  PARERIGHT  DOM
    SIZE_RLAYERS  EQUAL  128 DOM
    rnnModel  EQUAL  models DOT Sequential PARELEFT  PARERIGHT  DOM
import prepare_data as pd DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Activation DOM
from keras DOT callbacks import ModelCheckpoint DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 512 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def train PARELEFT  PARERIGHT  COLON  DOM
    filepath  EQUAL   QUOTMARK  DOM
    checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
    callbacks_list  EQUAL  [] DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
def train_net PARELEFT  PARERIGHT  COLON  DOM
    notes  EQUAL  pd DOT convert_from_midi PARELEFT  PARERIGHT  DOM
    vocab  EQUAL  len PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  DOM
    net_input COMMA  net_output  EQUAL  pd DOT generate_sequence PARELEFT  PARERIGHT  DOM
    model  EQUAL  build_network PARELEFT  PARERIGHT  DOM
    train PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    train_net PARELEFT  PARERIGHT from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class RestaurantPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelimport sys DOM
import numpy as np DOM
import h5py DOM
import scipy DOT io DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT convolutional import Conv1D COMMA  MaxPooling1D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
input_file  EQUAL  sys DOT argv[] DOM
output_file  EQUAL  sys DOT argv[] DOM
forward_lstm  EQUAL  LSTM PARELEFT 320 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  DOM
backward_lstm  EQUAL  LSTM PARELEFT 320 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA padding EQUAL  QUOTMARK  COMMA 				strides EQUAL 1 COMMA 				activation EQUAL  QUOTMARK  COMMA 				kernel_size EQUAL 26 COMMA 				filters EQUAL 320 PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
testmat  EQUAL  scipy DOT io DOT loadmat PARELEFT  PARERIGHT [] DOM
y  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
f  EQUAL  h5py DOT File PARELEFT  PARERIGHT  DOM
f DOT create_dataset PARELEFT  PARERIGHT  DOM
f DOT close PARELEFT  PARERIGHT from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM COMMA  Conv1D COMMA  Flatten COMMA  Dropout DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
def convolutional_nn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    dimensions  EQUAL  300 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 200 COMMA   input_shape EQUAL  PARELEFT  PARERIGHT  COMMA   return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
top_words  EQUAL  10000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  1600 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
model  EQUAL  convolutional_nn PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import arrow COMMA bs4 COMMA random DOM
import numexpr as ne   DOM
import numpy as np DOM
import pandas as pd DOM
import tushare as ts DOM
import pypinyin  DOM
import matplotlib as mpl DOM
from matplotlib import pyplot as plt DOM
from concurrent DOT futures import ProcessPoolExecutor DOM
from concurrent DOT futures import ThreadPoolExecutor DOM
from concurrent DOT futures import as_completed DOM
import keras as ks DOM
from keras import initializers COMMA models COMMA layers DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential COMMA load_model DOM
from keras DOT layers import Dense COMMA  Input COMMA  Dropout COMMA  Embedding COMMA  LSTM COMMA  Bidirectional COMMA Activation COMMA SimpleRNN COMMA Conv1D COMMA MaxPooling1D COMMA  GlobalMaxPooling1D COMMA GlobalAveragePooling1D DOM
from keras DOT optimizers import RMSprop COMMA  SGD   DOM
from keras DOT applications DOT resnet50 import preprocess_input COMMA  decode_predictions DOM
import tflearn as tn DOM
import tensorflow as tf DOM
import tensorlayer as tl DOM
import zsys DOM
import ztools as zt DOM
import ztools_tq as ztq DOM
import zpd_talib as zta DOM
import zai_tools as zat DOM
def mlp01 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
    return model DOM
def mlp010 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def mlp020 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def rnn010 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT num_in*4 COMMA kernel_initializer EQUAL initializers DOT RandomNormal PARELEFT  PARERIGHT  COMMA recurrent_initializer EQUAL initializers DOT Identity PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    rmsprop  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def rnn020 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT num_in*8 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model     DOM
def lstm010 PARELEFT  PARERIGHT  COLON      DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT num_in*8 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm020typ PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT num_in*8 COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from absl DOT testing import parameterized DOM
import numpy as np DOM
from tensorflow DOT python import keras DOM
from tensorflow DOT python DOT framework import test_util as tf_test_util DOM
from tensorflow DOT python DOT keras import testing_utils DOM
from tensorflow DOT python DOT platform import test DOM
from tensorflow DOT python DOT training import adam DOM
from tensorflow DOT python DOT training import gradient_descent DOM
from tensorflow DOT python DOT training DOT rmsprop import RMSPropOptimizer DOM
@tf_test_util DOT run_all_in_graph_and_eager_modes DOM
class LSTMLayerTest PARELEFT  PARERIGHT  COLON  DOM
  def test_return_sequences_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA return_sequences' COLON  True} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_static_shape_inference_LSTM PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  keras DOT layers DOT Dense PARELEFT embedding_dim COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  model DOT layers[] DOT output DOM
    self DOT assertEqual PARELEFT outputs DOT get_shape PARELEFT  PARERIGHT  DOT as_list PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
  def test_dynamic_behavior_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT RMSPropOptimizer PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
    x  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_dropout_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA dropout QUOTMARK  COLON  0 DOT 1} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  @parameterized DOT parameters PARELEFT  PARERIGHT  DOM
  def test_implementation_mode_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA implementation' COLON  implementation_mode} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_constraints_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    k_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    r_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    b_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL k_constraint COMMA recurrent_constraint EQUAL r_constraint COMMA bias_constraint EQUAL b_constraint PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
  @tf_test_util DOT run_deprecated_v1 DOM
  def test_with_masking_layer_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layer_class PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  @tf_test_util DOT run_deprecated_v1 DOM
  def test_masking_with_stacking_LSTM PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_cells  EQUAL  [] DOM
    model DOT add PARELEFT keras DOT layers DOT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_from_config_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    for stateful in  PARELEFT  PARERIGHT  COLON  DOM
      l1  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      l2  EQUAL  layer_class DOT from_config PARELEFT l1 DOT get_config PARELEFT  PARERIGHT  PARERIGHT  DOM
      assert l1 DOT get_config PARELEFT  PARERIGHT   EQUAL  EQUAL  l2 DOT get_config PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    else COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_non_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [keras DOT backend DOT random_normal_variable PARELEFT  PARERIGHT  COMMA  0 COMMA  1 PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_reset_states_with_values PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    assert layer DOT states[] is not None DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT zeros PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    state_shapes  EQUAL  [] DOM
    values  EQUAL  [] DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      values  EQUAL  values[] DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT ones PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    with self DOT assertRaises PARELEFT  PARERIGHT  COLON  DOM
      layer DOT reset_states PARELEFT [] *  PARELEFT len PARELEFT  PARERIGHT  + 1 PARERIGHT  PARERIGHT  DOM
  def test_specify_state_with_masking PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    _  EQUAL  keras DOT layers DOT Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_return_state PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    state  EQUAL  outputs[] DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    state  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA  state COMMA  atol EQUAL 1e-4 PARERIGHT  DOM
  def test_state_reuse PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    output COMMA  state  EQUAL  outputs[] COMMA  outputs[] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    outputs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  def test_initial_states_as_other_inputs PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    num_states  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    main_inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    inputs  EQUAL  [] + initial_state DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    main_inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
class LSTMLayerGraphOnlyTest PARELEFT  PARERIGHT  COLON  DOM
  @tf_test_util DOT run_deprecated_v1 DOM
  def test_statefulness_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT cached_session PARELEFT  PARERIGHT  COLON  DOM
      model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT 4 COMMA embedding_dim COMMA mask_zero EQUAL True COMMA input_length EQUAL timesteps COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT optimizer EQUAL gradient_descent DOT GradientDescentOptimizer PARELEFT  PARERIGHT  COMMA loss EQUAL  QUOTMARK  PARERIGHT  DOM
      out1  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT out1 DOT shape COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      out2  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out1 DOT max PARELEFT  PARERIGHT  COMMA  out2 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      out3  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out2 DOT max PARELEFT  PARERIGHT  COMMA  out3 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT reset_states PARELEFT  PARERIGHT  DOM
      out4  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
      out5  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out4 DOT max PARELEFT  PARERIGHT  COMMA  out5 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      left_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      left_padded_input[]  EQUAL  0 DOM
      left_padded_input[]  EQUAL  0 DOM
      out6  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      right_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      right_padded_input[]  EQUAL  0 DOM
      right_padded_input[]  EQUAL  0 DOM
      out7  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
  @tf_test_util DOT run_deprecated_v1 DOM
  def test_regularizers_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT cached_session PARELEFT  PARERIGHT  COLON  DOM
      layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL  QUOTMARK  COMMA activity_regularizer EQUAL  QUOTMARK  PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  3 PARERIGHT  DOM
      x  EQUAL  keras DOT backend DOT variable PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT layer DOT get_losses_for PARELEFT  PARERIGHT  PARERIGHT  COMMA  1 PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  test DOT main PARELEFT  PARERIGHT from tensorflow import keras DOM
from util_tools DOT log_utils import get_logger DOM
LOGGER  EQUAL  get_logger PARELEFT  PARERIGHT  DOM
sgd  EQUAL  keras DOT optimizers DOT SGD PARELEFT  PARERIGHT  DOM
def get_model PARELEFT  PARERIGHT  COLON  DOM
    if  name EQUAL  EQUAL  QUOTMARK  COLON  DOM
        return zzw_cnn PARELEFT  PARERIGHT  DOM
    elif name EQUAL  EQUAL  QUOTMARK  COLON  DOM
        return zzw_lstm PARELEFT  PARERIGHT  DOM
    elif name EQUAL  EQUAL  QUOTMARK  COLON  DOM
        return final_model PARELEFT  PARERIGHT  DOM
    elif name EQUAL  EQUAL  QUOTMARK  COLON  DOM
        return yeqy_cnn PARELEFT  PARERIGHT  DOM
    elif name EQUAL  EQUAL  QUOTMARK  COLON  DOM
        return yeqy_lstm_single PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        LOGGER DOT error PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        assert PARELEFT  PARERIGHT  DOM
def final_active_func PARELEFT  PARERIGHT  COLON  DOM
    if classify_type  EQUAL  EQUAL  4 COLON  DOM
        return  QUOTMARK  DOM
    elif classify_type  EQUAL  EQUAL  16 COLON  DOM
        return  QUOTMARK  DOM
def zzw_cnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras DOT Sequential PARELEFT  PARERIGHT  DOM
    e  EQUAL  keras DOT layers DOT Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT MaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT MaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT MaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT classify_type COMMA  activation EQUAL final_active_func PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def final_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras DOT Sequential PARELEFT  PARERIGHT  DOM
    e  EQUAL  keras DOT layers DOT Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT GlobalMaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT classify_type COMMA  activation EQUAL final_active_func PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def yeqy_lstm_single PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras DOT Sequential PARELEFT  PARERIGHT  DOM
    e  EQUAL  keras DOT layers DOT Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT classify_type COMMA  activation EQUAL final_active_func PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def yeqy_cnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras DOT Sequential PARELEFT  PARERIGHT  DOM
    e  EQUAL  keras DOT layers DOT Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT GlobalMaxPool1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT 256 COMMA  activation EQUAL  QUOTMARK  COMMA bias_regularizer EQUAL keras DOT regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT classify_type COMMA  activation EQUAL final_active_func PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def zzw_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras DOT Sequential PARELEFT  PARERIGHT  DOM
    e  EQUAL  keras DOT layers DOT Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT classify_type COMMA  activation EQUAL final_active_func PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT models import Model DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT callbacks import TensorBoard DOM
from keras import Sequential DOM
import numpy as np DOM
data_dim  EQUAL  16 DOM
timesteps  EQUAL  8 DOM
num_classes  EQUAL  10 DOM
batch_size  EQUAL  32 DOM
def hold PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 32 COMMA  return_sequences EQUAL True COMMA  stateful EQUAL True COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    x_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_train  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    x_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    max_caption_len  EQUAL  16 DOM
    vocab_size  EQUAL  10000 DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT np DOT shape PARELEFT  PARERIGHT  PARERIGHT  DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT np DOT shape PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM COMMA  Bidirectional DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
from keras DOT optimizers import SGD COMMA  Nadam DOM
def get_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  Nadam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model COMMA optfrom keras DOT models import Sequential DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT core import Merge COMMA  Dense COMMA  Dropout DOM
import numpy as np DOM
class TGVModel COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT trigram_model  EQUAL  self DOT random_first_level_network PARELEFT  PARERIGHT  DOM
        self DOT word_network  EQUAL  self DOT first_level_network PARELEFT  PARERIGHT  DOM
        self DOT tags_network  EQUAL  self DOT first_level_network PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  self DOT second_level_network PARELEFT  PARERIGHT  DOM
    def first_level_network PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  44 DOM
global_batch_size  EQUAL  16 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom __future__ import print_function DOM
from hyperopt import Trials COMMA  STATUS_OK COMMA  tpe DOM
from keras DOT datasets import mnist DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT models import Sequential DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
from hyperas import optim DOM
from keras DOT models import model_from_json DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT optimizers import SGD  COMMA  Adam DOM
import tensorflow as tf DOM
import keras DOT backend as K DOM
from hyperas DOT distributions import choice COMMA  uniform COMMA  conditional DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
__author__  EQUAL   QUOTMARK  DOM
def data PARELEFT  PARERIGHT  COLON  DOM
    x  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
    x  EQUAL  x DOT reshape PARELEFT  PARERIGHT  DOM
    y  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
    y  EQUAL  y DOT reshape PARELEFT  PARERIGHT  DOM
    x_train  COMMA x_test   EQUAL  np DOT split PARELEFT  PARERIGHT  DOM
    y_train  COMMA  y_test EQUAL  np DOT split PARELEFT  PARERIGHT  DOM
    return x_train COMMA  y_train COMMA  x_test COMMA  y_test DOM
def model PARELEFT  PARERIGHT  COLON  DOM
    model_lstm  DOT add PARELEFT LSTM PARELEFT {{choice PARELEFT  PARERIGHT }} COMMA  dropout EQUAL {{uniform PARELEFT  PARERIGHT }} COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA urrent_dropout EQUAL {{uniform PARELEFT  PARERIGHT }} COMMA return_sequences  EQUAL  True PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    condition  EQUAL  conditional PARELEFT {{choice PARELEFT  PARERIGHT }} PARERIGHT  DOM
    if condition  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        pass DOM
    elif condition  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model_lstm  DOT add PARELEFT LSTM PARELEFT {{choice PARELEFT  PARERIGHT }} COMMA  dropout EQUAL {{uniform PARELEFT  PARERIGHT }} COMMA ecurrent_dropout EQUAL {{uniform PARELEFT  PARERIGHT }} COMMA turn_sequences  EQUAL  True PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    elif condition   EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model_lstm  DOT add PARELEFT LSTM PARELEFT {{choice PARELEFT  PARERIGHT }} COMMA  dropout EQUAL {{uniform PARELEFT  PARERIGHT }} COMMA ecurrent_dropout EQUAL {{uniform PARELEFT  PARERIGHT }} COMMA turn_sequences  EQUAL  True PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT Dense PARELEFT {{choice PARELEFT  PARERIGHT }} PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT Activation PARELEFT {{choice PARELEFT  PARERIGHT }} PARERIGHT  PARERIGHT  DOM
    elif condition  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model_lstm  DOT add PARELEFT LSTM PARELEFT {{choice PARELEFT  PARERIGHT }} COMMA  dropout EQUAL {{uniform PARELEFT  PARERIGHT }} COMMA ecurrent_dropout EQUAL {{uniform PARELEFT  PARERIGHT }} COMMA turn_sequences  EQUAL  True PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT Dense PARELEFT {{choice PARELEFT  PARERIGHT }} PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT Activation PARELEFT {{choice PARELEFT  PARERIGHT }} PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT Dense PARELEFT {{choice PARELEFT  PARERIGHT }} COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT Activation PARELEFT {{choice PARELEFT  PARERIGHT }} PARERIGHT  PARERIGHT  DOM
    model_lstm  DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    adam  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model_lstm  DOT compile PARELEFT  PARERIGHT  DOM
    model_lstm DOT summary PARELEFT  PARERIGHT  DOM
    model_lstm DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL 1 COMMA epochs EQUAL 1 COMMA verbose EQUAL 1 COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    loss COMMA  acc  EQUAL  model_lstm DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    return { QUOTMARK  COLON  -acc COMMA   QUOTMARK  COLON  STATUS_OK COMMA   QUOTMARK  COLON  model_lstm} DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    import gc; gc DOT collect PARELEFT  PARERIGHT  DOM
    best_run COMMA  best_model  EQUAL  optim DOT minimize PARELEFT model EQUAL model COMMA data EQUAL data COMMA algo EQUAL tpe DOT suggest COMMA max_evals EQUAL 40 COMMA trials EQUAL Trials PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_train COMMA  Y_train COMMA  X_test COMMA  Y_test  EQUAL  data PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT best_model DOT evaluate PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT import argparse DOM
import h5py DOM
from base_model import BaseModel DOM
from data_source import DataSource DOM
from keras DOT layers import concatenate DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import GRU DOM
from keras DOT layers import Input DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Conv1D DOM
from keras DOT layers import Conv2D DOM
from keras DOT layers import MaxPooling1D DOM
from keras DOT layers import MaxPooling2D DOM
from keras DOT layers import Merge DOM
from keras DOT layers DOT core import Flatten DOM
from keras DOT layers DOT core import Reshape DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
from keras DOT models import Model DOM
from keras DOT models import Sequential DOM
from keras DOT models import load_model DOM
import numpy as np DOM
from utils DOT vocabulary import Vocabulary DOM
DROPOUT  EQUAL  0 DOT 2 DOM
LSTM_SIZE  EQUAL  1024 DOM
SEQ_LEN  EQUAL  40 DOM
OPENAI_FEATURE_SIZE  EQUAL  4096 DOM
OPENAI_REDUCED_SIZE  EQUAL  25 DOM
BATCH_SIZE  EQUAL  64 DOM
class Model PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        BaseModel DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT filter_sizes  EQUAL  [] DOM
        self DOT num_filters  EQUAL  256 DOM
    def create_model PARELEFT  PARERIGHT  COLON  DOM
        if ckpt_file is None COLON  DOM
            if self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                conv_filters  EQUAL  [] DOM
                for filter_size in self DOT filter_sizes COLON  DOM
                    conv_filters DOT append PARELEFT Sequential PARELEFT  PARERIGHT  PARERIGHT  DOM
                    conv_filters[] DOT add PARELEFT  PARERIGHT  DOM
                    conv_filters[] DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
                    conv_filters[] DOT add PARELEFT MaxPooling1D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                filter_size  EQUAL  3 DOM
                self DOT model DOT add PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Conv1D PARELEFT filters EQUAL int PARELEFT  PARERIGHT  COMMA  kernel_size EQUAL filter_size COMMA rides EQUAL 1 COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                filter_size  EQUAL  3 DOM
                self DOT model DOT add PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Conv1D PARELEFT filters EQUAL int PARELEFT  PARERIGHT  COMMA  kernel_size EQUAL filter_size COMMA rides EQUAL 1 COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Conv1D PARELEFT filters EQUAL int PARELEFT  PARERIGHT  COMMA  kernel_size EQUAL filter_size COMMA rides EQUAL 1 COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Conv1D PARELEFT filters EQUAL int PARELEFT  PARERIGHT  COMMA  kernel_size EQUAL filter_size COMMA rides EQUAL 1 COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                print PARELEFT  PARERIGHT  DOM
                branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                branch1 DOT add PARELEFT  PARERIGHT  DOM
                branch1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
                print PARELEFT  PARERIGHT  DOM
                conv_filters  EQUAL  [] DOM
                for filter_size in self DOT filter_sizes COLON  DOM
                    conv_filters DOT append PARELEFT Sequential PARELEFT  PARERIGHT  PARERIGHT  DOM
                    conv_filters[] DOT add PARELEFT  PARERIGHT  DOM
                    conv_filters[] DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
                    conv_filters[] DOT add PARELEFT MaxPooling1D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                branch2 DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
                branch2 DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
                branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                print PARELEFT  PARERIGHT  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                print PARELEFT  PARERIGHT  DOM
                branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                branch1 DOT add PARELEFT  PARERIGHT  DOM
                branch1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
                print PARELEFT  PARERIGHT  DOM
                branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                branch2 DOT add PARELEFT Dense PARELEFT OPENAI_REDUCED_SIZE COMMA ctivation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                print PARELEFT  PARERIGHT  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif self DOT arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT  PARERIGHT  DOM
                lstm_layer  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            else COLON  DOM
                raise NotImplementedError PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    args  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
    vocab  EQUAL  Vocabulary PARELEFT  PARERIGHT  DOM
    openai_features_dir  EQUAL  None DOM
    if args DOT lstm_arch  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        openai_features_dir  EQUAL   QUOTMARK  DOM
    data_source  EQUAL  DataSource PARELEFT vocab EQUAL vocab COMMA labeled_data_file EQUAL args DOT train_file COMMA test_data_file EQUAL  QUOTMARK  COMMA embedding_file EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA embedding_dim EQUAL args DOT emb_len COMMA seq_length EQUAL SEQ_LEN COMMA embedding_type EQUAL args DOT embedding_type COMMA openai_features_dir EQUAL openai_features_dir PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    if args DOT is_train COLON  DOM
        model DOT create_model PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT train PARELEFT  PARERIGHT  DOM
    elif args DOT is_eval COLON  DOM
        model DOT create_model PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        y_test COMMA  y_probs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            f DOT write PARELEFT  PARERIGHT  DOM
            for idx COMMA  y in zip PARELEFT np DOT arange PARELEFT  PARERIGHT  COMMA  y_test PARERIGHT  COLON  DOM
                f DOT write PARELEFT str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  PARERIGHT  DOM
    else COLON  DOM
        model DOT create_model PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        y_test COMMA  y_probs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            f DOT write PARELEFT  PARERIGHT  DOM
            for idx COMMA  y in zip PARELEFT np DOT arange PARELEFT  PARERIGHT  COMMA  y_test PARERIGHT  COLON  DOM
                f DOT write PARELEFT str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            f DOT write PARELEFT  PARERIGHT  DOM
            for idx COMMA  y in zip PARELEFT np DOT arange PARELEFT  PARERIGHT  COMMA  y_probs PARERIGHT  COLON  DOM
                f DOT write PARELEFT str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        y_val COMMA  y_probs  EQUAL  model DOT predict PARELEFT data_source DOT validation PARELEFT  PARERIGHT [] PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            f DOT write PARELEFT  PARERIGHT  DOM
            for idx COMMA  probs COMMA  pred_y COMMA  true_y in zip PARELEFT  np DOT arange PARELEFT  PARERIGHT  COMMA  y_probs COMMA _val COMMA  data_source DOT validation PARELEFT  PARERIGHT [] PARERIGHT  COLON  DOM
                f DOT write PARELEFT str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  ++ str PARELEFT  PARERIGHT  +  QUOTMARK  DOM
import os DOM
global_model_version  EQUAL  31 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import numpy as np DOM
import pandas as pd DOM
import datetime DOM
import matplotlib DOT pyplot as plt DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from keras DOT callbacks import EarlyStopping COMMA  ReduceLROnPlateau COMMA  ModelCheckpoint COMMA  TensorBoard DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA Conv1D COMMA MaxPooling1D COMMA Flatten COMMA LSTM COMMA GRU DOM
import pywt DOM
from collections import defaultdict DOM
from keras import losses DOM
from sklearn import metrics DOM
import math DOM
import sys DOM
from keras DOT callbacks import History  DOM
def mean_absolute_percentage_error PARELEFT  PARERIGHT  COLON  DOM
    return np DOT mean PARELEFT np DOT abs PARELEFT  PARELEFT  PARERIGHT  / y_true PARERIGHT  PARERIGHT *100 DOM
def multivariateGRU PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def multivariateLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def multivariateLSTM_sequence PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def singleLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def singleLSTM_sequences PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def singleGRU PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def Ensemble_Network PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT nodes COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def train PARELEFT  PARERIGHT  COLON  DOM
    history  EQUAL  History PARELEFT  PARERIGHT  DOM
    reduce_lr  EQUAL  ReduceLROnPlateau PARELEFT  PARERIGHT                                    DOM
    checkpointer EQUAL ModelCheckpoint PARELEFT  PARERIGHT  DOM
    earlystopper EQUAL EarlyStopping PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT x COMMA  y COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA epochs EQUAL epochs COMMA  batch_size EQUAL batch COMMA  verbose EQUAL 0 COMMA  shuffle EQUAL True COMMA callbacks EQUAL [] PARERIGHT  DOM
    lowest_val_loss EQUAL min PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    return model COMMA lowest_val_lossimport pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class JobsPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT models import load_model DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from config import MODEL_DIR COMMA  SCORE_COLUMNS DOM
import os DOT path as osp DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def train_model PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  build_model PARELEFT  PARERIGHT  DOM
	model DOT fit PARELEFT  PARERIGHT  DOM
	model DOT save PARELEFT osp DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
def test_model PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  load_model PARELEFT osp DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
	loss  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
	return lossimport numpy as np DOM
from keras DOT layers import Input COMMA  Dense DOM
from keras DOT models import Model DOM
X  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
h  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
model2  EQUAL  Model PARELEFT  PARERIGHT  DOM
model2 DOT compile PARELEFT  PARERIGHT  DOM
out  EQUAL  model2 DOT predict PARELEFT  PARERIGHT  DOM
out DOT shape DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
import reader DOM
[]  EQUAL  reader DOT get_formatted_data PARELEFT  PARERIGHT  DOM
responses  EQUAL  reader DOT get_response PARELEFT  PARERIGHT  DOM
input_layer_matrix  EQUAL  reader DOT get_embedding_matrix_input PARELEFT  PARERIGHT  DOM
word_indices  EQUAL  reader DOT get_word_index PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT len PARELEFT  PARERIGHT  + 1 COMMA 300 COMMA weights EQUAL [] COMMA input_length EQUAL 40 COMMA trainable EQUAL False PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT layers import Input COMMA  Dense DOM
from keras DOT models import Model DOM
from keras DOT layers DOT embeddings import Embedding DOM
X  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
h  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
model2  EQUAL  Model PARELEFT  PARERIGHT  DOM
model2 DOT compile PARELEFT  PARERIGHT  DOM
out  EQUAL  model2 DOT predict PARELEFT  PARERIGHT  DOM
out DOT shape DOM
from keras DOT models import Sequential   DOM
from keras DOT layers DOT core import Dense COMMA  Activation   DOM
from keras DOT layers DOT recurrent import LSTM DOM
in_out_neurons  EQUAL  2   DOM
hidden_neurons  EQUAL  300 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT    DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT    DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT    DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT    DOM
model DOT compile PARELEFT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers import Input COMMA  Dense DOM
from keras DOT models import Model DOM
from keras DOT layers DOT core import Reshape DOM
X  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
flatten  EQUAL  Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT   PARELEFT  PARERIGHT  DOM
h  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
model2  EQUAL  Model PARELEFT  PARERIGHT  DOM
model2 DOT compile PARELEFT  PARERIGHT  DOM
out  EQUAL  model2 DOT predict PARELEFT  PARERIGHT  DOM
out DOT shapefrom keras DOT layers import Input COMMA  Dense COMMA  Conv2D COMMA  MaxPooling2D COMMA  UpSampling2D COMMA  LSTM COMMA  Embedding COMMA  Dropout DOM
from keras DOT models import Model COMMA  Sequential DOM
from keras import layers DOM
from keras import backend as K DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras import callbacks DOM
from keras DOT callbacks import TensorBoard DOM
from keras import metrics DOM
from keras import optimizers DOM
def model_v34 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 52 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v35 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 52 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v38 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 52 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v39 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v40 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v41 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v42 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v43 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v44 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v45 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v46 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v47 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v48 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v49 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v50 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  model_v49 PARELEFT  PARERIGHT  DOM
	return model DOM
def model_v51 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  model_v49 PARELEFT  PARERIGHT  DOM
	return model DOM
def model_v52 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 39 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v53 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 256 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def model_v54 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT 256 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	return modelfrom keras DOT models import Sequential DOM
from keras DOT callbacks import EarlyStopping DOM
from keras DOT optimizers import Nadam DOM
from keras DOT layers import Merge DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT utils DOT np_utils import to_categorical DOM
import numpy as np DOM
from sklearn DOT metrics import confusion_matrix COMMA  accuracy_score DOM
from import_dataset import x_accel_test COMMA  x_accel_validation COMMA  x_accel_train COMMA  y_accel_test COMMA  y_accel_validation COMMA  y_accel_train COMMA  z_accel_test COMMA  z_accel_validation COMMA  z_accel_train COMMA  x_gyro_test COMMA  x_gyro_validation COMMA  x_gyro_train COMMA  y_gyro_test COMMA  y_gyro_validation COMMA  y_gyro_train COMMA  z_gyro_test COMMA  z_gyro_validation COMMA  z_gyro_train COMMA  y_test COMMA  y_validation COMMA  y_train DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    subsample  EQUAL  2 DOM
    N_dense  EQUAL  60 DOM
    N_LSTM  EQUAL  40 DOM
    lr  EQUAL  9 DOT 7e-4 DOM
    b1  EQUAL  0 DOT 9 DOM
    b2  EQUAL  0 DOT 9 DOM
    model_x_acc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_x_acc DOT add PARELEFT LSTM PARELEFT N_LSTM COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_y_acc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_y_acc DOT add PARELEFT LSTM PARELEFT N_LSTM COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_z_acc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_z_acc DOT add PARELEFT LSTM PARELEFT N_LSTM COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_x_gyr  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_x_gyr DOT add PARELEFT LSTM PARELEFT N_LSTM COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_y_gyr  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_y_gyr DOT add PARELEFT LSTM PARELEFT N_LSTM COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_z_gyr  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_z_gyr DOT add PARELEFT LSTM PARELEFT N_LSTM COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    merged  EQUAL  Merge PARELEFT  PARERIGHT  DOM
    final_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    final_model DOT add PARELEFT  PARERIGHT  DOM
    final_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    final_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    nadam  EQUAL  Nadam PARELEFT  PARERIGHT  DOM
    final_model DOT compile PARELEFT  PARERIGHT  DOM
    y_train_c  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    y_validation_c  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    final_model DOT fit PARELEFT [] COMMA y_train_c COMMA validation_data EQUAL  PARELEFT  PARERIGHT  COMMA nb_epoch EQUAL 1000 COMMA callbacks EQUAL [] PARERIGHT  DOM
    predictions  EQUAL  np DOT argmax PARELEFT final_model DOT predict PARELEFT  PARERIGHT  COMMA  axis EQUAL 1 PARERIGHT  DOM
    predictions_train  EQUAL  np DOT argmax PARELEFT final_model DOT predict PARELEFT  PARERIGHT  COMMA  axis EQUAL 1 PARERIGHT  DOM
    predictions_val  EQUAL  np DOT argmax PARELEFT final_model DOT predict PARELEFT  PARERIGHT  COMMA  axis EQUAL 1 PARERIGHT  DOM
    print  QUOTMARK  DOM
    print confusion_matrix PARELEFT  PARERIGHT  DOM
    print  QUOTMARK  COMMA  accuracy_score PARELEFT  PARERIGHT  DOM
    test_acc  EQUAL  accuracy_score PARELEFT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    print  QUOTMARK  DOM
    print confusion_matrix PARELEFT  PARERIGHT  DOM
    print  QUOTMARK  COMMA  accuracy_score PARELEFT  PARERIGHT  DOM
    train_acc  EQUAL  accuracy_score PARELEFT  PARERIGHT  DOM
    val_acc  EQUAL  accuracy_score PARELEFT  PARERIGHT  DOM
    final_model DOT save PARELEFT  PARERIGHT  DOM
    final_model DOT save_weights PARELEFT  PARERIGHT from __future__ import print_function DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import Adam DOM
from keras DOT datasets import imdb DOM
from keras DOT callbacks import TensorBoard COMMA  ModelCheckpoint DOM
from keras_diagram import ascii DOM
def binary_model PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT ascii PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def multiclass_model PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT ascii PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  2000 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader1  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list1  EQUAL  list PARELEFT  PARERIGHT  DOM
testX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y1  EQUAL  testdata DOT iloc[] DOM
y_test1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  2000 DOM
testX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  5 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL 500 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA callbacks EQUAL [] PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT callbacks import ModelCheckpoint DOM
def lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT n_neurons COMMA nput_shape EQUAL  PARELEFT seq_length COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COMMA dropout EQUAL 0 DOT 2 COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
import keras DOT models as km DOM
import keras as keras DOM
X_train COMMA  y_train COMMA  X_test COMMA  y_test  EQUAL  lstm DOT load_data PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print  QUOTMARK  COMMA  time DOT time PARELEFT  PARERIGHT  - start DOM
tbCallBack  EQUAL  keras DOT callbacks DOT TensorBoard PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA y_train COMMA batch_size EQUAL 512 COMMA nb_epoch EQUAL 1 COMMA validation_split EQUAL 0 DOT 05 COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  COMMA callbacks EQUAL [] PARERIGHT  DOM
score COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print  QUOTMARK  %  PARELEFT  PARERIGHT  DOM
print  QUOTMARK  %  PARELEFT  PARERIGHT  DOM
from math import sqrt DOM
from numpy import concatenate DOM
from matplotlib import pyplot DOM
import numpy as np DOM
from pandas import read_csv DOM
from pandas import DataFrame DOM
from keras DOT models import load_model DOM
from pandas import concat DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from sklearn DOT preprocessing import LabelEncoder DOM
from sklearn DOT metrics import mean_squared_error DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT core import RepeatVector DOM
from keras DOT layers import Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import SGD DOM
from keras DOT models import model_from_yaml DOM
import os DOM
from keras DOT utils import plot_model DOM
from keras DOT utils DOT vis_utils import plot_model DOM
from keras DOT utils DOT vis_utils import model_to_dot DOM
    i  EQUAL  0 DOM
    filenamelist  EQUAL  list PARELEFT  PARERIGHT  DOM
        wholefilepath  EQUAL  dir +  QUOTMARK  + filename DOM
        filenamelist DOT append PARELEFT  PARERIGHT  DOM
    return filenamelist DOM
def data_to_reconstruction_problem PARELEFT  PARERIGHT  COLON  DOM
    df  EQUAL  DataFrame PARELEFT  PARERIGHT  DOM
    list_concat  EQUAL  list PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        tempdf  EQUAL  df DOT shift PARELEFT  PARERIGHT  DOM
        list_concat DOT append PARELEFT  PARERIGHT  DOM
    data_for_autoencoder  EQUAL  concat PARELEFT  PARERIGHT  DOM
    data_for_autoencoder DOT dropna PARELEFT  PARERIGHT  DOM
    return data_for_autoencoder DOM
def out_put_core PARELEFT  PARERIGHT  COLON  DOM
    thefile  EQUAL  open PARELEFT  PARERIGHT  DOM
    for item in writting_list COLON  DOM
        thefile DOT write PARELEFT  PARERIGHT  DOM
def data_preprocess PARELEFT  PARERIGHT  COLON  DOM
    dataset  EQUAL  read_csv PARELEFT  PARERIGHT  DOM
    if dataset DOT shape[]<16 COLON  DOM
        return 0 COMMA 0 DOM
    values  EQUAL  dataset DOT values DOM
    reframed  EQUAL  data_to_reconstruction_problem PARELEFT  PARERIGHT  DOM
    reframedvalues  EQUAL  reframed DOM
    reframed  EQUAL  reframed DOT astype PARELEFT  PARERIGHT  DOM
    scaler  EQUAL  MinMaxScaler PARELEFT feature_range EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    scaled  EQUAL  scaler DOT fit_transform PARELEFT  PARERIGHT  DOM
    dfscaled  EQUAL  DataFrame PARELEFT  PARERIGHT  DOM
    valuescaled  EQUAL dfscaled DOT values DOM
    return  valuescaled COMMA scaler COMMA reframedvalues DOM
def SingleFileLstmAutoencoder PARELEFT  PARERIGHT  COLON  DOM
    W_Hidden1_list  EQUAL  list PARELEFT  PARERIGHT  DOM
    W_Hidden2_list  EQUAL  list PARELEFT  PARERIGHT  DOM
    W_Hidden3_list  EQUAL  list PARELEFT  PARERIGHT  DOM
    W_Hidden4_list  EQUAL  list PARELEFT  PARERIGHT  DOM
    W_Hidden5_list  EQUAL  list PARELEFT  PARERIGHT  DOM
    train_X COMMA  scaler COMMA  y  EQUAL  data_preprocess PARELEFT  PARERIGHT  DOM
    train_X  EQUAL  train_X DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    sample_number  EQUAL  train_X DOT shape[] DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def train5modelAE PARELEFT  PARERIGHT  COLON  DOM
    k1  EQUAL  SingleFileLstmAutoencoder PARELEFT  PARERIGHT  DOM
    k2  EQUAL  SingleFileLstmAutoencoder PARELEFT  PARERIGHT  DOM
    k3  EQUAL  SingleFileLstmAutoencoder PARELEFT  PARERIGHT  DOM
    k4  EQUAL  SingleFileLstmAutoencoder PARELEFT  PARERIGHT  DOM
    k5  EQUAL  SingleFileLstmAutoencoder PARELEFT  PARERIGHT  DOM
    return k1 COMMA  k2 COMMA  k3 COMMA  k4 COMMA  k5 DOM
apa  EQUAL  200 DOM
batch  EQUAL  10 DOM
timestep  EQUAL  16 DOM
numfeature  EQUAL  25 DOM
data_for_model_training_1  EQUAL  r QUOTMARK  DOM
data_for_model_training_2  EQUAL  r QUOTMARK  DOM
data_for_model_training_3  EQUAL  r QUOTMARK  DOM
data_for_model_training_4  EQUAL  r QUOTMARK  DOM
data_for_model_training_5  EQUAL  r QUOTMARK  DOM
k1 COMMA  k2 COMMA  k3 COMMA  k4 COMMA  k5  EQUAL  train5modelAE PARELEFT  PARERIGHT  DOM
filename  EQUAL   r QUOTMARK  DOM
timestep  EQUAL  16 DOM
numfeature  EQUAL  25 DOM
apa  EQUAL  10 DOM
batch  EQUAL  4 DOM
def postboosting PARELEFT  PARERIGHT  COLON  DOM
    test_x COMMA  scaler COMMA y  EQUAL  data_preprocess PARELEFT  PARERIGHT  DOM
    test_x  EQUAL  test_x DOT reshape PARELEFT  PARERIGHT  DOM
    yhatk1  EQUAL  k1 DOT predict PARELEFT  PARERIGHT  DOM
    yhatk2  EQUAL  k2 DOT predict PARELEFT  PARERIGHT  DOM
    yhatk3  EQUAL  k3 DOT predict PARELEFT  PARERIGHT  DOM
    yhatk4  EQUAL  k4 DOT predict PARELEFT  PARERIGHT  DOM
    yhatk5  EQUAL  k5 DOT predict PARELEFT  PARERIGHT  DOM
    inputofdense  EQUAL  np DOT concatenate PARELEFT  PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOM
    test_x  EQUAL  test_x DOT reshape PARELEFT  PARERIGHT  DOM
    modelmerge  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    modelmerge DOT add PARELEFT Convolution2D PARELEFT nb_filter  EQUAL  1 COMMA nb_row  EQUAL  5 COMMA nb_col  EQUAL   1 COMMA  border_mode EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    modelmerge DOT compile PARELEFT  PARERIGHT  DOM
    history  EQUAL  modelmerge DOT fit PARELEFT  PARERIGHT  DOM
    return modelmerge DOM
modelmerge  EQUAL postboosting PARELEFT  PARERIGHT  DOM
filepathlist  EQUAL  r QUOTMARK  DOM
test_x COMMA  scaler COMMA y  EQUAL  data_preprocess PARELEFT  PARERIGHT  DOM
test_x  EQUAL  test_x DOT reshape PARELEFT  PARERIGHT  DOM
yhatk1  EQUAL  k1 DOT predict PARELEFT  PARERIGHT  DOM
yhatk2  EQUAL  k2 DOT predict PARELEFT  PARERIGHT  DOM
yhatk3  EQUAL  k3 DOT predict PARELEFT  PARERIGHT  DOM
yhatk4  EQUAL  k4 DOT predict PARELEFT  PARERIGHT  DOM
yhatk5  EQUAL  k5 DOT predict PARELEFT  PARERIGHT  DOM
inputofdense  EQUAL  np DOT concatenate PARELEFT  PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOM
yhat  EQUAL  modelmerge DOT predict PARELEFT  PARERIGHT  DOM
yhat  EQUAL  yhat DOT reshape PARELEFT  PARERIGHT  DOM
yhat  EQUAL  scaler DOT inverse_transform PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
rmse  EQUAL  np DOT sqrt PARELEFT np DOT mean PARELEFT  PARELEFT  PARELEFT  PARERIGHT  ** 2 PARERIGHT  COMMA axis EQUAL 1 PARERIGHT  PARERIGHT  DOM
print PARELEFT np DOT mean PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT modelmerge DOT layers[] DOT get_weights PARELEFT  PARERIGHT [] PARERIGHT from collections import Counter DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA  RepeatVector COMMA  Merge DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        lstm  EQUAL  LSTM PARELEFT 200 COMMA  dropout_W EQUAL 0 DOT 3 COMMA  dropout_U EQUAL 0 DOT 3 COMMA  EQUAL  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT 0 DOT 3 COMMA  name EQUAL  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
def get_vocab PARELEFT  PARERIGHT  COLON  DOM
    vocab_count COMMA  vocab  EQUAL  Counter PARELEFT w for txt in lst for w in txt DOT split PARELEFT  PARERIGHT  PARERIGHT  DOM
    return vocab COMMA  vocab_count DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import random DOM
import sys DOM
import numpy as np DOM
from sklearn DOT cross_validation import train_test_split DOM
from save_load_model import * DOM
from keras DOT models import Sequential DOM
from keras DOT models import model_from_json DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT regularizers import l1 COMMA  l2 COMMA  activity_l1 COMMA  activity_l2 DOM
from keras DOT utils DOT visualize_util import plot DOM
def createModel PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT settings DOT hiddenNodes COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    if  PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT settings DOT N_values COMMA  W_regularizer EQUAL l1 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    elif settings DOT l2Amount > 0 COLON  DOM
        model DOT add PARELEFT Dense PARELEFT settings DOT N_values COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    settings DOT filename  EQUAL  settings DOT activation +  QUOTMARK  + settings DOT trainingset +  QUOTMARK  + str PARELEFT  PARERIGHT  + QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT   DOM
    save_model_scratch PARELEFT  PARERIGHT  DOM
    with open PARELEFT  PARERIGHT  as settingsFile COLON  DOM
        for  PARELEFT  PARERIGHT  in vars PARELEFT  PARERIGHT  DOT items PARELEFT  PARERIGHT  COLON  DOM
            settingsFile DOT write PARELEFT setting +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  PARERIGHT  DOM
    if createPlot COLON  DOM
        plot PARELEFT  PARERIGHT  DOM
    return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT model_selection import StratifiedKFold DOM
from sklearn DOT model_selection import cross_val_score DOM
from sklearn DOT model_selection import GridSearchCV DOM
import numpy DOM
from babeltraceReader import * DOM
from sklearn DOT externals import joblib DOM
import babeltrace DOM
import threading COMMA  queue DOM
from datetime import datetime DOM
import os DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT model_selection import GridSearchCV DOM
import numpy DOM
from testFeatureExtraction import * DOM
import os DOM
def create_model1 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def create_model2 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def create_model3 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def benchmarkLSTM PARELEFT  PARERIGHT  COLON  DOM
    seed  EQUAL  7 DOM
    numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
    os DOT system PARELEFT  PARERIGHT  DOM
    vec  EQUAL  DictVectorizer PARELEFT  PARERIGHT  DOM
    listeOutput  EQUAL  [] DOM
    dictDataset  EQUAL  itertools DOT chain DOT from_iterable PARELEFT readCSV_data PARELEFT  PARERIGHT  PARERIGHT  DOM
    for item in readCSV_output PARELEFT  PARERIGHT  COLON  DOM
        listeOutput  EQUAL  listeOutput  + item  DOM
    X  EQUAL  vec DOT fit_transform PARELEFT  PARERIGHT  DOT toarray PARELEFT  PARERIGHT  DOM
    Y  EQUAL  listeOutput DOM
    scoring  EQUAL  [] DOM
    kfold  EQUAL  StratifiedKFold PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model2  EQUAL  KerasClassifier PARELEFT  PARERIGHT  DOM
    scores2  EQUAL  cross_validate PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    save  EQUAL  joblib DOT dump PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    save  EQUAL  None DOM
    save  EQUAL  joblib DOT dump PARELEFT  PARERIGHT  DOM
    if save ! EQUAL  None  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        print PARELEFT  PARERIGHT  DOM
def LSTMFromCSV PARELEFT  PARERIGHT  COLON  DOM
    seed  EQUAL  7 DOM
    numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
    os DOT system PARELEFT  PARERIGHT  DOM
    vec  EQUAL  DictVectorizer PARELEFT  PARERIGHT  DOM
    listeOutput  EQUAL  [] DOM
    dictDataset  EQUAL  itertools DOT chain DOT from_iterable PARELEFT readCSV_data PARELEFT  PARERIGHT  PARERIGHT  DOM
    for item in readCSV_output PARELEFT  PARERIGHT  COLON  DOM
        listeOutput  EQUAL  listeOutput  + item  DOM
    X  EQUAL  vec DOT fit_transform PARELEFT  PARERIGHT  DOT toarray PARELEFT  PARERIGHT  DOM
    Y  EQUAL  listeOutput DOM
    kfold  EQUAL  StratifiedKFold PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model1  EQUAL  KerasClassifier PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    save  EQUAL  joblib DOT dump PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    save  EQUAL  None DOM
    save  EQUAL  joblib DOT dump PARELEFT  PARERIGHT  DOM
    if save ! EQUAL  None  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        print PARELEFT  PARERIGHT  DOM
def LSTMPredict PARELEFT  PARERIGHT  COLON  DOM
    modele  EQUAL   QUOTMARK  DOM
    dictVec  EQUAL   QUOTMARK  DOM
    clf  EQUAL  joblib DOT load PARELEFT  PARERIGHT  DOM
    vec  EQUAL  joblib DOT load PARELEFT  PARERIGHT  DOM
    trace_collection  EQUAL  babeltrace DOT TraceCollection PARELEFT  PARERIGHT  DOM
    trace_handle  EQUAL  trace_collection DOT add_trace PARELEFT  PARERIGHT  DOM
    listeMachines  EQUAL  [] DOM
    dicTid  EQUAL  {} DOM
    dictCPUid  EQUAL  {} DOM
    tempsDebut  EQUAL  datetime DOT now PARELEFT  PARERIGHT  DOT time PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK + str PARELEFT  PARERIGHT  PARERIGHT  DOM
    for event in trace_collection DOT events COLON  DOM
        try  COLON  DOM
            eventpreprocessed  EQUAL  preprocessMoreEventsklearn PARELEFT  PARERIGHT  DOM
            if clf DOT predict PARELEFT vec DOT transform PARELEFT  PARERIGHT  DOT toarray PARELEFT  PARERIGHT  PARERIGHT  ! EQUAL  [] COLON  DOM
                pass DOM
        except TypeError COLON  DOM
            pass DOM
def benchmarkPredictLSTM PARELEFT  PARERIGHT  COLON  DOM
    path  EQUAL   QUOTMARK  DOM
    listeDirectory  EQUAL  [] DOM
    listeDirectory  EQUAL  [] DOM
    tempsDebut  EQUAL   QUOTMARK  DOM
    tempsFin  EQUAL   QUOTMARK  DOM
    print PARELEFT  PARERIGHT  DOM
    for directory in listeDirectory COLON  DOM
        LSTMPredict PARELEFT  PARERIGHT  DOM
        tempsFin  EQUAL  datetime DOT now PARELEFT  PARERIGHT  DOT time PARELEFT  PARERIGHT  DOM
        print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT   PARERIGHT  DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    benchmarkPredictLSTM PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT  DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM COMMA  SimpleDeepRNN DOM
def simpleLSTM PARELEFT  PARERIGHT   COLON  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def LSTM512 PARELEFT  PARERIGHT   COLON  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def simpleRNN PARELEFT  PARERIGHT   COLON  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleDeepRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def RNN512 PARELEFT  PARERIGHT   COLON  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleDeepRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def GRU512 PARELEFT  PARERIGHT   COLON  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT recurrent DOT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
Models  EQUAL  { QUOTMARK  COLON simpleRNN COMMA   QUOTMARK  COLON simpleLSTM COMMA   QUOTMARK  COLON LSTM512 COMMA   QUOTMARK  COLON RNN512 COMMA   QUOTMARK  COLON GRU512} DOM
AllModels  EQUAL  Models DOT keys PARELEFT  PARERIGHT  DOM
def getModel PARELEFT  PARERIGHT   COLON  DOM
    return Models[] PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
from keras DOT layers DOT merge import Concatenate COMMA  Add COMMA  add DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    word_feature_size  EQUAL  300 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions  EQUAL  30 DOM
    number_of_dense_layers  EQUAL  3 DOM
    number_of_hidden_units  EQUAL  1024 DOM
    activation_function  EQUAL   QUOTMARK  DOM
    dropout_pct  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
from __future__ import print_function DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Embedding DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU DOM
from keras DOT datasets import imdb DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT metrics import  PARELEFT  PARERIGHT  DOM
from sklearn import metrics DOM
from sklearn DOT preprocessing import Normalizer DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
X  EQUAL  traindata DOT iloc[] DOM
Y  EQUAL  traindata DOT iloc[] DOM
C  EQUAL  testdata DOT iloc[] DOM
T  EQUAL  testdata DOT iloc[] DOM
scaler  EQUAL  Normalizer PARELEFT  PARERIGHT  DOT fit PARELEFT  PARERIGHT  DOM
trainX  EQUAL  scaler DOT transform PARELEFT  PARERIGHT  DOM
np DOT set_printoptions PARELEFT  PARERIGHT  DOM
scaler  EQUAL  Normalizer PARELEFT  PARERIGHT  DOT fit PARELEFT  PARERIGHT  DOM
testT  EQUAL  scaler DOT transform PARELEFT  PARERIGHT  DOM
np DOT set_printoptions PARELEFT  PARERIGHT  DOM
y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testT COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  16 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
csv_logger  EQUAL  CSVLogger PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL 1000 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA callbacks EQUAL [] PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout COMMA  Highway DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense COMMA  Embedding DOM
def model PARELEFT  PARERIGHT  COLON  DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_image DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_image DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_image DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT args DOT num_hidden_units_lstm COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelimport keras DOT backend as K DOM
class TextMod PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT fc_dimension  EQUAL  fc_dimension DOM
        self DOT vocab  EQUAL  vocab DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT models import Model DOM
        from keras DOT layers import Embedding COMMA  Input COMMA  Dense COMMA  Dropout COMMA  LSTM COMMA  Lambda COMMA  multiply DOM
        lstm_cells  EQUAL  512 DOM
        fc_common_embedding_size  EQUAL  512 DOM
        activation  EQUAL   QUOTMARK  DOM
        dropout  EQUAL  0 DOT 5 DOM
        emb_dim  EQUAL  200 DOM
        vocab_size  EQUAL  self DOT vocab[] DOM
        output_classes  EQUAL  self DOT vocab[] DOM
        fc_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
        fc_norm  EQUAL  Lambda PARELEFT l2_norm COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        img_fc  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        img_drop  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        language_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
        l_in  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_fc  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_norm_fc  EQUAL  Lambda PARELEFT l2_norm COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_drop_fc  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        v_q_fc  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        fc_merged  EQUAL  multiply PARELEFT  PARERIGHT  DOM
        fc_merged_norm  EQUAL  Lambda PARELEFT l2_norm COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        fc_merged_dense  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        fc_merged_drop  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        fc_out  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
class SpeechMod PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT img_dim  EQUAL  img_dim DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import BatchNormalization COMMA  Activation COMMA  Merge DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Lambda DOM
        from keras DOT layers DOT convolutional import Conv1D DOM
        from keras DOT layers DOT pooling import MaxPooling1D DOM
        from keras DOT layers DOT recurrent import LSTM DOM
        common_embedding_size  EQUAL  512 DOM
        activation  EQUAL   QUOTMARK  DOM
        dropout  EQUAL  0 DOT 5 DOM
        image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        image_model DOT add PARELEFT Lambda PARELEFT l2_norm COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        image_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        image_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Conv1D PARELEFT 32 COMMA  64 COMMA  strides EQUAL 2 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Lambda PARELEFT l2_norm COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        speech_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Lambda PARELEFT l2_norm COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
def l2_norm PARELEFT  PARERIGHT  COLON  DOM
    epsilon  EQUAL  1e-4 DOM
    x_normed  EQUAL  K DOT sqrt PARELEFT K DOT sum PARELEFT K DOT square PARELEFT  PARERIGHT  COMMA  axis EQUAL -1 COMMA  keepdims EQUAL True PARERIGHT  PARERIGHT  DOM
    x  EQUAL  x /  PARELEFT  PARERIGHT  DOM
    return ximport numpy as np DOM
from keras DOT layers import LSTM DOM
from keras DOT models import Sequential DOM
from phased_lstm_keras DOT PhasedLSTM import PhasedLSTM DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    X  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    Y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT 10 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT summary PARELEFT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    model_plstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_plstm DOT add PARELEFT PhasedLSTM PARELEFT 10 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_plstm DOT summary PARELEFT  PARERIGHT  DOM
    model_plstm DOT compile PARELEFT  PARERIGHT  DOM
    model_lstm DOT fit PARELEFT  PARERIGHT  DOM
    model_plstm DOT fit PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Conv1D COMMA  MaxPooling1D DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
import wandb DOM
from wandb DOT wandb_keras import WandbKerasCallback DOM
run  EQUAL  wandb DOT init PARELEFT  PARERIGHT  DOM
config  EQUAL  run DOT config DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  epochs EQUAL config DOT epochs COMMA  batch_size EQUAL config DOT batch_size COMMA callbacks EQUAL [] COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras DOT layers import Conv2D DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT filters EQUAL 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import pandas as pd DOM
import numpy as np DOM
def preprocess_DATA PARELEFT  PARERIGHT  COLON  DOM
    features  EQUAL  dataset DOT shape[]  DOM
    dataset_train  EQUAL  dataset DOT iloc[] DOM
    dataset_test  EQUAL  dataset DOT iloc[]] DOM
    training_set  EQUAL  dataset_train DOT iloc[] DOT values DOM
    training_set_label  EQUAL  dataset_train DOT iloc[] DOT values   DOM
    from sklearn DOT preprocessing import MinMaxScaler DOM
    scaler_features  EQUAL  MinMaxScaler PARELEFT feature_range  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  DOM
    scaler_label  EQUAL  MinMaxScaler PARELEFT feature_range  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  DOM
    training_set_scaled  EQUAL  scaler_features DOT fit_transform PARELEFT  PARERIGHT  DOM
    training_set_scaled_label  EQUAL  scaler_label DOT fit_transform PARELEFT  PARERIGHT     DOM
    X_train  EQUAL  [] DOM
    y_train  EQUAL  [] DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        X_train DOT append PARELEFT  PARERIGHT      DOM
    for i in range PARELEFT  PARERIGHT  COLON      DOM
        y_train DOT append PARELEFT  PARERIGHT  DOM
    X_train COMMA  y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  COMMA  np DOT array PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  np DOT reshape PARELEFT X_train COMMA   PARELEFT  PARERIGHT  PARERIGHT    DOM
    ground_truth  EQUAL  dataset_test DOT iloc[] DOT values DOM
    dataset_total  EQUAL  pd DOT concat PARELEFT  PARELEFT  PARERIGHT  COMMA  axis  EQUAL  0 PARERIGHT  DOM
    dataset_total  EQUAL  dataset_total DOT iloc[] DOM
    inputs  EQUAL  dataset_total[] DOT values DOM
    inputs  EQUAL  inputs DOT reshape PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  scaler_features DOT transform PARELEFT  PARERIGHT  DOM
    return X_train COMMA  y_train COMMA  inputs COMMA  ground_truth COMMA  scaler_features COMMA  scaler_label        DOM
def build_LSTM PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense DOM
    from keras DOT layers import LSTM DOM
    from keras DOT layers import Dropout DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units  EQUAL  layers[] COMMA  return_sequences  EQUAL  True COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def build_GRU PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense DOM
    from keras DOT layers import GRU DOM
    from keras DOT layers import Dropout DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT units  EQUAL  layers[] COMMA  return_sequences  EQUAL  True COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def predict_MODEL PARELEFT  PARERIGHT  COLON  DOM
    from math import sqrt DOM
    from sklearn DOT metrics import mean_squared_error DOM
    X_test  EQUAL  [] DOM
    for i in range PARELEFT timestep COMMA  int PARELEFT len PARELEFT  PARERIGHT  PARERIGHT -Output PARERIGHT  COLON  DOM
        X_test DOT append PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  np DOT array PARELEFT  PARERIGHT   DOM
    X_test  EQUAL  np DOT reshape PARELEFT X_test COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
    Predicted  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    True_Output  EQUAL  inputs[] DOM
    RMSE  EQUAL  sqrt PARELEFT mean_squared_error PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    Predicted  EQUAL  scaler_label DOT inverse_transform PARELEFT  PARERIGHT    DOM
    True_Output  EQUAL  scaler_label DOT inverse_transform PARELEFT  PARERIGHT   DOM
    return Predicted COMMA  True_Output COMMA  RMSE DOM
from keras DOT models import Sequential DOM
from keras DOT models import Model DOM
from keras DOT layers import Input DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Bidirectional DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Conv1D DOM
from keras DOT layers import MaxPooling1D DOM
from keras DOT layers import UpSampling1D DOM
from keras DOT layers import Concatenate DOM
from keras DOT optimizers import Adam DOM
def simple_LSTM PARELEFT  PARERIGHT  COLON  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 512 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  recurrent_dropout EQUAL 0 DOT 5 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  COMMA  metrics EQUAL [] PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def bidirectional_LSTM PARELEFT  PARERIGHT  COLON  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  recurrent_dropout EQUAL 0 DOT 5 PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  COMMA  metrics EQUAL [] PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def conv_LSTM PARELEFT  PARERIGHT  COLON  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT 128 COMMA 4 COMMA padding EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA strides EQUAL 1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def conv_LSTM PARELEFT  PARERIGHT  COLON  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT 128 COMMA 4 COMMA padding EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA strides EQUAL 1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def conv_LSTM2 PARELEFT  PARERIGHT  COLON  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT 16 COMMA 3 COMMA padding EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA strides EQUAL 1 COMMA kernel_initializer EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def UNet_LSTM PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    conv1  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv2  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv3  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv4  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv7  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv8  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    drop1  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    up2  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT UpSampling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    concat2  EQUAL  Concatenate PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv11  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv12  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    up3  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT UpSampling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    concat3  EQUAL  Concatenate PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv13  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    conv14  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm1  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm2  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    flat1  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    dense1  EQUAL  Dense PARELEFT len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    activities  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  UNet_LSTM PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT layers import TimeDistributed COMMA  Dense COMMA  Dropout COMMA Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT optimizers import RMSprop COMMA  Adam DOM
import numpy as np DOM
def one_layer_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
<<<<<<< HEAD DOM
    layers  EQUAL  { QUOTMARK  COLON  inp COMMA   QUOTMARK  COLON  hidden COMMA   QUOTMARK  COLON  outp} DOM
 EQUAL  EQUAL  EQUAL  EQUAL  EQUAL  EQUAL  EQUAL  DOM
    layers  EQUAL  { QUOTMARK  COLON  16 COMMA   QUOTMARK  COLON  64 COMMA   QUOTMARK  COLON  1} DOM
    model DOT add PARELEFT LSTM PARELEFT 1 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
>>>>>>> c543bee5512fb52c6569d18489a6f6e62e3864da DOM
    model DOT add PARELEFT LSTM PARELEFT layers[] COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model   DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layers  EQUAL  { QUOTMARK  COLON  48 COMMA   QUOTMARK  COLON  64 COMMA   QUOTMARK   COLON  128 COMMA   QUOTMARK  COLON  1} DOM
    model DOT add PARELEFT LSTM PARELEFT layers[] COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model  from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT utils DOT data_utils import get_file DOM
from keras DOT callbacks import EarlyStopping DOM
def create_lstm PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport os DOM
global_model_version  EQUAL  61 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  36 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT optimizers import RMSprop DOM
def build PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT layers[] COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT callbacks import TensorBoard COMMA  EarlyStopping COMMA  ReduceLROnPlateau DOM
def run_network PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  build PARELEFT  PARERIGHT  DOM
    history  EQUAL  None DOM
    try COLON  DOM
        history  EQUAL  model DOT fit PARELEFT train COMMA  y_train COMMA  atch_size EQUAL batch_size COMMA  pochs EQUAL epochs COMMA  validation_split EQUAL 0 DOT 1 COMMA callbacks EQUAL [] PARERIGHT  DOM
    except KeyboardInterrupt COLON  DOM
        print PARELEFT  PARERIGHT  DOM
    predicted  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    return model COMMA  predicted COMMA  historyfrom keras DOT utils import np_utils DOM
from keras DOT models import Sequential COMMA  load_model DOM
import keras DOT layers DOT recurrent DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT convolutional import Convolution1D COMMA  MaxPooling1D COMMA  Conv2D COMMA  MaxPooling2D DOM
def LSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    for ind COMMA  c in enumerate PARELEFT  PARERIGHT  COLON  DOM
        ret_seq  EQUAL  not  PARELEFT ind  EQUAL  EQUAL  len PARELEFT  PARERIGHT -1 PARERIGHT  DOM
        if ind  EQUAL  EQUAL  0 COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT recurrent DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT recurrent DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def Conv1D_2_class PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    filter_length_1  EQUAL  50 DOM
    filter_length_2  EQUAL  25 DOM
    if nb_classes ! EQUAL 2 COLON  DOM
        raise Exception PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def cifar10_net PARELEFT  PARERIGHT  COLON  DOM
    activ  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA input_shape EQUAL input_shape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  keras DOT optimizers DOT rmsprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport numpy as np DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Bidirectional COMMA  Dropout COMMA  TimeDistributed DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  Flatten COMMA  Conv1D COMMA  CuDNNLSTM COMMA  CuDNNGRU COMMA  MaxPooling1D DOM
from keras DOT callbacks import ModelCheckpoint COMMA  CSVLogger DOM
from keras import regularizers DOM
window_size  EQUAL  300 DOM
def loss_fn PARELEFT  PARERIGHT  COLON  DOM
    return 1/np DOT log PARELEFT  PARERIGHT  * keras DOT losses DOT binary_crossentropy PARELEFT  PARERIGHT  DOM
    nrows  EQUAL   PARELEFT  PARELEFT  PARERIGHT  // S PARERIGHT  + 1 DOM
    n  EQUAL  a DOT strides[] DOM
    return np DOT lib DOT stride_tricks DOT as_strided PARELEFT a COMMA  shape EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  writeable EQUAL False PARERIGHT  DOM
def FC PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    init  EQUAL  keras DOT initializers DOT lecun_uniform PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_initializer EQUAL init PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def LSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def fit_model PARELEFT  PARERIGHT  COLON  DOM
    y  EQUAL  Y DOM
    optim  EQUAL  keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    csv_logger  EQUAL  CSVLogger PARELEFT  PARERIGHT  DOM
    callbacks_list  EQUAL  [] DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
def gen_data PARELEFT  PARERIGHT  COLON  DOM
    true_signal  EQUAL  data[] DOM
    false_signal  EQUAL  data[] DOM
    true_X  EQUAL  strided_app PARELEFT  PARERIGHT  DOM
    false_X  EQUAL  strided_app PARELEFT  PARERIGHT  DOM
    true_Y  EQUAL  np DOT ones PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
    false_Y  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
    X  EQUAL  np DOT concatenate PARELEFT  PARERIGHT  DOM
    Y  EQUAL  np DOT concatenate PARELEFT  PARERIGHT  DOM
    return X COMMA  Y DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    data  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
    X COMMA  Y  EQUAL  gen_data PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    X  EQUAL  np DOT expand_dims PARELEFT  PARERIGHT  DOM
    model  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    fit_model PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
	main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Activation DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Flatten DOM
from keras import metrics DOM
def create_cnn_model PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    output  EQUAL  y DOT shape[] DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    regressor  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    regressor DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    if dropout > 0 COLON  DOM
        regressor DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        regressor DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        if dropout > 0 COLON  DOM
            regressor DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    regressor DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    regressor DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    activation  EQUAL   QUOTMARK  DOM
    regressor DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    regressor DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT regressor DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return regressor DOM
def create_stateless_lstm_model PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    stateful  EQUAL  False DOM
    input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    output  EQUAL  y DOT shape[] DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    regressor  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    return_sequences  EQUAL  False if layers  EQUAL  EQUAL  1 else True DOM
    regressor DOT add PARELEFT  PARERIGHT  PARERIGHT dropout > 0 COLON regressor DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT n range PARELEFT  PARERIGHT  COLON t PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT equences  EQUAL  False if i  EQUAL  EQUAL  1 else Trueregressor DOT add PARELEFT  DOM
            LSTM PARELEFT  PARERIGHT  PARERIGHT dropout > 0 COLON regressor DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT regressor DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT tivation  EQUAL   QUOTMARK regressor DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT regressor DOT compile PARELEFT  PARERIGHT print PARELEFT regressor DOT summary PARELEFT  PARERIGHT  PARERIGHT eturn regressoreate_stateful_lstm_model PARELEFT  PARERIGHT  COLON ting stateful model with layers {} COMMA  output_dim {} COMMA  optimizer {} COMMA  dropout {} QUOTMARK input_shape {} COMMA  output {} QUOTMARK Adding additional LSTM layers {}' DOT format PARELEFT  PARERIGHT  PARERIGHT regressor DOT add PARELEFT LSTM PARELEFT units EQUAL output_dim COMMA  DOM
            return_sequences EQUAL return_sequences COMMA  DOM
import pandas as pd DOM
import numpy as np DOM
import nltk DOM
from nltk DOT corpus import stopwords DOM
from nltk DOT stem import SnowballStemmer DOM
import re DOM
from sklearn DOT metrics import accuracy_score DOM
import datetime COMMA  time COMMA  json DOM
from string import punctuation DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Embedding COMMA  Dense COMMA  Dropout COMMA  Reshape COMMA  Merge COMMA  BatchNormalization COMMA  TimeDistributed COMMA  Lambda COMMA  Activation COMMA  LSTM COMMA  Flatten COMMA  Convolution1D COMMA  GRU COMMA  MaxPooling1D DOM
from keras DOT regularizers import l2 DOM
from keras DOT callbacks import Callback COMMA  ModelCheckpoint COMMA  EarlyStopping DOM
from keras import initializers DOM
from keras import backend as K DOM
from keras DOT optimizers import SGD DOM
from keras DOT optimizers import Adadelta DOM
from collections import defaultdict DOM
from keras DOT utils import np_utils DOM
from keras DOT layers DOT advanced_activations import PReLU DOM
import codecs DOM
import random DOM
corpus  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
corpus  EQUAL  corpus DOT reindex PARELEFT np DOT random DOT permutation PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
def process_blog PARELEFT  PARERIGHT  COLON  DOM
random DOT shuffle PARELEFT  PARERIGHT  DOM
corpus_post COMMA  y_train  EQUAL  zip PARELEFT  PARERIGHT  DOM
c EQUAL [] DOM
print  PARELEFT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
import tensorflow as tf DOM
import os DOM
os DOT environ[]  EQUAL   QUOTMARK  DOM
Sequential  EQUAL  tf DOT keras DOT models DOT Sequential DOM
Dense  EQUAL  tf DOT keras DOT layers DOT Dense  DOM
Dropout  EQUAL  tf DOT keras DOT layers DOT Dropout DOM
LSTM  EQUAL  tf DOT keras DOT layers DOT LSTM DOM
mnist  EQUAL tf DOT keras DOT datasets DOT mnist DOM
 PARELEFT  PARERIGHT  COMMA  PARELEFT  PARERIGHT   EQUAL  mnist DOT load_data PARELEFT  PARERIGHT  DOM
x_test  EQUAL  x_test/255 DOM
x_train  EQUAL  x_train/255 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 128 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
opt  EQUAL  tf DOT keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA y_train COMMA epochs EQUAL 3 COMMA validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class BotPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom sentifmdetect import featurizer DOM
from sentifmdetect import util DOM
import os DOM
import keras DOM
from keras DOT optimizers import Adam DOM
from keras import backend DOM
from keras DOT layers import Dense COMMA  Input COMMA  Flatten COMMA  Dropout COMMA  Merge COMMA  BatchNormalization DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding COMMA  LSTM COMMA  Bidirectional DOM
from keras DOT models import Model COMMA  Sequential DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT model_selection import train_test_split COMMA  RandomizedSearchCV DOM
from sklearn DOT metrics import precision_recall_fscore_support COMMA  classification_report COMMA  f1_score COMMA  precision_score COMMA \ DOM
    recall_score COMMA  roc_auc_score DOM
import numpy as np DOM
def create_emb_lstm PARELEFT bidirectional EQUAL False COMMA lstm_units EQUAL 10 COMMA lstm_dropout EQUAL 0 DOT 2 COMMA lstm_recurrent_dropout EQUAL 0 DOT 2 COMMA ptimizer EQUAL  PARELEFT  PARERIGHT  COMMA metrics EQUAL [] PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        embeddings_index  EQUAL  featurizer DOT load_emb PARELEFT  PARERIGHT  DOM
        EMBEDDINGS_MATRIX  EQUAL  featurizer DOT make_embedding_matrix PARELEFT  PARERIGHT  DOM
        EMB_DIM  EQUAL  EMBEDDINGS_MATRIX DOT shape[] DOM
        model DOT add PARELEFT edding PARELEFT  PARERIGHT  PARERIGHT  DOM
    elif isinstance PARELEFT  PARERIGHT  COLON  DOM
        EMB_DIM  EQUAL  wvec DOM
        model DOT add PARELEFT bedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        logging DOT error PARELEFT  PARERIGHT  DOM
    if bidirectional COLON  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL optimizer[] PARELEFT  PARERIGHT  COMMA  metrics EQUAL metrics PARERIGHT  DOM
    return model DOM
class KerasClassifierCustom PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT predict PARELEFT  PARERIGHT  DOM
class GlobalMetrics PARELEFT  PARERIGHT  COLON  DOM
        self DOT from_categorical  EQUAL  True DOM
        if isinstance PARELEFT  PARERIGHT  COLON  DOM
            self DOT global_metrics  EQUAL  metrics DOM
        else COLON  DOM
            raise TypeError PARELEFT  QUOTMARK  PARERIGHT  DOM
        self DOT global_scores  EQUAL  {} DOM
    def on_epoch_end PARELEFT  PARERIGHT  COLON  DOM
        predict  EQUAL  np DOT asarray PARELEFT self DOT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
        targ  EQUAL  self DOT validation_data[] DOM
        if self DOT from_categorical COLON  DOM
            predict  EQUAL  predict DOT argmax PARELEFT  PARERIGHT  DOM
            targ  EQUAL  targ DOT argmax PARELEFT  PARERIGHT  DOM
        for metric COMMA  kwargs in self DOT global_metrics COLON  DOM
            self DOT global_scores[]  EQUAL  metric PARELEFT  PARERIGHT  DOM
            print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        return DOM
class KerasRandomizedSearchCV PARELEFT  PARERIGHT  COLON  DOM
        pred  EQUAL  super PARELEFT  PARERIGHT  DOT predict PARELEFT  PARERIGHT  DOM
        backend DOT clear_session PARELEFT  PARERIGHT  DOM
        return pred DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    from sklearn DOT datasets import make_moons DOM
    from sklearn DOT model_selection import RandomizedSearchCV DOM
    from keras DOT regularizers import l2 DOM
    dataset  EQUAL  make_moons PARELEFT  PARERIGHT  DOM
    def build_fn PARELEFT  PARERIGHT  COLON  DOM
        result_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        result_model DOT add PARELEFT Dense PARELEFT first_layer_size COMMA input_dim EQUAL input_dim COMMA activation EQUAL activation COMMA W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        current_layer_size  EQUAL  int PARELEFT  PARERIGHT  + 1 DOM
        for index_of_layer in range PARELEFT  PARERIGHT  COLON  DOM
            result_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            result_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
            result_model DOT add PARELEFT Dense PARELEFT current_layer_size COMMA W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA activation EQUAL activation COMMA activity_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            current_layer_size  EQUAL  int PARELEFT  PARERIGHT  + 1 DOM
        result_model DOT add PARELEFT Dense PARELEFT 1 COMMA activation EQUAL  QUOTMARK  COMMA W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        result_model DOT compile PARELEFT  PARERIGHT  DOM
        return result_model DOM
    NeuralNet  EQUAL  KerasClassifier PARELEFT  PARERIGHT import numpy DOM
import pandas DOM
from sklearn import preprocessing DOM
from sklearn import cross_validation DOM
from matplotlib import pyplot DOM
import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential   DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dense COMMA  Dropout DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from keras import callbacks DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
from keras DOT layers DOT recurrent import LSTM DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
scaler  EQUAL  MinMaxScaler PARELEFT feature_range EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
train  EQUAL  scaler DOT fit_transform PARELEFT  PARERIGHT  DOM
train  EQUAL  np DOT reshape PARELEFT train COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
trainlabel  EQUAL  pandas DOT read_csv PARELEFT  PARERIGHT  DOM
scaler  EQUAL  MinMaxScaler PARELEFT feature_range EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
train_label  EQUAL  scaler DOT fit_transform PARELEFT  PARERIGHT  DOM
train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
train_label  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
csv_logger  EQUAL  CSVLogger PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  DOM
import time DOM
from keras DOT layers DOT core import Dense DOM
from keras DOT layers DOT core import Dropout COMMA  Activation DOM
from keras DOT layers DOT recurrent import LSTM COMMA  SimpleRNN DOM
from keras DOT models import Sequential DOM
def build_model_mlp PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT output_dim EQUAL hiddens COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
    print  PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print  PARELEFT  QUOTMARK  COMMA  time DOT time PARELEFT  PARERIGHT  - start COMMA   QUOTMARK  PARERIGHT  DOM
    return model DOM
def build_model_recurrent PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT output_dim EQUAL hiddens1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    print  PARELEFT  PARERIGHT  DOM
    start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print  PARELEFT  QUOTMARK  COMMA  time DOT time PARELEFT  PARERIGHT  - start COMMA   QUOTMARK  PARERIGHT  DOM
    return model DOM
def build_model_lstm_simple PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT output_dim EQUAL hiddens1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    print  PARELEFT  PARERIGHT  DOM
    start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print  PARELEFT  QUOTMARK  COMMA  time DOT time PARELEFT  PARERIGHT  - start COMMA   QUOTMARK  PARERIGHT  DOM
    return model DOM
def build_model_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT output_dim EQUAL hiddens1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    print  PARELEFT  PARERIGHT  DOM
    start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print  PARELEFT  QUOTMARK  COMMA  time DOT time PARELEFT  PARERIGHT  - start COMMA   QUOTMARK  PARERIGHT  DOM
    return modelfrom __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
import numpy as np DOM
from tensorflow DOT python import keras DOM
from tensorflow DOT python DOT framework import test_util as tf_test_util DOM
from tensorflow DOT python DOT keras import testing_utils DOM
from tensorflow DOT python DOT platform import test DOM
from tensorflow DOT python DOT training import adam DOM
from tensorflow DOT python DOT training import gradient_descent DOM
from tensorflow DOT python DOT training DOT rmsprop import RMSPropOptimizer DOM
@tf_test_util DOT run_all_in_graph_and_eager_modes DOM
class LSTMLayerTest PARELEFT  PARERIGHT  COLON  DOM
  def test_return_sequences_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA return_sequences' COLON  True} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_static_shape_inference_LSTM PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  keras DOT layers DOT Dense PARELEFT embedding_dim COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  model DOT layers[] DOT output DOM
    self DOT assertEquals PARELEFT outputs DOT get_shape PARELEFT  PARERIGHT  DOT as_list PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
  def test_dynamic_behavior_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT RMSPropOptimizer PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
    x  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_dropout_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA dropout QUOTMARK  COLON  0 DOT 1} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_implementation_mode_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    for mode in [] COLON  DOM
      testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA implementation' COLON  mode} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_constraints_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    k_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    r_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    b_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL k_constraint COMMA recurrent_constraint EQUAL r_constraint COMMA bias_constraint EQUAL b_constraint PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
  @tf_test_util DOT run_deprecated_v1 DOM
  def test_with_masking_layer_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layer_class PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  @tf_test_util DOT run_deprecated_v1 DOM
  def test_masking_with_stacking_LSTM PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_cells  EQUAL  [] DOM
    model DOT add PARELEFT keras DOT layers DOT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_from_config_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    for stateful in  PARELEFT  PARERIGHT  COLON  DOM
      l1  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      l2  EQUAL  layer_class DOT from_config PARELEFT l1 DOT get_config PARELEFT  PARERIGHT  PARERIGHT  DOM
      assert l1 DOT get_config PARELEFT  PARERIGHT   EQUAL  EQUAL  l2 DOT get_config PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    else COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_non_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [keras DOT backend DOT random_normal_variable PARELEFT  PARERIGHT  COMMA  0 COMMA  1 PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_reset_states_with_values PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    assert layer DOT states[] is not None DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT zeros PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    state_shapes  EQUAL  [] DOM
    values  EQUAL  [] DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      values  EQUAL  values[] DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT ones PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    with self DOT assertRaises PARELEFT  PARERIGHT  COLON  DOM
      layer DOT reset_states PARELEFT [] *  PARELEFT len PARELEFT  PARERIGHT  + 1 PARERIGHT  PARERIGHT  DOM
  def test_specify_state_with_masking PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    _  EQUAL  keras DOT layers DOT Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_return_state PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    state  EQUAL  outputs[] DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    state  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA  state COMMA  atol EQUAL 1e-4 PARERIGHT  DOM
  def test_state_reuse PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    output COMMA  state  EQUAL  outputs[] COMMA  outputs[] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    outputs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  def test_initial_states_as_other_inputs PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    num_states  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    main_inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    inputs  EQUAL  [] + initial_state DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    main_inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
class LSTMLayerGraphOnlyTest PARELEFT  PARERIGHT  COLON  DOM
  @tf_test_util DOT run_deprecated_v1 DOM
  def test_statefulness_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT cached_session PARELEFT  PARERIGHT  COLON  DOM
      model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT 4 COMMA embedding_dim COMMA mask_zero EQUAL True COMMA input_length EQUAL timesteps COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT optimizer EQUAL gradient_descent DOT GradientDescentOptimizer PARELEFT  PARERIGHT  COMMA loss EQUAL  QUOTMARK  PARERIGHT  DOM
      out1  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT out1 DOT shape COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      out2  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out1 DOT max PARELEFT  PARERIGHT  COMMA  out2 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      out3  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out2 DOT max PARELEFT  PARERIGHT  COMMA  out3 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT reset_states PARELEFT  PARERIGHT  DOM
      out4  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
      out5  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out4 DOT max PARELEFT  PARERIGHT  COMMA  out5 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      left_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      left_padded_input[]  EQUAL  0 DOM
      left_padded_input[]  EQUAL  0 DOM
      out6  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      right_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      right_padded_input[]  EQUAL  0 DOM
      right_padded_input[]  EQUAL  0 DOM
      out7  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
  @tf_test_util DOT run_deprecated_v1 DOM
  def test_regularizers_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT cached_session PARELEFT  PARERIGHT  COLON  DOM
      layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL  QUOTMARK  COMMA activity_regularizer EQUAL  QUOTMARK  PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  3 PARERIGHT  DOM
      x  EQUAL  keras DOT backend DOT variable PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT layer DOT get_losses_for PARELEFT  PARERIGHT  PARERIGHT  COMMA  1 PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  test DOT main PARELEFT  PARERIGHT import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM DOM
from keras import backend as K DOM
from keras_tqdm import TQDMNotebookCallback DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
modelLSTM_2a  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT summary PARELEFT  PARERIGHT  DOM
modelLSTM_2a DOT compile PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  modelLSTM_2a DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense COMMA  Activation DOM
from keras DOT layers import TimeDistributed COMMA  GaussianNoise COMMA  GaussianDropout COMMA  Dropout DOM
from keras DOT models import Model DOM
def build_model_without_TS PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT   DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT                         DOM
    model DOT add PARELEFT LSTM PARELEFT n_neuron COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_model_with_TS PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT           DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT n_neuron COMMA  return_sequences EQUAL True COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
import keras as ks DOM
import tensorflow as tf DOM
print PARELEFT  PARERIGHT  DOM
X_train COMMA  y_train COMMA  X_test COMMA  y_test  EQUAL  lstm DOT load_data PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  time DOT time PARELEFT  PARERIGHT  - start PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
predictions  EQUAL  lstm DOT predict_sequences_multiple PARELEFT  PARERIGHT  DOM
lstm DOT plot_results_multiple PARELEFT  PARERIGHT from __future__ import print_function DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import LSTM DOM
from keras import regularizers DOM
def mlp_softmax PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_stack PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT 32 COMMA  return_sequences EQUAL True COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 32 COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT layers import Embedding COMMA  LSTM COMMA  TimeDistributed COMMA  Dense COMMA  Dropout DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
from keras DOT optimizers import Adam DOM
from Tokenizer import constant DOM
class Model PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  modelimport pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM COMMA  Dropout DOM
from keras import backend as K DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  LSTM_model DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras DOT layers import Conv2D DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT filters EQUAL 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class RestaurantPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom random import random DOM
from numpy import array DOM
from numpy import cumsum DOM
from matplotlib import pyplot DOM
from pandas import DataFrame DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Bidirectional DOM
def get_sequence PARELEFT  PARERIGHT  COLON  DOM
    X  EQUAL  array PARELEFT [] PARERIGHT  DOM
    limit  EQUAL  n_timesteps / 4 DOT 0 DOM
    y  EQUAL  array PARELEFT [] PARERIGHT  DOM
    X  EQUAL  X DOT reshape PARELEFT  PARERIGHT  DOM
    y  EQUAL  y DOT reshape PARELEFT  PARERIGHT  DOM
    return X COMMA  y DOM
def get_lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 20 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True COMMA  go_backwards EQUAL backwards PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def get_bi_lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  merge_mode EQUAL mode PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def train_model PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL  list PARELEFT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        X COMMA  y  EQUAL  get_sequence PARELEFT  PARERIGHT  DOM
        hist  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
        loss DOT append PARELEFT  PARERIGHT  DOM
    return loss DOM
n_timesteps  EQUAL  10 DOM
results  EQUAL  DataFrame PARELEFT  PARERIGHT  DOM
model  EQUAL  get_lstm_model PARELEFT  PARERIGHT  DOM
results[]  EQUAL  train_model PARELEFT  PARERIGHT  DOM
model  EQUAL  get_lstm_model PARELEFT  PARERIGHT  DOM
results[]  EQUAL  train_model PARELEFT  PARERIGHT  DOM
model  EQUAL  get_bi_lstm_model PARELEFT  PARERIGHT  DOM
results[]  EQUAL  train_model PARELEFT  PARERIGHT  DOM
results DOT plot PARELEFT  PARERIGHT  DOM
pyplot DOT show PARELEFT  PARERIGHT from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import LSTM DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import RMSprop DOM
class LSTMRNN PARELEFT  PARERIGHT  COLON  DOM
	@staticmethod DOM
	def build PARELEFT  PARERIGHT  COLON  DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT 512 COMMA 		input_shape EQUAL  PARELEFT  PARERIGHT  COMMA 			return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
		opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		return modelimport pandas as pd DOM
import tensorflow as tf DOM
import matplotlib DOT pyplot as plt DOM
import keras DOM
import numpy as np DOM
import scikitplot DOT plotters as skplt DOM
from sklearn DOT model_selection import train_test_split DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  LSTM DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT models import load_model DOM
from keras DOT optimizers import Adam DOM
train  EQUAL  pd DOT read_pickle PARELEFT  PARERIGHT  DOM
test  EQUAL  pd DOT read_pickle PARELEFT  PARERIGHT  DOM
num_words  EQUAL  2000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
X  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
embed_dim  EQUAL  128 DOM
ckpt_callback  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
Y  EQUAL  pd DOT get_dummies PARELEFT  PARERIGHT  DOT values DOM
X_train COMMA  X_test COMMA  Y_train COMMA  Y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
batch_size  EQUAL  64 DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
probas  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
pred_indices  EQUAL  np DOT argmax PARELEFT  PARERIGHT  DOM
classes  EQUAL  np DOT array PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
preds  EQUAL  classes[] DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT log_loss PARELEFT classes[] COMMA  probas PARERIGHT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT accuracy_score PARELEFT classes[] COMMA  preds PARERIGHT  PARERIGHT  PARERIGHT  DOM
skplt DOT plot_confusion_matrix PARELEFT classes[] COMMA  preds PARERIGHT  DOM
Xtest  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
Xtest  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
probas  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
submission_df  EQUAL  pd DOT DataFrame PARELEFT probas COMMA  columns EQUAL [] PARERIGHT  DOM
submission_df[]  EQUAL  df_test[] DOM
submission_df DOT head PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout COMMA  Highway DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense COMMA  Embedding DOM
def model PARELEFT  PARERIGHT  COLON  DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT args DOT num_hidden_units_lstm COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Bidirectional COMMA  LSTM DOM
from keras DOT layers DOT core import Dropout COMMA  Dense DOM
class BidirectionalLSTMNet COLON  DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
class TimeDistributedLSTMNet COLON  DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return modelfrom keras DOT layers import Dense COMMA  Flatten COMMA  Dropout COMMA  Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT regularizers import l2 DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT layers import MaxPooling2D COMMA  TimeDistributed  DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  Bidirectional DOM
from keras DOT optimizers import Adam DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
from collections import deque DOM
import sys DOM
from keras DOT optimizers import SGD DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        if self DOT nb_classes > EQUAL  10 COLON  DOM
            metrics DOT append PARELEFT  PARERIGHT  DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT cnn_rnn PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT crnn PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL  features_length * seq_length DOM
            self DOT model  EQUAL  self DOT mlp PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT conv_3d PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
    def cnn_rnn PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
        model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
        model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT   DOM
        model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
        model_lstm DOT add PARELEFT Dense PARELEFT 2 COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT   DOM
        model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT   DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT    DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def crnn PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT  PARERIGHT  COMMA   name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def mlp PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def conv_3d PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers import ConvLSTM2D DOM
class Models PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT n_timesteps  EQUAL  n_timesteps DOM
        self DOT n_features  EQUAL  n_features DOM
        self DOT n_outputs  EQUAL  n_outputs DOM
        self DOT n_steps  EQUAL  n_steps DOM
        self DOT n_length  EQUAL  n_length DOM
        if model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT cnnlstm PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT convlstm PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def cnnlstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv1D PARELEFT  PARERIGHT  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def convlstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 64 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelimport os DOM
global_model_version  EQUAL  38 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT convolutional import Convolution1D COMMA  MaxPooling1D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from DSTC2 DOT traindev DOT scripts import myLogger DOM
from keras DOT layers DOT pooling import GlobalMaxPooling1D DOM
from keras DOT models import Sequential DOM
from keras DOT preprocessing import sequence DOM
from keras DOT layers import Embedding DOM
from keras DOT datasets import imdb DOM
from keras DOT utils DOT visualize_util import plot DOM
import numpy as np DOM
__author__  EQUAL   QUOTMARK  DOM
def basic_cnn_LSTM_init PARELEFT  PARERIGHT  COLON  DOM
    return input_mtr COMMA  output_mtr DOM
def output_shape PARELEFT  PARERIGHT  COLON  DOM
    y_train  EQUAL  np DOT array PARELEFT map PARELEFT lambda session COLON  reduce PARELEFT lambda sentence1 COMMA  sentence2 COLON  np DOT hstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  session PARERIGHT  COMMA  y_train PARERIGHT  PARERIGHT  DOM
    y_test  EQUAL  np DOT array PARELEFT map PARELEFT lambda session COLON  reduce PARELEFT lambda sentence1 COMMA  sentence2 COLON  np DOT hstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  session PARERIGHT  COMMA  y_test PARERIGHT  PARERIGHT  DOM
    return y_train COMMA  y_test DOM
def get_mixed PARELEFT  PARERIGHT  COLON  DOM
    logger  EQUAL  myLogger DOT myLogger PARELEFT  PARERIGHT  DOM
    logger DOT info PARELEFT  PARERIGHT  DOM
    filter_length  EQUAL  5 DOM
    nb_filter  EQUAL  16 DOM
    pool_length  EQUAL  4 DOM
    lstm_output_size  EQUAL  1024 DOM
    layer  EQUAL  3 DOM
    hidden_size  EQUAL  1024 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    plot PARELEFT  PARERIGHT  DOM
    return model DOM
def sample_mixed PARELEFT  PARERIGHT  COLON  DOM
    max_features  EQUAL  20000 DOM
    maxlen  EQUAL  100 DOM
    embedding_size  EQUAL  128 DOM
    filter_length  EQUAL  5 DOM
    nb_filter  EQUAL  64 DOM
    pool_length  EQUAL  4 DOM
    lstm_output_size  EQUAL  70 DOM
    batch_size  EQUAL  30 DOM
    nb_epoch  EQUAL  2 DOM
     PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
    print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
    print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  PARERIGHT  DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL nb_epoch COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    score COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT import os DOM
import pickle DOM
from keras DOT callbacks import ModelCheckpoint COMMA  RemoteMonitor DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT models import Sequential DOM
import dataset as ds DOM
from sample_model import SampleModelCallback DOM
batches_per_epoch  EQUAL  1500 DOM
batch_size  EQUAL  256 DOM
samples_per_epoch  EQUAL  batches_per_epoch * batch_size DOM
seq_length  EQUAL  50 DOM
vocab_length  EQUAL  ds DOT vocab_length PARELEFT  PARERIGHT  DOM
generator  EQUAL  ds DOT dataset PARELEFT  PARERIGHT  DOM
def large_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def small_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
model  EQUAL  large_model PARELEFT  PARERIGHT  DOM
filename  EQUAL   QUOTMARK  DOM
if os DOT path DOT isfile PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT load_weights PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
filepath  EQUAL   QUOTMARK  DOM
checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
sample  EQUAL  SampleModelCallback PARELEFT  PARERIGHT  DOM
remote  EQUAL  RemoteMonitor PARELEFT  PARERIGHT  DOM
callbacks_list  EQUAL  [] DOM
history  EQUAL  model DOT fit_generator PARELEFT  PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  39 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Merge COMMA  Dropout COMMA  Reshape DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT utils DOT visualize_util import plot DOM
num_hidden_units_mlp  EQUAL  1024 DOM
num_hidden_units_lstm  EQUAL  512 DOM
img_dim  EQUAL  900 DOM
word_vec_dim  EQUAL  300 DOM
max_len  EQUAL  100 DOM
nb_classes  EQUAL  1000 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT import os DOM
global_model_version  EQUAL  29 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3_1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3_1 DOT add PARELEFT  PARERIGHT  DOM
	branch_3_1 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_3_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4_1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4_1 DOT add PARELEFT  PARERIGHT  DOM
	branch_4_1 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_4_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5_1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5_1 DOT add PARELEFT  PARERIGHT  DOM
	branch_5_1 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_5_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model_1 DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_1 DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_1 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import os DOM
import time DOM
import numpy as np DOM
from functools import wraps DOM
from sklearn DOT externals import joblib DOM
from sklearn DOT preprocessing import LabelBinarizer DOM
from sklearn DOT model_selection import cross_val_score DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT models import load_model COMMA  Sequential DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  LSTM DOM
N_FEATURES  EQUAL  10000 DOM
DOC_LEN  EQUAL  60 DOM
N_CLASSES  EQUAL  2 DOM
def timeit PARELEFT  PARERIGHT  COLON  DOM
    @wraps PARELEFT  PARERIGHT  DOM
    def wrapper PARELEFT  PARERIGHT  COLON  DOM
        start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
        result  EQUAL  func PARELEFT  PARERIGHT  DOM
        return result COMMA  time DOT time PARELEFT  PARERIGHT  - start DOM
    return wrapper DOM
def documents PARELEFT  PARERIGHT  COLON  DOM
    return list PARELEFT corpus DOT reviews PARELEFT  PARERIGHT  PARERIGHT  DOM
def continuous PARELEFT  PARERIGHT  COLON  DOM
    return list PARELEFT corpus DOT scores PARELEFT  PARERIGHT  PARERIGHT  DOM
def make_categorical PARELEFT  PARERIGHT  COLON  DOM
    return np DOT digitize PARELEFT continuous PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
def binarize PARELEFT  PARERIGHT  COLON  DOM
    return np DOT digitize PARELEFT continuous PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
def build_nn PARELEFT  PARERIGHT  COLON  DOM
    nn DOT add PARELEFT Dense PARELEFT 500 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    nn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    nn DOT compile PARELEFT  PARERIGHT  DOM
    return nn DOM
def build_lstm PARELEFT  PARERIGHT  COLON  DOM
    lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT compile PARELEFT  PARERIGHT  DOM
    return lstm DOM
@timeit DOM
def train_model PARELEFT  PARERIGHT  COLON  DOM
    corpus  EQUAL  PickledAmazonReviewsReader PARELEFT  PARERIGHT  DOM
    X  EQUAL  documents PARELEFT  PARERIGHT  DOM
    y  EQUAL  binarize PARELEFT  PARERIGHT  DOM
    scores  EQUAL  cross_val_score PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    if saveto COLON  DOM
        model DOT steps[][] DOT model DOT save PARELEFT  PARERIGHT  DOM
        model DOT steps DOT pop PARELEFT  PARERIGHT  DOM
        joblib DOT dump PARELEFT  PARERIGHT  DOM
    return scores DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    from sklearn DOT pipeline import Pipeline DOM
    from sklearn DOT feature_extraction DOT text import TfidfVectorizer DOM
    from reader import PickledReviewsReader DOM
    from am_reader import PickledAmazonReviewsReader DOM
    from transformer import TextNormalizer COMMA  GensimDoc2Vectorizer DOM
    from transformer import KeyphraseExtractor COMMA  GensimTfidfVectorizer DOM
    cpath  EQUAL   QUOTMARK  DOM
    mpath  EQUAL  { DOM
         QUOTMARK    COLON   QUOTMARK  COMMA  DOM
         QUOTMARK   COLON   QUOTMARK  DOM
    } DOM
import sys DOM
import os DOM
import zipfile DOM
import numpy as np DOM
import tensorflow as tf DOM
from keras DOT models import Sequential DOM
from keras DOT layers import CuDNNLSTM COMMA  Dense COMMA  LSTM COMMA  Convolution1D COMMA  Flatten DOM
from keras DOT layers import Dropout COMMA  GlobalAveragePooling1D COMMA  MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras import optimizers DOM
from keras DOT backend DOT tensorflow_backend import set_session DOM
from keras DOT callbacks import TensorBoard COMMA  EarlyStopping DOM
def model_covNet PARELEFT  PARERIGHT  COLON  DOM
    vocab_size  EQUAL  5000 DOM
    embedding_size  EQUAL  32 DOM
    max_review_length  EQUAL  500 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in layer COLON  DOM
        model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        if i! EQUAL layer[] COLON  DOM
            model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def model_mlp PARELEFT  PARERIGHT  COLON  DOM
    vocab_size  EQUAL  5000 DOM
    embedding_size  EQUAL  32 DOM
    max_review_length  EQUAL  500 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in layer COLON  DOM
       model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def model_lstm PARELEFT  PARERIGHT  COLON  DOM
    vocab_size  EQUAL  5000 DOM
    embedding_size  EQUAL  32 DOM
    max_review_length  EQUAL  500 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def training PARELEFT  PARERIGHT  COLON  DOM
    global np COMMA  sequence COMMA  Sequential COMMA  optimizers COMMA  TensorBoard COMMA  EarlyStopping DOM
    print PARELEFT  PARERIGHT  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        data  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        data  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    data EQUAL data DOT item PARELEFT  PARERIGHT  DOM
    reviews_feats  EQUAL  data[] DOM
    ratings  EQUAL  data[] DOM
    max_review_length  EQUAL  500 DOM
    X  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    ratings  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  X DOM
    y_train  EQUAL  ratings DOM
    data  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    data EQUAL data DOT item PARELEFT  PARERIGHT  DOM
    reviews_feats  EQUAL  data[] DOM
    ratings  EQUAL  data[] DOM
    max_review_length  EQUAL  500 DOM
    X  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    ratings  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  X DOM
    y_test  EQUAL  ratings DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    if model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  model_lstm PARELEFT  PARERIGHT  DOM
    elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  model_mlp PARELEFT  PARERIGHT  DOM
    elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  model_covNet PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    earlystopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    if isTrain EQUAL  EQUAL 1 COLON  DOM
        model_json  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as json_file COLON  DOM
            json_file DOT write PARELEFT  PARERIGHT  DOM
        model DOT save_weights PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    results  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    return results[]**0 DOT 5 DOM
if  PARELEFT len PARELEFT  PARERIGHT  > 1 and sys DOT argv[] EQUAL  EQUAL  QUOTMARK  PARERIGHT  COLON  DOM
    if os DOT path DOT exists PARELEFT  PARERIGHT  COLON  DOM
        os DOT remove PARELEFT  PARERIGHT  DOM
    with zipfile DOT ZipFile PARELEFT  PARERIGHT  as zip_ref COLON  DOM
        zip_ref DOT extractall PARELEFT  PARERIGHT  DOM
    os DOT rename PARELEFT  PARERIGHT  DOM
    f  EQUAL  open PARELEFT  PARERIGHT  DOM
    arguments  EQUAL  f DOT readline PARELEFT  PARERIGHT  DOT split PARELEFT  PARERIGHT  DOM
    model  EQUAL  arguments[] DOM
    print PARELEFT  PARERIGHT  DOM
    if model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        output  EQUAL  arguments[] DOM
        rmse  EQUAL  training PARELEFT model COMMA  int PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  DOM
    else COLON  DOM
        output  EQUAL  [] DOM
        for i in range PARELEFT 1 COMMA  len PARELEFT  PARERIGHT -1 PARERIGHT  COLON  DOM
            layer  EQUAL  arguments[] DOT replace PARELEFT  PARERIGHT  DOM
            layer  EQUAL  layer DOT replace PARELEFT  PARERIGHT  DOM
            output DOT append PARELEFT int PARELEFT  PARERIGHT  PARERIGHT  DOM
        rmse  EQUAL  training PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    f DOT close PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential COMMA load_model DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  LSTM DOM
from keras DOT utils import np_utils DOM
from keras DOT wrappers DOT scikit_learn import KerasRegressor DOM
from keras DOT callbacks import ModelCheckpoint DOM
from sklearn DOT model_selection import cross_val_score DOM
from sklearn DOT model_selection import KFold DOM
from sklearn DOT preprocessing import StandardScaler DOM
from sklearn DOT pipeline import Pipeline DOM
class network PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  self DOT getModel PARELEFT  PARERIGHT  DOM
    def getModel PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 400 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 200 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
        callbacks_list  EQUAL  [] DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  self DOT load_best_model PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
    def load_best_model PARELEFT  PARERIGHT  COLON  DOM
        return load_model PARELEFT  PARERIGHT  DOM
class timing_network PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  self DOT getModel PARELEFT  PARERIGHT  DOM
    def getModel PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 400 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 200 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
        callbacks_list  EQUAL  [] DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  self DOT load_best_model PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
    def load_best_model PARELEFT  PARERIGHT  COLON  DOM
        return load_model PARELEFT  PARERIGHT import numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Embedding COMMA  LSTM COMMA  Bidirectional DOM
from keras DOT datasets import imdb DOM
from keras DOT callbacks import TensorBoard DOM
max_features  EQUAL  5000 DOM
no_classes  EQUAL  1 DOM
max_length  EQUAL  100 DOM
batch_size  EQUAL  32 DOM
embedding_size  EQUAL  64 DOM
dropout_rate  EQUAL  0 DOT 5 DOM
no_epochs  EQUAL  5 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
tensorboard  EQUAL  TensorBoard PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
LSTM_model DOT fit PARELEFT  PARERIGHT import tensorflow as tf DOM
import numpy as np DOM
class ConvLSTM PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT self COMMA  num_classes COMMA  num_lstm_cells EQUAL 128 COMMA  num_lstm_layers EQUAL 1 COMMA el_size EQUAL  PARELEFT  PARERIGHT  COMMA  filter_size EQUAL [] COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA um_cnn_layers EQUAL 3 COMMA  dropout_rate EQUAL 0 DOT 8 PARERIGHT  COLON  DOM
        self DOT num_classes  EQUAL  num_classes DOM
        self DOT num_lstm_cells  EQUAL  num_lstm_cells DOM
        self DOT num_lstm_layers  EQUAL  num_cnn_layers DOM
        self DOT pool_size  EQUAL  pool_size DOM
        self DOT num_cnn_layers  EQUAL  num_cnn_layers DOM
        self DOT num_classes  EQUAL  num_classes DOM
        self DOT dropout_rate  EQUAL  dropout_rate DOM
        self DOT kernel_size  EQUAL  kernel_size DOM
        self DOT filter_size  EQUAL  filter_size DOM
        self DOT model  EQUAL  None DOM
    def create_cnn_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  tf DOT keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        for layer in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT tf DOT keras DOT layers DOT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT tf DOT keras DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT tf DOT keras DOT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT AveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def create_lstm_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  tf DOT keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT Permute PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        for layer in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT tf DOT keras DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT tf DOT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT tf DOT keras DOT layers DOT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def create_network PARELEFT  PARERIGHT  COLON  DOM
        cnn_input  EQUAL  tf DOT reshape PARELEFT input_data COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm_input  EQUAL  tf DOT reshape PARELEFT input_data COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
        shape_cnn  EQUAL  cnn_input DOT shape[] DOM
        shape_lstm  EQUAL  lstm_input DOT shape[] DOM
        lstm_input  EQUAL  tf DOT keras DOT layers DOT Input PARELEFT  PARERIGHT  DOM
        cnn_input  EQUAL  tf DOT keras DOT layers DOT Input PARELEFT  PARERIGHT  DOM
        cnn_out  EQUAL  self DOT create_cnn_model PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_out  EQUAL  self DOT create_lstm_model PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        network_output  EQUAL  tf DOT keras DOT layers DOT concatenate PARELEFT  PARERIGHT  DOM
        network_output  EQUAL  tf DOT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  tf DOT keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
    def fit PARELEFT  PARERIGHT  COLON  DOM
            cnn_input  EQUAL  np DOT reshape PARELEFT input_data COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
            lstm_input  EQUAL  np DOT reshape PARELEFT input_data COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
            self DOT model DOT fit PARELEFT  PARERIGHT  DOM
    def evaluate PARELEFT  PARERIGHT  COLON  DOM
        cnn_data  EQUAL  np DOT reshape PARELEFT test_data COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm_data  EQUAL  np DOT reshape PARELEFT test_data COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
        loss COMMA  accuracy  EQUAL  self DOT model DOT evaluate PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        return loss COMMA  accuracyimport numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
from IPython DOT display import display DOM
from sklearn DOT model_selection import train_test_split DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA Flatten COMMA  Reshape DOM
from keras DOT layers import Embedding COMMA  Masking DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import SGD DOM
from keras DOT datasets import mnist DOM
from keras DOT layers import BatchNormalization DOM
from sklearn DOT svm import SVC DOM
from keras DOT utils import np_utils DOM
from keras DOT models import load_model DOM
from sklearn DOT utils DOT class_weight import compute_class_weight COMMA  compute_sample_weight DOM
from sklearn DOT metrics import recall_score COMMA  precision_score DOM
from keras import metrics DOM
import keras DOT backend as K DOM
from sklearn DOT metrics import confusion_matrix DOM
from keras import regularizers DOM
from sklearn DOT ensemble import RandomForestClassifier DOM
labelName EQUAL  QUOTMARK   DOM
runEpoch EQUAL 20 DOM
AE_Epochs  EQUAL  20 DOM
modelName  EQUAL   QUOTMARK  DOM
BS  EQUAL  256 DOM
Alldata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Alldata  EQUAL  shuffle PARELEFT  PARERIGHT  DOM
train_all COMMA test_all EQUAL train_test_split PARELEFT  PARERIGHT  DOM
y_train  EQUAL  train_all DOT label DOM
y_test  EQUAL  test_all DOT label DOM
X_train  EQUAL  train_all DOT drop PARELEFT  PARERIGHT   DOM
X_test  EQUAL  test_all DOT drop PARELEFT  PARERIGHT   DOM
print X_train DOT columns DOM
print len PARELEFT  PARERIGHT  DOM
size_data  EQUAL  X_train DOT shape[]; DOM
print  QUOTMARK  COMMA  size_data DOM
timesteps  EQUAL  5 DOM
data_dim  EQUAL  size_data/timesteps DOM
print  QUOTMARK  COMMA  data_dim DOM
X_train  EQUAL  sc DOT fit_transform PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sc DOT transform PARELEFT  PARERIGHT  DOM
Size1  EQUAL  256 DOM
Size2  EQUAL  128 DOM
Size3  EQUAL  64 DOM
inputSize  EQUAL size_data DOM
Autoencoder  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
Autoencoder DOT add PARELEFT  PARERIGHT  DOM
Autoencoder DOT add PARELEFT  PARERIGHT  DOM
Autoencoder DOT add PARELEFT  PARERIGHT  DOM
Autoencoder DOT add PARELEFT  PARERIGHT  DOM
Autoencoder DOT add PARELEFT  PARERIGHT  DOM
Autoencoder DOT add PARELEFT  PARERIGHT  DOM
Autoencoder DOT compile PARELEFT  PARERIGHT  DOM
Autoencoder DOT fit PARELEFT X_train COMMA  X_train COMMA  nb_epoch EQUAL AE_Epochs COMMA  shuffle EQUAL True COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
encoder1_train  EQUAL  Encoder1 DOT predict PARELEFT  PARERIGHT  DOM
encoder2_train  EQUAL  Encoder2 DOT predict PARELEFT  PARERIGHT  DOM
X_train  EQUAL  Encoder3 DOT predict PARELEFT  PARERIGHT  DOM
encoder1_test  EQUAL  Encoder1 DOT predict PARELEFT  PARERIGHT  DOM
encoder2_test  EQUAL  Encoder2 DOT predict PARELEFT  PARERIGHT  DOM
X_test  EQUAL  Encoder3 DOT predict PARELEFT  PARERIGHT  DOM
def classifier_builder  PARELEFT  PARERIGHT  COLON  DOM
    classifier  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    classifier DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    classifier DOT add PARELEFT Masking PARELEFT mask_value EQUAL  -1 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    classifier DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA      activation EQUAL  QUOTMARK  COMMA   recurrent_activation EQUAL  QUOTMARK  COMMA    unit_forget_bias EQUAL True COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    classifier DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    classifier DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    classifier DOT compile PARELEFT  PARERIGHT  DOM
    return classifier DOM
class_weights  EQUAL  compute_class_weight PARELEFT  QUOTMARK  COMMA  np DOT unique PARELEFT  PARERIGHT  COMMA  y_train PARERIGHT  DOM
print  QUOTMARK  COMMA  class_weights DOM
classifier  EQUAL  KerasClassifier PARELEFT  PARERIGHT   DOM
classifier DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL BS COMMA  epochs EQUAL runEpoch COMMA  class_weight EQUAL class_weights COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  verbose EQUAL 2 PARERIGHT  DOM
y_predict EQUAL classifier DOT predict PARELEFT  PARERIGHT  DOM
y_predict  EQUAL   [] for j in y_predict] DOM
y_predict  EQUAL  np DOT where PARELEFT np DOT array PARELEFT  PARERIGHT <0 DOT 5 COMMA 0 COMMA 1 PARERIGHT  DOM
precision  EQUAL  precision_score PARELEFT  PARERIGHT   DOM
recall  EQUAL  recall_score PARELEFT  PARERIGHT   DOM
print  PARELEFT  PARERIGHT   DOM
print  PARELEFT  PARERIGHT   DOM
confusion_matrix EQUAL confusion_matrix PARELEFT  PARERIGHT  DOM
print  confusion_matrix DOM
import numpy DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
from keras DOT optimizers import RMSprop DOM
import sys DOM
model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
trainerOpt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
filename  EQUAL   QUOTMARK  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
completeText  EQUAL  open PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  DOT lower PARELEFT  PARERIGHT  DOM
chars  EQUAL  sorted PARELEFT list PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
charToInt  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
int_to_char  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
pattern  EQUAL   QUOTMARK  DOM
sort_sen  EQUAL  list PARELEFT  PARERIGHT  DOM
pattern  EQUAL  [] for value in sort_sen] DOM
print PARELEFT  PARERIGHT  DOM
for i in range PARELEFT  PARERIGHT  COLON  DOM
	x  EQUAL  numpy DOT reshape PARELEFT pattern COMMA   PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
	x  EQUAL  x / float PARELEFT  PARERIGHT  DOM
	prediction  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
	index  EQUAL  numpy DOT argmax PARELEFT  PARERIGHT  DOM
	result  EQUAL  int_to_char[] DOM
	seq_in  EQUAL  [] for value in pattern] DOM
	sys DOT stdout DOT write PARELEFT  PARERIGHT  DOM
	pattern DOT append PARELEFT  PARERIGHT  DOM
	pattern  EQUAL  pattern[]__author__  EQUAL   QUOTMARK  DOM
import os DOT path DOM
import numpy as np DOM
from data_manipulator import elementwise_square COMMA  roll_rows DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  AutoEncoder COMMA  Activation DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT regularizers import l2 DOM
from convolutional import Convolution1D COMMA  MaxPooling1D DOM
class TimeDistributedAutoEncoder COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT conf  EQUAL  conf DOM
        self DOT model_dir  EQUAL   QUOTMARK  DOM
        self DOT model_name  EQUAL   QUOTMARK  DOM
        self DOT encoder_sizes  EQUAL  [] DOM
        self DOT decoder_sizes  EQUAL  [] DOM
        self DOT models  EQUAL  [] DOM
        self DOT compiled  EQUAL  False DOM
    @property DOM
    def get_model_name PARELEFT  PARERIGHT  COLON  DOM
        if not self DOT compiled COLON  DOM
            raise Exception PARELEFT  PARERIGHT ; DOM
        model_structure  EQUAL   QUOTMARK  DOM
        model_name  EQUAL  model_structure %  PARELEFT  QUOTMARK  DOT join PARELEFT str PARELEFT  PARERIGHT  for e in self DOT encoder_sizes PARERIGHT  DOT join PARELEFT str PARELEFT  PARERIGHT  for d in self DOT decoder_sizes PARERIGHT  int PARELEFT  PARERIGHT  self DOT conf[] PARERIGHT  DOM
        model_dir  EQUAL  model_name DOT replace PARELEFT  PARERIGHT  DOT replace PARELEFT  PARERIGHT  DOM
        from data_manipulator import create_dir DOM
        create_dir PARELEFT  PARERIGHT  DOM
        return model_dir COMMA  model_name DOM
    def compile PARELEFT  PARERIGHT  COLON  DOM
        for model in self DOT models COLON  DOM
            print model DOT get_config PARELEFT  PARERIGHT  DOM
            if optimizer is not None COLON  DOM
                model DOT compile PARELEFT  PARERIGHT  DOM
            else COLON  DOM
                model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT compiled  EQUAL  True DOM
    def add_autoencoder PARELEFT  PARERIGHT  COLON  DOM
        assert PARELEFT len PARELEFT  PARERIGHT  ! EQUAL  0 and len PARELEFT  PARERIGHT  ! EQUAL  0 PARERIGHT  DOM
        assert PARELEFT len PARELEFT  PARERIGHT   EQUAL  EQUAL  len PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT encoder_sizes  EQUAL  encoder_sizes DOM
        self DOT decoder_sizes  EQUAL  decoder_sizes DOM
        self DOT models  EQUAL  [] DOM
        encoders  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        decoders  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - 1 PARERIGHT  COLON  DOM
            encoders DOT add PARELEFT Dense PARELEFT encoder_sizes[] COMMA  encoder_sizes[] init EQUAL self DOT conf[] activation EQUAL self DOT conf[] W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            decoders DOT add PARELEFT Dense PARELEFT decoder_sizes[] COMMA  decoder_sizes[] init EQUAL self DOT conf[] activation EQUAL self DOT conf[] W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT models[] DOT add PARELEFT AutoEncoder PARELEFT encoder EQUAL encoders decoder EQUAL decodersutput_reconstruction EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        return self DOT models DOM
    def add_conv_autoencoder PARELEFT  PARERIGHT  COLON  DOM
        assert PARELEFT len PARELEFT  PARERIGHT  ! EQUAL  0 and len PARELEFT  PARERIGHT  ! EQUAL  0 PARERIGHT  DOM
        assert PARELEFT len PARELEFT  PARERIGHT   EQUAL  EQUAL  len PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT encoder_sizes  EQUAL  encoder_sizes DOM
        self DOT decoder_sizes  EQUAL  decoder_sizes DOM
        self DOT models  EQUAL  [] DOM
        encoders  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        decoders  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - 1 PARERIGHT  COLON  DOM
            encoders DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
            encoders DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
            encoders DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
            encoders DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
            decoders DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
            decoders DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
            decoders DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT models[] DOT add PARELEFT AutoEncoder PARELEFT encoder EQUAL encoders decoder EQUAL decodersutput_reconstruction EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        return self DOT models DOM
    def add_lstm_autoencoder PARELEFT  PARERIGHT  COLON  DOM
        assert PARELEFT len PARELEFT  PARERIGHT  ! EQUAL  0 and len PARELEFT  PARERIGHT  ! EQUAL  0 PARERIGHT  DOM
        assert PARELEFT len PARELEFT  PARERIGHT   EQUAL  EQUAL  len PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT encoder_sizes  EQUAL  encoder_sizes DOM
        self DOT decoder_sizes  EQUAL  decoder_sizes DOM
        self DOT models  EQUAL  [] DOM
        encoders  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        decoders  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - 1 PARERIGHT  COLON  DOM
            encoders DOT add PARELEFT LSTM PARELEFT encoder_sizes[] COMMA  encoder_sizes[] activation EQUAL self DOT conf[] inner_activation EQUAL self DOT conf[] init EQUAL self DOT conf[] inner_init EQUAL self DOT conf[] truncate_gradient EQUAL int PARELEFT  PARERIGHT  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
            decoders DOT add PARELEFT LSTM PARELEFT decoder_sizes[] COMMA  decoder_sizes[] activation EQUAL self DOT conf[] inner_activation EQUAL self DOT conf[] init EQUAL self DOT conf[] inner_init EQUAL self DOT conf[] truncate_gradient EQUAL int PARELEFT int PARELEFT  PARERIGHT  PARERIGHT rn_sequences EQUAL not  PARELEFT i  EQUAL  EQUAL  len PARELEFT  PARERIGHT  - 1 PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT models[] DOT add PARELEFT AutoEncoder PARELEFT encoder EQUAL encoders decoder EQUAL decodersutput_reconstruction EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        return self DOT models DOM
    def format_lstm_data PARELEFT  PARERIGHT  COLON  DOM
        if self DOT conf[] DOT strip PARELEFT  PARERIGHT  DOT lower PARELEFT  PARERIGHT   EQUAL  EQUAL   QUOTMARK  COLON  DOM
            x  EQUAL  x[] DOM
            print  QUOTMARK  COMMA  x DOT shape DOM
        return x DOM
    def unformat_lstm_data PARELEFT  PARERIGHT  COLON  DOM
        if self DOT conf[] DOT strip PARELEFT  PARERIGHT  DOT lower PARELEFT  PARERIGHT   EQUAL  EQUAL   QUOTMARK  COLON  DOM
            x  EQUAL  x[] DOM
        return x DOM
    @staticmethod DOM
    def softmax PARELEFT  PARERIGHT  COLON  DOM
        e_x  EQUAL  np DOT exp PARELEFT x - np DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
        out  EQUAL  e_x / e_x DOT sum PARELEFT  PARERIGHT  DOM
        return out DOM
    @staticmethod DOM
    def sigmoid PARELEFT  PARERIGHT  COLON  DOM
        return 1 /  PARELEFT 1 + np DOT exp PARELEFT  PARERIGHT  PARERIGHT  DOM
    def train_and_predict PARELEFT  PARERIGHT  COLON  DOM
        self DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model_dir COMMA  self DOT model_name  EQUAL  self DOT get_model_name DOM
        _  EQUAL  self DOT load_model PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  COMMA  self DOT models[] PARERIGHT  DOM
        x  EQUAL  self DOT format_lstm_data PARELEFT  PARERIGHT  DOM
        predictions  EQUAL  [] DOM
        if self DOT conf[] DOT strip PARELEFT  PARERIGHT  DOT lower PARELEFT  PARERIGHT   EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT models[] DOT train_on_batch PARELEFT x COMMA  roll_rows PARELEFT  PARERIGHT   COMMA  accuracy EQUAL True PARERIGHT  DOM
        for i in xrange PARELEFT  PARERIGHT  COLON  DOM
            if self DOT conf[] DOT strip PARELEFT  PARERIGHT  DOT lower PARELEFT  PARERIGHT   EQUAL  EQUAL   QUOTMARK  COLON  DOM
                predictions DOT append PARELEFT self DOT models[] DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
            else COLON  DOM
                predictions DOT append PARELEFT self DOT models[] DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT models[] DOT train_on_batch PARELEFT  PARERIGHT  DOM
        print  QUOTMARK  % os DOT path DOT join PARELEFT  PARERIGHT  DOM
        self DOT models[] DOT save_weights PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  COMMA  overwrite EQUAL True PARERIGHT  DOM
        predictions  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT  > 3 COLON  DOM
            predictions  EQUAL  np DOT squeeze PARELEFT np DOT squeeze PARELEFT np DOT array PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT  PARERIGHT  COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  3 COLON  DOM
            predictions  EQUAL  np DOT squeeze PARELEFT np DOT array PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
        print  QUOTMARK  COMMA  predictions DOT shape DOM
        np DOT savetxt PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  COMMA  predictions COMMA  delimiter EQUAL  QUOTMARK  PARERIGHT  DOM
        return predictions DOM
    def get_model PARELEFT  PARERIGHT  COLON  DOM
        return self DOT models DOM
    def get_model_type PARELEFT  PARERIGHT  COLON  DOM
        return self DOT conf[] DOM
    @staticmethod DOM
    def load_model PARELEFT  PARERIGHT  COLON  DOM
        if os DOT path DOT isfile PARELEFT  PARERIGHT  COLON  DOM
            print  QUOTMARK  DOM
            model DOT load_weights PARELEFT  PARERIGHT  DOM
            return True DOM
        else COLON  DOM
            print  QUOTMARK  DOM
            return Falseimport matplotlib DOT pyplot as plt DOM
import numpy as np DOM
import time DOM
import csv DOM
import sys DOM
import tensorflow as tf DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers import Convolution2D DOM
from keras DOT layers DOT recurrent import LSTM COMMA  SimpleRNN COMMA  GRU DOM
import keras as keras DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
from keras import backend as K DOM
class multiLSTM COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT lstmModels  EQUAL  [] DOM
        self DOT xTest COMMA  self DOT yTest  EQUAL  None COMMA  None DOM
        file_dataset  EQUAL   QUOTMARK  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            data  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
            winds  EQUAL  [] DOM
            for line in data COLON  DOM
                winds DOT append PARELEFT  PARERIGHT  DOM
        self DOT means_stds  EQUAL  [] DOM
        self DOT winds COMMA  self DOT means_stds  EQUAL  self DOT normalize_winds_0_1 PARELEFT  PARERIGHT  DOM
        activation  EQUAL  [] DOM
        self DOT epochs COMMA  self DOT trainDataRate  EQUAL  [] COMMA  1] if realRun else [] COMMA  0 DOT 005] DOM
    def normalize_winds_0_1 PARELEFT  PARERIGHT  COLON  DOM
        windMax  EQUAL  winds DOT max PARELEFT  PARERIGHT  DOM
        windMin  EQUAL  winds DOT min PARELEFT  PARERIGHT  DOM
        normal_winds  EQUAL   PARELEFT  PARERIGHT  / windMax DOM
        mins_maxs  EQUAL  [] DOM
        return np DOT array PARELEFT  PARERIGHT  COMMA  mins_maxs DOM
    def denormalize PARELEFT  PARERIGHT  COLON  DOM
        return res DOM
    def loadData_1 PARELEFT  PARERIGHT  COLON  DOM
        for index in range PARELEFT len PARELEFT  PARERIGHT  - self DOT inputHorizon PARERIGHT  COLON  DOM
            result DOT append PARELEFT  PARERIGHT  DOM
        result  EQUAL  np DOT array PARELEFT  PARERIGHT    DOM
        trainRow  EQUAL  int PARELEFT  PARERIGHT  DOM
        X_train  EQUAL  result[] DOM
        y_train  EQUAL  self DOT winds[] DOM
        self DOT xTest  EQUAL  result[] DOM
        self DOT yTest  EQUAL  self DOT winds[] DOM
        self DOT predicted  EQUAL  np DOT zeros_like PARELEFT  PARERIGHT  DOM
        return [] DOM
    def loadData PARELEFT  PARERIGHT  COLON  DOM
        for ind in range PARELEFT len PARELEFT  PARERIGHT  - self DOT inputHorizon -1 PARERIGHT  COLON  DOM
            tempInput  EQUAL  preXTrain[] DOM
            temp_shape  EQUAL  tempInput DOT shape DOM
            tempInput  EQUAL  np DOT reshape PARELEFT tempInput COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
            output  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
            tInput  EQUAL  np DOT reshape PARELEFT  PARERIGHT  DOM
            tempInput  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
            tempInput  EQUAL  np DOT delete PARELEFT  PARERIGHT  DOM
            xTrain[]  EQUAL  tempInput DOM
            yTrain[]  EQUAL  preYTrain[] DOM
        return [] DOM
    def buildModelLSTM_1 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        in_nodes  EQUAL  out_nodes  EQUAL  self DOT inOutVecDim DOM
        layers  EQUAL  [] DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def buildModelLSTM_2 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        layers  EQUAL  [] DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def buildModelLSTM_3 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        layers  EQUAL  [] DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def buildModelLSTM_4 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        layers  EQUAL  [] DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def buildModelLSTM_5 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        layers  EQUAL  [] DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def buildModelLSTM_6 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        layers  EQUAL  [] DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def buildModelLSTM PARELEFT  PARERIGHT  COLON  DOM
        if lstmModelNum  EQUAL  EQUAL  1 COLON  DOM
            return self DOT buildModelLSTM_1 PARELEFT  PARERIGHT  DOM
        elif lstmModelNum  EQUAL  EQUAL  2 COLON  DOM
            return self DOT buildModelLSTM_2 PARELEFT  PARERIGHT  DOM
        elif lstmModelNum  EQUAL  EQUAL  3 COLON  DOM
            return self DOT buildModelLSTM_3 PARELEFT  PARERIGHT  DOM
        elif lstmModelNum  EQUAL  EQUAL  4 COLON  DOM
            return self DOT buildModelLSTM_4 PARELEFT  PARERIGHT  DOM
        elif lstmModelNum  EQUAL  EQUAL  5 COLON  DOM
            return self DOT buildModelLSTM_5 PARELEFT  PARERIGHT  DOM
        elif lstmModelNum  EQUAL  EQUAL  6 COLON  DOM
            return self DOT buildModelLSTM_6 PARELEFT  PARERIGHT  DOM
    def trainLSTM PARELEFT  PARERIGHT  COLON  DOM
        lstmModel  EQUAL  self DOT buildModelLSTM PARELEFT  PARERIGHT  DOM
        lstmModel DOT fit PARELEFT  PARERIGHT  DOM
        return lstmModel DOM
    def test PARELEFT  PARERIGHT  COLON  DOM
        for ind in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            modelInd  EQUAL  ind % 6 DOM
            if modelInd  EQUAL  EQUAL  0 COLON  DOM
                testInputRaw  EQUAL  self DOT xTest[] DOM
                testInputShape  EQUAL  testInputRaw DOT shape DOM
                testInput  EQUAL  np DOT reshape PARELEFT  PARERIGHT  DOM
            else COLON  DOM
                testInputRaw  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                testInput  EQUAL  np DOT delete PARELEFT  PARERIGHT  DOM
                testInputShape  EQUAL  testInput DOT shape DOM
                testInput  EQUAL  np DOT reshape PARELEFT  PARERIGHT  DOM
            self DOT predicted[]  EQUAL  self DOT lstmModels[] DOT predict PARELEFT  PARERIGHT  DOM
    def errorMeasures PARELEFT  PARERIGHT  COLON  DOM
        mae  EQUAL  np DOT mean PARELEFT np DOT absolute PARELEFT  PARERIGHT  PARERIGHT  DOM
        rmse  EQUAL  np DOT sqrt PARELEFT  PARELEFT np DOT mean PARELEFT  PARELEFT np DOT absolute PARELEFT  PARERIGHT  PARERIGHT  ** 2 PARERIGHT  PARERIGHT  PARERIGHT  DOM
        nrsme_maxMin  EQUAL  100 * rmse /  PARELEFT denormalYTest DOT max PARELEFT  PARERIGHT  - denormalYTest DOT min PARELEFT  PARERIGHT  PARERIGHT  DOM
        nrsme_mean  EQUAL  100 * rmse /  PARELEFT denormalYTest DOT mean PARELEFT  PARERIGHT  PARERIGHT  DOM
        return mae COMMA  rmse COMMA  nrsme_maxMin COMMA  nrsme_mean DOM
    def drawGraphStation PARELEFT  PARERIGHT  COLON  DOM
        yTest  EQUAL  self DOT yTest[] DOM
        denormalYTest  EQUAL  self DOT denormalize PARELEFT  PARERIGHT  DOM
        denormalPredicted  EQUAL  self DOT denormalize PARELEFT  PARERIGHT  DOM
        mae COMMA  rmse COMMA  nrmse_maxMin COMMA  nrmse_mean  EQUAL  self DOT errorMeasures PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  PARERIGHT  DOM
        if visualise COLON  DOM
            if ax is None COLON  DOM
                fig  EQUAL  plt DOT figure PARELEFT  PARERIGHT  DOM
                ax  EQUAL  fig DOT add_subplot PARELEFT  PARERIGHT  DOM
            ax DOT plot PARELEFT  PARERIGHT  DOM
            ax DOT plot PARELEFT  PARERIGHT  DOM
            ax DOT set_xticklabels PARELEFT  PARERIGHT  DOM
        return mae COMMA  rmse COMMA  nrmse_maxMin COMMA  nrmse_mean DOM
    def drawGraphAllStations PARELEFT  PARERIGHT  COLON  DOM
        rows COMMA  cols  EQUAL  1 COMMA  1 DOM
        maeRmse  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        fig COMMA  ax_array  EQUAL  plt DOT subplots PARELEFT  PARERIGHT  DOM
        staInd  EQUAL  0 DOM
            maeRmse[]  EQUAL  self DOT drawGraphStation PARELEFT  PARERIGHT  DOM
            staInd + EQUAL  1 DOM
        plt DOT xticks PARELEFT  PARERIGHT  DOM
        print PARELEFT maeRmse DOT mean PARELEFT  PARERIGHT  PARERIGHT  DOM
        filename  EQUAL   QUOTMARK  DOM
        plt DOT savefig PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT savefig PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT show PARELEFT  PARERIGHT  DOM
    def run PARELEFT  PARERIGHT  COLON  DOM
        xTrain COMMA  yTrain  EQUAL  self DOT loadData_1 PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT lstmModels[]  EQUAL  self DOT trainLSTM PARELEFT  PARERIGHT  DOM
        for modelInd in range PARELEFT  PARERIGHT  COLON  DOM
            xTrain COMMA  yTrain  EQUAL  self DOT loadData PARELEFT  PARERIGHT  DOM
            print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
            self DOT lstmModels[]  EQUAL  self DOT trainLSTM PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT test PARELEFT  PARERIGHT  DOM
        self DOT drawGraphAllStations PARELEFT  PARERIGHT  DOM
DeepForecast  EQUAL  multiLSTM PARELEFT  PARERIGHT  DOM
DeepForecast DOT run PARELEFT  PARERIGHT from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
class LSTM_NN PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
from keras DOT preprocessing import sequence DOM
from keras DOT optimizers import SGD COMMA  RMSprop COMMA  Adagrad DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT constraints import unitnorm DOM
from keras DOT layers DOT core import Reshape COMMA  Flatten COMMA  Merge DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D COMMA  Convolution1D COMMA  MaxPooling1D DOM
from sklearn DOT cross_validation import KFold DOM
from keras DOT callbacks import EarlyStopping DOM
from keras DOT regularizers import l2 DOM
import numpy as np DOM
from sklearn import cross_validation DOM
import math DOM
from keras_input_data import make_idx_data DOM
from load_vai import loadVAI DOM
import _pickle as cPickle DOM
from metrics import continuous_metrics DOM
def cnn PARELEFT  PARERIGHT  COLON  DOM
    N_fm  EQUAL  100 DOM
    dense_nb  EQUAL  20 DOM
    kernel_size  EQUAL  5 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT input_dim EQUAL W DOT shape[] COMMA  output_dim EQUAL W DOT shape[] COMMA  weights EQUAL [] COMMA  W_constraint EQUAL unitnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT W DOT shape[] COMMA  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT nb_filter EQUAL N_fm COMMA  nb_row EQUAL kernel_size COMMA  nb_col EQUAL conv_input_width COMMA  border_mode EQUAL  QUOTMARK  COMMA _regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def imdb_cnn PARELEFT  PARERIGHT  COLON  DOM
    N_fm  EQUAL  100 DOM
    kernel_size  EQUAL  5 DOM
    max_features  EQUAL  W DOT shape[] DOM
    hidden_dims  EQUAL  100 DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def cnn_lstm PARELEFT  PARERIGHT  COLON  DOM
    nb_filter  EQUAL  100 DOM
    filter_length  EQUAL  5 DOM
    pool_length  EQUAL  2 DOM
    lstm_output_size  EQUAL  100 DOM
    p  EQUAL  0 DOT 25 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    x  EQUAL  cPickle DOT load PARELEFT open PARELEFT  PARERIGHT  PARERIGHT  DOM
    revs COMMA  W COMMA  W2 COMMA  word_idx_map COMMA  vocab  EQUAL  x[] COMMA  x[] COMMA  x[] COMMA  x[] COMMA  x[] DOM
    print PARELEFT  PARERIGHT  DOM
    sentences EQUAL [] DOM
    for rev in revs COLON  DOM
        sentence  EQUAL  rev[] DOM
        sentences DOT append PARELEFT  PARERIGHT  DOM
    idx_data  EQUAL  make_idx_data PARELEFT  PARERIGHT  DOM
    dim  EQUAL   QUOTMARK  DOM
    column  EQUAL  loadVAI PARELEFT  PARERIGHT  DOM
    irony EQUAL column DOM
    batch_size  EQUAL  8 DOM
    Y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    Y  EQUAL  [] DOM
    n_MAE EQUAL 0 DOM
    n_Pearson_r EQUAL 0 DOM
    n_Spearman_r EQUAL 0 DOM
    n_MSE EQUAL 0 DOM
    n_R2 EQUAL 0 DOM
    n_MSE_sqrt EQUAL 0 DOM
    SEED  EQUAL  42 DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  cross_validation DOT train_test_split PARELEFT  PARERIGHT  DOM
        print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
        print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
        print PARELEFT  QUOTMARK  PARERIGHT  DOM
        X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        model  EQUAL  lstm_cnn PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
        result  EQUAL  model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL 10 COMMA validation_data EQUAL  PARELEFT  PARERIGHT  COMMA callbacks EQUAL [] PARERIGHT  DOM
        score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        predict  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT [] DOM
        estimate EQUAL continuous_metrics PARELEFT  PARERIGHT  DOM
        n_MAE + EQUAL  estimate[] DOM
        n_Pearson_r + EQUAL  estimate[] DOM
    ndigit EQUAL 3 DOM
    avg_MAE  EQUAL   round PARELEFT  PARERIGHT  DOM
    avg_Pearson_r  EQUAL   round PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    from visualize import plot_keras COMMA  draw_hist DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import os as os DOM
import pandas as pd DOM
import numpy as np DOM
import pickle as pkl DOM
from sklearn DOT metrics import mean_squared_error as mse DOM
from sklearn DOT model_selection import train_test_split DOM
from datetime import datetime COMMA  timedelta DOM
from sklearn DOT preprocessing import StandardScaler COMMA  LabelEncoder COMMA  MinMaxScaler DOM
import math as ma DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  BatchNormalization COMMA LSTM DOM
from keras DOT optimizers import sgd COMMA rmsprop COMMA adam DOM
from keras DOT initializers import RandomNormal COMMA  RandomUniform DOM
from keras DOT losses import mean_squared_error COMMA  mean_absolute_error DOM
from keras DOT callbacks import CSVLogger DOM
seed  EQUAL  73 DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
class ModelDataLSTM PARELEFT  PARERIGHT  COLON  DOM
	def __init__ PARELEFT  PARERIGHT  COLON  DOM
		pass DOM
	def lstm_model PARELEFT  PARERIGHT  COLON  DOM
		features  EQUAL  X DOT shape[] DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT n COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT n COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT n COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		return model DOM
	def lstm_fit PARELEFT  PARERIGHT  COLON  DOM
		model DOT fit PARELEFT  PARERIGHT  DOM
		Xpred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
		Xtestpred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
		model DOT reset_states PARELEFT  PARERIGHT  DOM
		return Xpred COMMA  Xtestpredfrom keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import Callback DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
    def on_batch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def neural_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT rams[] COMMA  init EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if load COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport os DOM
global_model_version  EQUAL  51 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT models import Sequential COMMA Model DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT core import Reshape COMMA  Permute DOM
from keras DOT layers import Merge COMMA concatenate DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
import numpy as np DOM
def model_cnn_lstm_adam_binary PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL   QUOTMARK  DOM
    loss  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 4 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +inputShape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape  EQUAL  model DOT layers[] DOT output_shape DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape[] COMMA np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_cnn_lstm_adam_binary_dropout PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL   QUOTMARK  DOM
    loss  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 4 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +inputShape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape  EQUAL  model DOT layers[] DOT output_shape DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape[] COMMA np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_cnn_lstm_adam PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL   QUOTMARK  DOM
    loss  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 4 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +inputShape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape  EQUAL  model DOT layers[] DOT output_shape DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape[] COMMA np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_branched_cnn_mixed_lstm_binary PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_branched_cnn_mixed_lstm_regression PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
from keras DOT layers import Input DOM
def model_branched_cnn_mixed_lstm_binary_functional PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    input1  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  DOM
    input2  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    output1  EQUAL  branch1 PARELEFT  PARERIGHT  DOM
    output2  EQUAL  branch2 PARELEFT  PARERIGHT  DOM
    mergedInput  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_branched_cnn_mixed_lstm_regression_padding PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    input1  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  DOM
    input2  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape1  EQUAL  branch1 DOT layers[] DOT output_shape DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape1[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nPadTo  EQUAL  int PARELEFT np DOT ceil PARELEFT  PARERIGHT  * ntOut PARERIGHT  DOM
    nPadding  EQUAL   PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT ZeroPadding1D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    output1  EQUAL  branch1 PARELEFT  PARERIGHT  DOM
    output2  EQUAL  branch2 PARELEFT  PARERIGHT  DOM
    mergedInput  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
from keras DOT layers import ZeroPadding1D DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT core import Reshape COMMA  Permute DOM
from keras DOT layers import Merge COMMA  concatenate COMMA  BatchNormalization DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
def model_branched_cnn_mixed_lstm_regression_batchNorm PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    input1  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  DOM
    input2  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape1  EQUAL  branch1 DOT layers[] DOT output_shape DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape1[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nPadTo  EQUAL  int PARELEFT np DOT ceil PARELEFT  PARERIGHT  * ntOut PARERIGHT  DOM
    nPadding  EQUAL   PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT ZeroPadding1D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    output1  EQUAL  branch1 PARELEFT  PARERIGHT  DOM
    output2  EQUAL  branch2 PARELEFT  PARERIGHT  DOM
    mergedInput  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_branched_cnn_mixed_lstm_regression_functional PARELEFT  PARERIGHT  COLON  DOM
    loss  EQUAL   QUOTMARK  DOM
    kernelSize1  EQUAL   PARELEFT  PARERIGHT  DOM
    kernelSize2  EQUAL   PARELEFT  PARERIGHT  DOM
    ntOut  EQUAL  outputShape[] DOM
    input1  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  DOM
    input2  EQUAL  Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize1 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT numFilter COMMA  kernelSize2 COMMA  padding EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  + input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape2  EQUAL  branch2 DOT layers[] DOT output_shape DOM
    branch2 DOT add PARELEFT Reshape PARELEFT  PARELEFT convOutShape2[] COMMA  np DOT prod PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    output1  EQUAL  branch1 PARELEFT  PARERIGHT  DOM
    output2  EQUAL  branch2 PARELEFT  PARERIGHT  DOM
    mergedInput  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    X EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  loss DOM
def model_cnn_cat_mixed_lstm_2predict PARELEFT  PARERIGHT  COLON  DOM
    optimizer  EQUAL   QUOTMARK  DOM
    loss  EQUAL   QUOTMARK  DOM
    branch1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT 4 COMMA  1 COMMA  5 COMMA  border_mode EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +input1Shape PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT 4 COMMA  3 COMMA  5 COMMA  border_mode EQUAL  QUOTMARK  COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT +input2Shape PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    branch2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    convOutShape  EQUAL  model DOT layers[] DOT output_shape DOM
    model DOT add PARELEFT Reshape PARELEFT  PARELEFT np DOT prod PARELEFT  PARERIGHT  COMMA  convOutShape[] PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  optimizer COMMA  lossfrom keras DOT layers import Embedding COMMA  LSTM COMMA  TimeDistributed COMMA  Dense COMMA  Dropout DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
from keras DOT optimizers import Adam DOM
from keras DOT models import load_model as keras_load_model DOM
from  DOT  import constant DOM
class Model PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
def save_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
def load_model PARELEFT  PARERIGHT  COLON  DOM
    return keras_load_model PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT models import Model DOM
from keras DOT layers import Input DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT models import Model DOM
import keras DOT backend as K DOM
from keras import initializers DOM
from numpy import array DOM
import random DOM
import numpy as np DOM
def fun_1 PARELEFT  PARERIGHT  COLON  DOM
    inputs1  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm1  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    data  EQUAL  array PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
    pass DOM
def fun_1_ex PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True COMMA kernel_initializer EQUAL initializers DOT constant PARELEFT  PARERIGHT  COMMA recurrent_initializer EQUAL initializers DOT constant PARELEFT  PARERIGHT  COMMA bias_initializer EQUAL initializers DOT constant PARELEFT  PARERIGHT  COMMA use_bias EQUAL False PARERIGHT  PARERIGHT  DOM
    data  EQUAL  array PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
    pass DOM
def fun_2 PARELEFT  PARERIGHT  COLON  DOM
    inputs1  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm1 COMMA  state_h COMMA  state_c  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    data  EQUAL  array PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
    pass DOM
def fun_3 PARELEFT  PARERIGHT  COLON  DOM
    inputs1  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm1 COMMA  state_h COMMA  state_c  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    data  EQUAL  array PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
    pass DOM
def fun_4 PARELEFT  PARERIGHT  COLON  DOM
    number_of_dimensions  EQUAL  4 DOM
    number_of_examples  EQUAL  1 DOM
    input_  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm COMMA  hidden COMMA  cell  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    dense  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    with K DOT get_session PARELEFT  PARERIGHT  as sess COLON  DOM
        x  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        cell_state  EQUAL  sess DOT run PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
fun_1_ex PARELEFT  PARERIGHT  DOM
passimport numpy as np DOM
from tensorflow DOT keras DOT layers import Dense COMMA  Input COMMA  GlobalMaxPooling1D DOM
from tensorflow DOT keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding COMMA  LSTM DOM
from tensorflow DOT keras DOT models import Model COMMA  Sequential DOM
def getConvModel PARELEFT  PARERIGHT  COLON  DOM
    print  QUOTMARK  DOM
    sequence_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    embedded_sequences  EQUAL  embedding_layer PARELEFT  PARERIGHT  DOM
    x  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Conv1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  GlobalMaxPooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def getConvLSTMmodel PARELEFT  PARERIGHT  COLON  DOM
    print  QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def getLSTMmodel PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT     DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT layers DOT core import Dense COMMA  Activation DOM
from keras DOT layers import Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT optimizers import RMSprop DOM
from keras import optimizers DOM
from keras DOT models import Model DOM
from keras import backend as K DOM
import numpy as np DOM
import random DOM
import sys DOM
from Const import Const DOM
class Lstm PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT word_seq_num  EQUAL  1 DOM
    def input_len_set PARELEFT  PARERIGHT  COLON  DOM
        self DOT input_len  EQUAL  self DOT word_feat_len * self DOT word_seq_num DOM
        self DOT output_len  EQUAL  3000 DOM
        self DOT hidden_neurons  EQUAL  8000 DOM
    def make_net PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT self DOT output_len COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA implementation EQUAL 1 COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        loss  EQUAL   QUOTMARK  DOM
        loss  EQUAL   QUOTMARK  DOM
        loss  EQUAL   QUOTMARK  DOM
        optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL   QUOTMARK  DOM
        optimizer  EQUAL  optimizers DOT Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model DOT summary PARELEFT  PARERIGHT  DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        self DOT hist  EQUAL  self DOT model DOT fit PARELEFT  PARERIGHT  DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        inp  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        inp  EQUAL  inp DOT reshape PARELEFT  PARERIGHT  DOM
        predict_list  EQUAL  self DOT model DOT predict_on_batch PARELEFT  PARERIGHT  DOM
        return predict_list DOM
    def netScore PARELEFT  PARERIGHT  COLON  DOM
        self DOT score  EQUAL  self DOT model DOT evaluate PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    def waitController PARELEFT  PARERIGHT  COLON  DOM
        try COLON  DOM
            if flag  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                print PARELEFT  PARERIGHT  DOM
                self DOT model DOT save_weights PARELEFT  PARERIGHT  DOM
            if flag  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                print PARELEFT  PARERIGHT  DOM
                self DOT model DOT load_weights PARELEFT  PARERIGHT  DOM
        except  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    lstm  EQUAL  Lstm PARELEFT  PARERIGHT  DOM
    lstm DOT input_len_set PARELEFT  PARERIGHT  DOM
    lstm DOT make_net PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
   main PARELEFT  PARERIGHT from keras DOT layers DOT convolutional import Conv2DTranspose  COMMA  Conv1D COMMA  Conv2D COMMA Convolution3D COMMA  MaxPooling2D COMMA UpSampling1D COMMA UpSampling2D COMMA UpSampling3D DOM
from keras DOT layers import Input COMMA Embedding COMMA  Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA    Reshape COMMA  Flatten COMMA  Lambda DOM
from keras DOT layers DOT noise import GaussianDropout COMMA  GaussianNoise DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras import initializers DOM
from keras import regularizers DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
import numpy as np  DOM
import pandas as pd DOM
import os DOM
def create_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_vecor_length  EQUAL  32 DOM
    model1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model1 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model2 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model3 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model4  EQUAL  Model PARELEFT inputs EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  outputs EQUAL a PARERIGHT  DOM
    education  EQUAL  [] DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        JD  EQUAL  JD_ls[] DOM
        education DOT append PARELEFT  PARERIGHT  DOM
    edu_types  EQUAL  list PARELEFT set PARELEFT sum PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    to_categorical PARELEFT  PARERIGHT  DOM
    import pandas as pd DOM
    s  EQUAL  pd DOT Series PARELEFT  PARERIGHT  DOM
    pd DOT get_dummies PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
	model_id  EQUAL   QUOTMARK  DOM
	model  EQUAL  create_LSTM PARELEFT  PARERIGHT  DOM
import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM COMMA  Dropout DOM
from keras import backend as K DOM
from keras_tqdm import TQDMNotebookCallback DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  LSTM_model DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  Activation DOM
from keras DOT layers import LSTM COMMA  Bidirectional DOM
from theano DOT scalar import float32 DOM
import numpy as np DOM
def lstm_embedding_empty PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_embedding_pretrained PARELEFT  PARERIGHT  COLON  DOM
    embedding_dimension  EQUAL  len PARELEFT  PARERIGHT  DOM
    number_of_words  EQUAL  len PARELEFT index_to_embedding_mapping DOT keys PARELEFT  PARERIGHT  PARERIGHT  DOM
    embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    for index COMMA  embedding in index_to_embedding_mapping DOT items PARELEFT  PARERIGHT  COLON  DOM
        embedding_matrix[]  EQUAL  embedding DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lst_stacked PARELEFT  PARERIGHT  COLON  DOM
    embedding_dimension  EQUAL  len PARELEFT  PARERIGHT  DOM
    number_of_words  EQUAL  len PARELEFT index_to_embedding_mapping DOT keys PARELEFT  PARERIGHT  PARERIGHT  DOM
    embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    for index COMMA  embedding in index_to_embedding_mapping DOT items PARELEFT  PARERIGHT  COLON  DOM
        embedding_matrix[]  EQUAL  embedding DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def blstm PARELEFT  PARERIGHT  COLON  DOM
    embedding_dimension  EQUAL  len PARELEFT  PARERIGHT  DOM
    number_of_words  EQUAL  len PARELEFT index_to_embedding_mapping DOT keys PARELEFT  PARERIGHT  PARERIGHT  DOM
    embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    for index COMMA  embedding in index_to_embedding_mapping DOT items PARELEFT  PARERIGHT  COLON  DOM
        embedding_matrix[]  EQUAL  embedding DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT layers import Dense COMMA  Dropout COMMA  TimeDistributed DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT initializers import Constant DOM
from keras DOT optimizers import Adam COMMA  RMSprop COMMA  SGD DOM
from keras DOT applications import ResNet50 as ResNet DOM
from collections import deque DOM
from keras import backend as K DOM
from keras DOT layers import Activation COMMA  Lambda COMMA  Input COMMA  Concatenate COMMA  Reshape COMMA  Flatten COMMA  concatenate DOM
from keras DOT layers import Input COMMA  Dense COMMA  Activation COMMA  Dropout COMMA  Conv3D COMMA  MaxPooling3D COMMA  Flatten COMMA ZeroPadding3D COMMA  \ DOM
    TimeDistributed COMMA  SpatialDropout3D COMMA BatchNormalization COMMA  Lambda COMMA  GRU COMMA  SpatialDropout1D DOM
from keras DOT layers import concatenate DOM
def get_model PARELEFT  PARERIGHT  COLON  DOM
        rm  EQUAL  LSTMModel PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        rm  EQUAL  ResNetLSTMModel PARELEFT  PARERIGHT  DOM
    return rm DOM
def ctc_lambda_func PARELEFT  PARERIGHT  COLON  DOM
    y_pred COMMA  labels COMMA  input_length COMMA  label_length  EQUAL  args DOM
    y_pred  EQUAL  y_pred[] DOM
    return K DOT ctc_batch_cost PARELEFT  PARERIGHT  DOM
class ResNetLSTMModel COLON  DOM
    def __init__ PARELEFT self COMMA  units COMMA  nb_classes COMMA  seq_length COMMA  model_name EQUAL  QUOTMARK  COMMA  image_shape EQUAL  PARELEFT  PARERIGHT  COMMA optimizer_name EQUAL  QUOTMARK  COMMA ning_rate EQUAL 1e-3 COMMA  decay EQUAL 1e-6 COMMA  lstm_dropout EQUAL 0 DOT 5 COMMA  dense_units EQUAL 512 COMMA  dense_dropout EQUAL 0 DOT 5 PARERIGHT  COLON  DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        self DOT image_shape  EQUAL  image_shape DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        self DOT optimizer_name  EQUAL  optimizer_name DOM
        self DOT learning_rate  EQUAL  learning_rate DOM
        self DOT decay  EQUAL  decay DOM
        self DOT model_name  EQUAL  model_name +  QUOTMARK  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  \ DOM
                          +  QUOTMARK  + str PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  self DOT build_resnet PARELEFT  PARERIGHT  DOM
        self DOT layer  EQUAL  1 DOM
        self DOT direction  EQUAL   QUOTMARK  DOM
        self DOT compile PARELEFT  PARERIGHT  DOM
    def build_resnet PARELEFT  PARERIGHT  COLON  DOM
        resnet  EQUAL  ResNet PARELEFT  PARERIGHT  DOM
        input_data  EQUAL  Input PARELEFT  PARERIGHT  DOM
        labels  EQUAL  Input PARELEFT  PARERIGHT  DOM
        input_length  EQUAL  Input PARELEFT  PARERIGHT  DOM
        label_length  EQUAL  Input PARELEFT  PARERIGHT  DOM
        res_list  EQUAL  [] DOM
        for j in range PARELEFT  PARERIGHT  COLON  DOM
            def slice PARELEFT  PARERIGHT  COLON  DOM
                return x[] DOM
            inner  EQUAL  resnet PARELEFT Lambda PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  PARERIGHT  DOM
            res_list DOT append PARELEFT  PARERIGHT  DOM
        m  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
        inner  EQUAL  Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        inner  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT units COMMA  return_sequences EQUAL True COMMA  dropout EQUAL dropout COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        y_pred  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        loss_out  EQUAL  Lambda PARELEFT ctc_lambda_func COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT direction  EQUAL   QUOTMARK  DOM
        return model DOM
    def compile PARELEFT  PARERIGHT  COLON  DOM
        if lr is not None COLON  DOM
            self DOT learning_rate  EQUAL  lr DOM
        if self DOT optimizer_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        elif self DOT optimizer_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
class LSTMModel COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        self DOT optimizer_name  EQUAL  optimizer_name DOM
        self DOT learning_rate  EQUAL  learning_rate DOM
        self DOT decay  EQUAL  decay DOM
        self DOT model_name  EQUAL  model_name +  QUOTMARK  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + \ DOM
                           QUOTMARK  + str PARELEFT  PARERIGHT  DOM
        self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
        if model_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            m COMMA  l COMMA  d  EQUAL  lstm PARELEFT  PARERIGHT  DOM
        elif model_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            m COMMA  l COMMA  d  EQUAL  two_layer_lstm PARELEFT  PARERIGHT  DOM
        elif model_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            m COMMA  l COMMA  d  EQUAL  three_layer_lstm PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK {}\ QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model  EQUAL  m DOM
        self DOT layer  EQUAL  l DOM
        self DOT direction  EQUAL  d DOM
        print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def compile PARELEFT  PARERIGHT  COLON  DOM
        if lr is not None COLON  DOM
            self DOT learning_rate  EQUAL  lr DOM
        if self DOT optimizer_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        elif self DOT optimizer_name  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
def two_layer_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL input_shape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units COMMA  return_sequences EQUAL True COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA  dropout EQUAL dropout PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units COMMA  return_sequences EQUAL True COMMA  dropout EQUAL dropout COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  2 COMMA   QUOTMARK  DOM
def three_layer_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL input_shape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units COMMA  return_sequences EQUAL True COMMA  dropout EQUAL dropout COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units COMMA  return_sequences EQUAL True COMMA  dropout EQUAL dropout COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units COMMA  return_sequences EQUAL True COMMA  dropout EQUAL dropout COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  3 COMMA   QUOTMARK  DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL input_shape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units COMMA  return_sequences EQUAL True COMMA  dropout EQUAL dropout COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  1 COMMA   QUOTMARK from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT core import Activation COMMA  Dropout DOM
from keras DOT models import Sequential DOM
FEATURE_COUNT  EQUAL  6 DOM
MODEL_FILEPATH  EQUAL   QUOTMARK  DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
model  EQUAL  build_model PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
import numpy as np DOM
from tensorflow DOT python import keras DOM
from tensorflow DOT python DOT framework import test_util as tf_test_util DOM
from tensorflow DOT python DOT keras import testing_utils DOM
from tensorflow DOT python DOT platform import test DOM
from tensorflow DOT python DOT training import adam DOM
from tensorflow DOT python DOT training import gradient_descent DOM
from tensorflow DOT python DOT training DOT rmsprop import RMSPropOptimizer DOM
@tf_test_util DOT run_all_in_graph_and_eager_modes DOM
class LSTMLayerTest PARELEFT  PARERIGHT  COLON  DOM
  def test_return_sequences_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA return_sequences' COLON  True} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_static_shape_inference_LSTM PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  keras DOT layers DOT Dense PARELEFT embedding_dim COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  model DOT layers[] DOT output DOM
    self DOT assertEquals PARELEFT outputs DOT get_shape PARELEFT  PARERIGHT  DOT as_list PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
  def test_dynamic_behavior_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT RMSPropOptimizer PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
    x  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_dropout_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA dropout QUOTMARK  COLON  0 DOT 1} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_implementation_mode_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    for mode in [] COLON  DOM
      testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA implementation' COLON  mode} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_constraints_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    k_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    r_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    b_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL k_constraint COMMA recurrent_constraint EQUAL r_constraint COMMA bias_constraint EQUAL b_constraint PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
  def test_with_masking_layer_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layer_class PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_masking_with_stacking_LSTM PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_cells  EQUAL  [] DOM
    model DOT add PARELEFT keras DOT layers DOT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_from_config_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    for stateful in  PARELEFT  PARERIGHT  COLON  DOM
      l1  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      l2  EQUAL  layer_class DOT from_config PARELEFT l1 DOT get_config PARELEFT  PARERIGHT  PARERIGHT  DOM
      assert l1 DOT get_config PARELEFT  PARERIGHT   EQUAL  EQUAL  l2 DOT get_config PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    else COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_non_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [keras DOT backend DOT random_normal_variable PARELEFT  PARERIGHT  COMMA  0 COMMA  1 PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_reset_states_with_values PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    assert layer DOT states[] is not None DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT zeros PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    state_shapes  EQUAL  [] DOM
    values  EQUAL  [] DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      values  EQUAL  values[] DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT ones PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    with self DOT assertRaises PARELEFT  PARERIGHT  COLON  DOM
      layer DOT reset_states PARELEFT [] *  PARELEFT len PARELEFT  PARERIGHT  + 1 PARERIGHT  PARERIGHT  DOM
  def test_specify_state_with_masking PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    _  EQUAL  keras DOT layers DOT Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_return_state PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    state  EQUAL  outputs[] DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    state  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA  state COMMA  atol EQUAL 1e-4 PARERIGHT  DOM
  def test_state_reuse PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    output COMMA  state  EQUAL  outputs[] COMMA  outputs[] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    outputs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  def test_initial_states_as_other_inputs PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    num_states  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    main_inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    inputs  EQUAL  [] + initial_state DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  PARERIGHT  DOM
    main_inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
class LSTMLayerGraphOnlyTest PARELEFT  PARERIGHT  COLON  DOM
  def test_statefulness_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT cached_session PARELEFT  PARERIGHT  COLON  DOM
      model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT 4 COMMA embedding_dim COMMA mask_zero EQUAL True COMMA input_length EQUAL timesteps COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT optimizer EQUAL gradient_descent DOT GradientDescentOptimizer PARELEFT  PARERIGHT  COMMA loss EQUAL  QUOTMARK  PARERIGHT  DOM
      out1  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT out1 DOT shape COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      out2  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out1 DOT max PARELEFT  PARERIGHT  COMMA  out2 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      out3  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out2 DOT max PARELEFT  PARERIGHT  COMMA  out3 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT reset_states PARELEFT  PARERIGHT  DOM
      out4  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
      out5  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out4 DOT max PARELEFT  PARERIGHT  COMMA  out5 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      left_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      left_padded_input[]  EQUAL  0 DOM
      left_padded_input[]  EQUAL  0 DOM
      out6  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      right_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      right_padded_input[]  EQUAL  0 DOM
      right_padded_input[]  EQUAL  0 DOM
      out7  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
  def test_regularizers_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT cached_session PARELEFT  PARERIGHT  COLON  DOM
      layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL  QUOTMARK  COMMA activity_regularizer EQUAL  QUOTMARK  PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  3 PARERIGHT  DOM
      x  EQUAL  keras DOT backend DOT variable PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT layer DOT get_losses_for PARELEFT  PARERIGHT  PARERIGHT  COMMA  1 PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  test DOT main PARELEFT  PARERIGHT import tensorflow as tf DOM
from tensorflow import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Lambda DOM
from keras DOT layers import Dropout DOM
from keras import backend as K DOM
def distributed_label PARELEFT  PARERIGHT  COLON  DOM
    m  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    m DOT compile PARELEFT  PARERIGHT  DOM
    return m DOM
def distributed_into_one PARELEFT  PARERIGHT  COLON  DOM
    m  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Lambda PARELEFT lambda x COLON  K DOT max PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT compile PARELEFT  PARERIGHT  DOM
    return m DOM
def singleLabel_1 PARELEFT  PARERIGHT  COLON  DOM
    m  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT compile PARELEFT  PARERIGHT  DOM
    return m DOM
def singleLabel_2 PARELEFT  PARERIGHT  COLON  DOM
    m  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT compile PARELEFT  PARERIGHT  DOM
    return m DOM
def singleLabel_3 PARELEFT  PARERIGHT  COLON  DOM
    m  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT compile PARELEFT  PARERIGHT  DOM
    return m DOM
def singleLabel_HighNumber PARELEFT  PARERIGHT  COLON  DOM
    m  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    m DOT compile PARELEFT  PARERIGHT  DOM
    return m DOM
modelDict  EQUAL  { DOM
     QUOTMARK  COLON  singleLabel_1 COMMA  DOM
     QUOTMARK  COLON  singleLabel_2 COMMA  DOM
     QUOTMARK  COLON  singleLabel_3 COMMA  DOM
     QUOTMARK  COLON  singleLabel_HighNumber DOM
}from keras DOT layers import Dense COMMA  Flatten COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import Conv2D COMMA  MaxPooling3D COMMA  Conv3D COMMA MaxPooling2D DOM
from collections import deque DOM
class Research_Models PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT saved_model EQUAL saved_model DOM
        self DOT no_cls EQUAL no_cls DOM
        self DOT features_dim EQUAL features_dim DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics EQUAL [] DOM
        if self DOT no_cls> EQUAL 20 COLON  DOM
            metrics DOT append PARELEFT  PARERIGHT  DOM
        if self DOT saved_model is not None COLON  DOM
             print PARELEFT  PARERIGHT  DOM
             self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model_name EQUAL  EQUAL  QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model EQUAL self DOT cnn_lstm PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model EQUAL self DOT lstm PARELEFT  PARERIGHT  DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
         QUOTMARK  DOM
        model EQUAL Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def cnn_lstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelimport os DOM
global_model_version  EQUAL  30 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT layers import Dense COMMA  Flatten COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
from collections import deque DOM
import sys DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        if self DOT nb_classes > EQUAL  10 COLON  DOM
            metrics DOT append PARELEFT  PARERIGHT  DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm_hof PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def lstm_hof PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom __future__ import division COMMA  print_function DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Dropout COMMA  RepeatVector DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT recurrent import SimpleRNN DOM
from keras DOT layers DOT recurrent import GRU DOM
from keras DOT models import Sequential DOM
import os DOM
import helper DOM
from argparse import ArgumentParser DOM
parser  EQUAL  ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
args  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
BABI_DIR  EQUAL   QUOTMARK  DOM
TASK_NBR  EQUAL  5 DOM
EMBED_HIDDEN_SIZE  EQUAL  100 DOM
BATCH_SIZE  EQUAL  32 DOM
NBR_EPOCHS  EQUAL  50 DOM
train_file COMMA  test_file  EQUAL  helper DOT get_files_for_task PARELEFT  PARERIGHT  DOM
data_train  EQUAL  helper DOT get_stories PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
data_test  EQUAL  helper DOT get_stories PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
word2idx  EQUAL  helper DOT build_vocab PARELEFT  PARERIGHT  DOM
vocab_size  EQUAL  len PARELEFT  PARERIGHT  + 1 DOM
print PARELEFT  PARERIGHT  DOM
story_maxlen COMMA  question_maxlen  EQUAL  helper DOT get_maxlens PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
Xs_train COMMA  Xq_train COMMA  Y_train  EQUAL  helper DOT vectorize_baseline PARELEFT  PARERIGHT  DOM
Xs_test COMMA  Xq_test COMMA  Y_test  EQUAL  helper DOT vectorize_baseline PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
story_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
story_lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
story_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
question_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
question_lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
question_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
question_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
question_lstm DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
loss COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT from sklearn DOT metrics import mean_squared_error DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Bidirectional DOM
from keras DOT layers import LSTM COMMA  Flatten COMMA  Conv1D COMMA  LocallyConnected1D COMMA  CuDNNLSTM COMMA  CuDNNGRU COMMA  MaxPooling1D COMMA  GlobalAveragePooling1D COMMA  GlobalMaxPooling1D DOM
from math import sqrt DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT callbacks import ModelCheckpoint DOM
import keras DOM
from sklearn DOT preprocessing import OneHotEncoder DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT advanced_activations import ELU DOM
import tensorflow as tf DOM
import numpy as np DOM
import argparse DOM
import os DOM
from keras DOT callbacks import CSVLogger DOM
from keras import backend as K DOM
def biGRU PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def biGRU_big PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def biGRU_16bit PARELEFT  PARERIGHT  COLON  DOM
        K DOT set_floatx PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def biLSTM PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def biLSTM_16bit PARELEFT  PARERIGHT  COLON  DOM
        K DOT set_floatx PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def LSTM_multi PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def LSTM_multi_big PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  64 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def LSTM_multi_bn PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def LSTM_multi_16bit PARELEFT  PARERIGHT  COLON  DOM
        K DOT set_floatx PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def LSTM_multi_selu PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def LSTM_multi_selu_16bit PARELEFT  PARERIGHT  COLON  DOM
        K DOT set_floatx PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        init  EQUAL  keras DOT initializers DOT lecun_uniform PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def GRU_multi PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def GRU_multi_big PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def GRU_multi_16bit PARELEFT  PARERIGHT  COLON  DOM
        K DOT set_floatx PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def FC_4layer_16bit PARELEFT  PARERIGHT  COLON  DOM
        K DOT set_floatx PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  5 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def FC_4layer PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  5 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def FC_4layer_big PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 128 COMMA  activation EQUAL ELU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def FC_16bit PARELEFT  PARERIGHT  COLON  DOM
        k DOT set_floatx PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        init  EQUAL  keras DOT initializers DOT lecun_uniform PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
def FC PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        init  EQUAL  keras DOT initializers DOT lecun_uniform PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT alphabet_size COMMA  32 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
from __future__ import print_function DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT models import model_from_json DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT callbacks import EarlyStopping DOM
import keras DOT backend as K DOM
from keras DOT utils import plot_model DOM
import input_data DOM
import build_model DOM
from LSTM_config import * DOM
def rmse PARELEFT  PARERIGHT  COLON  DOM
    return K DOT sqrt PARELEFT K DOT mean PARELEFT K DOT square PARELEFT  PARERIGHT  COMMA  axis EQUAL -1 PARERIGHT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
train COMMA  validation COMMA  test  EQUAL  input_data DOT read_data_sets PARELEFT  PARERIGHT  DOM
flow_train  EQUAL  train DOT flow DOM
labels_train  EQUAL  train DOT labels DOM
flow_test  EQUAL  test DOT flow DOM
labels_test  EQUAL  test DOT labels DOM
flow_validation  EQUAL  validation DOT flow DOM
labels_validation  EQUAL  validation DOT labels DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA output_dim EQUAL 64 COMMA eturn_sequences EQUAL True COMMA   PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpoint_callbacks  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
checkpoint_callbacks_list  EQUAL  [] DOM
tensorboard_callbacks  EQUAL  TensorBoard PARELEFT  PARERIGHT  DOM
tensorboard_callbacks_list  EQUAL  [] DOM
print PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT flow_train COMMA labels_train COMMA epochs EQUAL EPOCHS COMMA batch_size EQUAL BATCH_SIZE COMMA verbose EQUAL 1 COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from keras DOT layers import Embedding COMMA  Dense COMMA  Activation COMMA  Input COMMA  LSTM COMMA  Dropout COMMA  Bidirectional COMMA  Merge DOM
from keras DOT optimizers import SGD COMMA  Adam COMMA  Adadelta DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT preprocessing DOT text import Tokenizer COMMA  text_to_word_sequence DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
import gensim DOM
word2vec  EQUAL  gensim DOT models DOT Word2Vec DOT load PARELEFT  PARERIGHT  DOM
max_len  EQUAL  40  DOM
labels  EQUAL  [] DOM
trainLabeled  EQUAL  [] DOM
trainUnlabeled  EQUAL  [] DOM
tests  EQUAL  [] DOM
labeled_data_path  EQUAL   QUOTMARK  DOM
text  EQUAL  open PARELEFT  PARERIGHT  DOM
rows  EQUAL  text DOT readlines PARELEFT  PARERIGHT  DOM
lens  EQUAL  [] DOM
for row in rows COLON  DOM
    labels DOT append PARELEFT int PARELEFT  PARERIGHT  PARERIGHT  DOM
    trainLabeled DOT append PARELEFT  PARERIGHT  DOM
    trainLabeled[]  EQUAL  text_to_word_sequence PARELEFT  PARERIGHT  DOM
    lens DOT append PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    for idx in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        trainLabeled[][]  EQUAL  word2vec[][]] DOM
print PARELEFT  QUOTMARK  COMMA  max PARELEFT  PARERIGHT  COMMA  np DOT mean PARELEFT  PARERIGHT  PARERIGHT  DOM
lens  EQUAL  [] DOM
unlabeled_data_path  EQUAL   QUOTMARK  DOM
text  EQUAL  open PARELEFT  PARERIGHT  DOM
rows  EQUAL  text DOT readlines PARELEFT  PARERIGHT  DOM
for row in rows COLON  DOM
    trainUnlabeled DOT append PARELEFT  PARERIGHT  DOM
    trainUnlabeled[]  EQUAL  text_to_word_sequence PARELEFT  PARERIGHT  DOM
    lens DOT append PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  max PARELEFT  PARERIGHT  COMMA  np DOT mean PARELEFT  PARERIGHT  PARERIGHT  DOM
lens  EQUAL  [] DOM
test_data_path  EQUAL   QUOTMARK  DOM
text  EQUAL  open PARELEFT  PARERIGHT  DOM
rows  EQUAL  text DOT readlines PARELEFT  PARERIGHT  DOM
for i COMMA row in enumerate PARELEFT  PARERIGHT  COLON  DOM
    if i  EQUAL  EQUAL  0 COLON  DOM
        continue DOM
    for pivot in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        if row[]  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            tests DOT append PARELEFT  PARERIGHT  DOM
            tests[]  EQUAL  text_to_word_sequence PARELEFT  PARERIGHT  DOM
            break DOM
    lens DOT append PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  max PARELEFT  PARERIGHT  COMMA  np DOT mean PARELEFT  PARERIGHT  PARERIGHT  DOM
trainLabeled  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
labels  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
labels  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
deepLSTM  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
deepLSTM DOT add PARELEFT LSTM PARELEFT 160 COMMA  dropout EQUAL 0 DOT 45 COMMA  recurrent_dropout EQUAL 0 DOT 2 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
deepLSTM DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
deepLSTM DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
deepLSTM_b  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
deepLSTM_b DOT add PARELEFT LSTM PARELEFT 160 COMMA  dropout EQUAL 0 DOT 45 COMMA  recurrent_dropout EQUAL 0 DOT 2 COMMA  return_sequences EQUAL True COMMA  go_backwards EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
deepLSTM_b DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
deepLSTM_b DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT  Merge PARELEFT  PARERIGHT   PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
opt  EQUAL  Adam PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
filepath EQUAL  QUOTMARK  DOM
checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
callbacks_list  EQUAL  [] DOM
train_history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
loss  EQUAL  train_history DOT history[] DOM
val_loss  EQUAL  train_history DOT history[] DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT savefig PARELEFT  PARERIGHT  DOM
plt DOT show PARELEFT  PARERIGHT  DOM
import numpy as np DOM
import keras DOM
from keras DOT models import Sequential COMMA  Graph DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT convolutional import Convolution1D COMMA  MaxPooling1D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT utils import np_utils COMMA  generic_utils DOM
import data_helpers DOM
from w2v import train_word2vec DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
cnn_train COMMA lstm_train COMMA Y_train COMMA cnn_vocabulary COMMA cnn_vocabulary_inv COMMA lstm_vocabulary COMMA lstm_vocabulary_inv  EQUAL  data_helpers DOT load_data PARELEFT  PARERIGHT  DOM
cnn_embedding_weights COMMA lstm_embedding_weights  EQUAL  train_word2vec PARELEFT  PARERIGHT  DOM
shuffle_indices  EQUAL  np DOT random DOT permutation PARELEFT np DOT arange PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
cnn_shuffled  EQUAL  cnn_train[] DOM
lstm_shuffled  EQUAL  lstm_train[] DOM
Y_train  EQUAL  Y_train[] DOM
filter_sizes  EQUAL   PARELEFT  PARERIGHT  DOM
num_filters  EQUAL  150 DOM
hidden_dims  EQUAL  150 DOM
cnn_graph  EQUAL  Graph PARELEFT  PARERIGHT  DOM
cnn_graph DOT add_input PARELEFT name EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
for fsz in filter_sizes COLON  DOM
	conv  EQUAL  Convolution1D PARELEFT  PARERIGHT  DOM
	pool  EQUAL  MaxPooling1D PARELEFT  PARERIGHT  DOM
	cnn_graph DOT add_node PARELEFT  PARERIGHT  DOM
	cnn_graph DOT add_node PARELEFT  PARERIGHT  DOM
	cnn_graph DOT add_node PARELEFT Flatten PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  % fsz COMMA  input EQUAL  QUOTMARK  % fsz PARERIGHT  DOM
if len PARELEFT  PARERIGHT >1 COLON  DOM
	cnn_graph DOT add_output PARELEFT  PARERIGHT  DOM
else COLON   DOM
	cnn_graph DOT add_output PARELEFT  PARERIGHT  DOM
cnn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
cnn DOT add PARELEFT Embedding PARELEFT len PARELEFT  PARERIGHT  COMMA  300 COMMA  input_length EQUAL 32 COMMA weights EQUAL cnn_embedding_weights PARERIGHT  PARERIGHT  DOM
cnn DOT add PARELEFT Dropout PARELEFT 0 DOT 25 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
cnn DOT add PARELEFT  PARERIGHT  DOM
lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm DOT add PARELEFT Embedding PARELEFT len PARELEFT  PARERIGHT  COMMA  300 COMMA  input_length EQUAL 667 COMMA weights EQUAL lstm_embedding_weights PARERIGHT  PARERIGHT  DOM
lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT keras DOT layers DOT core DOT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
import pandas as pd DOM
import numpy as np DOM
import keras DOM
from tqdm import tqdm DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Merge DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT utils import np_utils DOM
from keras DOT layers import TimeDistributed COMMA  Lambda DOM
from keras DOT layers import Convolution1D COMMA  GlobalMaxPooling1D DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras import backend as K DOM
from keras DOT layers DOT advanced_activations import PReLU DOM
import pickle DOM
from sklearn import metrics DOM
from sklearn DOT model_selection import train_test_split DOM
from keras DOT layers import Layer DOM
from keras DOT models import Model DOM
from keras DOT layers DOT core import  Lambda COMMA Dropout COMMA Dense COMMA  Flatten COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT recurrent import GRU COMMA LSTM DOM
from keras DOT layers DOT pooling import MaxPooling2D DOM
from keras DOT layers import Concatenate COMMA  Input COMMA  concatenate COMMA dot DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras import initializers as initializations DOM
from keras import regularizers DOM
from keras import constraints DOM
from keras import backend as K DOM
from keras DOT callbacks import EarlyStopping COMMA  ModelCheckpoint DOM
import sys DOM
reload PARELEFT  PARERIGHT  DOM
sys DOT setdefaultencoding PARELEFT  PARERIGHT  DOM
class AttentionWithContext PARELEFT  PARERIGHT  COLON  DOM
                 W_regularizer EQUAL None COMMA  u_regularizer EQUAL None COMMA  b_regularizer EQUAL None COMMA  DOM
                 W_constraint EQUAL None COMMA  u_constraint EQUAL None COMMA  b_constraint EQUAL None COMMA  DOM
                 bias EQUAL True COMMA  **kwargs PARERIGHT  COLON lf DOT supports_masking  EQUAL  Truelf DOT init  EQUAL  initializations DOT get PARELEFT  PARERIGHT lf DOT W_regularizer  EQUAL  regularizers DOT get PARELEFT  PARERIGHT lf DOT u_regularizer  EQUAL  regularizers DOT get PARELEFT  PARERIGHT lf DOT b_regularizer  EQUAL  regularizers DOT get PARELEFT  PARERIGHT lf DOT W_constraint  EQUAL  constraints DOT get PARELEFT  PARERIGHT lf DOT u_constraint  EQUAL  constraints DOT get PARELEFT  PARERIGHT lf DOT b_constraint  EQUAL  constraints DOT get PARELEFT  PARERIGHT lf DOT bias  EQUAL  biasuper PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT f build PARELEFT  PARERIGHT  COLON ert len PARELEFT  PARERIGHT   EQUAL  EQUAL  3f DOT W  EQUAL  self DOT add_weight PARELEFT  PARELEFT  PARERIGHT  COMMA  DOM
                                 initializer EQUAL self DOT init COMMA  DOM
                                 name EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  DOM
                                 regularizer EQUAL self DOT W_regularizer COMMA  DOM
                                 constraint EQUAL self DOT W_constraint PARERIGHT f self DOT bias COLON lf DOT b  EQUAL  self DOT add_weight PARELEFT  PARELEFT  PARERIGHT  COMMA  DOM
                                     initializer EQUAL  QUOTMARK  COMMA  DOM
                                     name EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  DOM
                                     regularizer EQUAL self DOT b_regularizer COMMA  DOM
                                     constraint EQUAL self DOT b_constraint PARERIGHT lf DOT u  EQUAL  self DOT add_weight PARELEFT  PARELEFT  PARERIGHT  COMMA  DOM
                                 initializer EQUAL self DOT init COMMA  DOM
                                 name EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  DOM
                                 regularizer EQUAL self DOT u_regularizer COMMA  DOM
import re DOM
import numpy as np DOM
import pandas as pd DOM
import csv DOM
import matplotlib DOT pyplot as plt DOM
import itertools DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA LSTM COMMA Embedding DOM
from keras DOT optimizers import Adam DOM
from keras DOT layers import SpatialDropout1D COMMA Dropout COMMA Conv1D COMMA GlobalMaxPooling1D COMMA MaxPooling1D DOM
from keras DOT callbacks import ModelCheckpoint COMMA  TensorBoard COMMA  Callback COMMA  EarlyStopping DOM
from keras DOT metrics import categorical_accuracy DOM
from keras DOT utils import np_utils DOM
from sklearn DOT model_selection import train_test_split DOM
from sklearn DOT metrics import confusion_matrix COMMA  f1_score COMMA  precision_score COMMA  recall_score DOM
from sklearn DOT metrics import classification_report COMMA  accuracy_score DOM
from sklearn DOT preprocessing import LabelEncoder DOM
seed EQUAL np DOT random DOT seed PARELEFT  PARERIGHT  DOM
phrase EQUAL [] DOM
labels EQUAL [] DOM
train EQUAL pd DOT DataFrame DOT from_csv PARELEFT  PARERIGHT  DOM
def clean_text PARELEFT  PARERIGHT  COLON  DOM
    words  EQUAL   PARELEFT re DOT sub PARELEFT  PARERIGHT  PARERIGHT  DOT lower PARELEFT  PARERIGHT  DOM
    words  EQUAL  words DOT split PARELEFT  PARERIGHT  DOM
    wordList  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOT split PARELEFT  PARERIGHT  DOM
    words  EQUAL  [] DOM
    words  EQUAL  [] DOM
	words EQUAL words DOT split PARELEFT  PARERIGHT  DOM
	words EQUAL   QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
	stemmer  EQUAL  SnowballStemmer PARELEFT  PARERIGHT  DOM
    stemmed_words  EQUAL  [] DOM
    text  EQUAL   QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
    return text DOM
train[]  EQUAL  train[] DOT map PARELEFT lambda x COLON  clean_text PARELEFT  PARERIGHT  PARERIGHT  DOM
y  EQUAL  train[] DOM
le  EQUAL  LabelEncoder PARELEFT  PARERIGHT  DOM
encoded_labels  EQUAL  le DOT fit_transform PARELEFT  PARERIGHT  DOM
y EQUAL encoded_labels DOM
X_train  COMMA  X_test  COMMA  Y_train  COMMA  Y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
print PARELEFT X_train DOT head PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT len PARELEFT np DOT unique PARELEFT np DOT hstack PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
length  EQUAL  [] DOM
for x in X_train COLON  DOM
    length DOT append PARELEFT len PARELEFT x DOT split PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT max PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
max_features  EQUAL  10000 DOM
max_words  EQUAL  700 DOM
batch_size  EQUAL  32 DOM
epochs  EQUAL  3 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT list PARELEFT  PARERIGHT  PARERIGHT  DOM
X_train  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
model_CNN EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_CNN DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model_CNN DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_CNN DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model_CNN DOT add PARELEFT GlobalMaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model_CNN DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_CNN DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_CNN DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_CNN DOT compile PARELEFT  PARERIGHT  DOM
model_CNN DOT summary PARELEFT  PARERIGHT  DOM
history EQUAL model_CNN DOT fit PARELEFT X_train COMMA  Y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA epochs EQUAL epochs COMMA  batch_size EQUAL batch_size COMMA  verbose EQUAL 1 PARERIGHT  DOM
model_LSTM  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT compile PARELEFT  PARERIGHT  DOM
model_LSTM DOT summary PARELEFT  PARERIGHT  DOM
history EQUAL model_LSTM DOT fit PARELEFT X_train COMMA  Y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA epochs EQUAL epochs COMMA  batch_size EQUAL batch_size COMMA  verbose EQUAL 1 PARERIGHT  DOM
model_LSTM  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model_LSTM DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
history  EQUAL  model_LSTM DOT fit PARELEFT X_train COMMA  Y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  epochs EQUAL epochs COMMA  batch_size EQUAL batch_size COMMA verbose EQUAL 1 PARERIGHT  DOM
embeddings_index  EQUAL  dict PARELEFT  PARERIGHT  DOM
f  EQUAL  open PARELEFT  PARERIGHT  DOM
for line in f COLON  DOM
     values  EQUAL  line DOT split PARELEFT  PARERIGHT  DOM
     word  EQUAL  values[] DOM
     coefs  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
     embeddings_index[]  EQUAL  coefs DOM
f DOT close PARELEFT  PARERIGHT  DOM
embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
for word COMMA  index in tokenizer DOT word_index DOT items PARELEFT  PARERIGHT  COLON  DOM
    if index > max_features - 1 COLON  DOM
         break DOM
	else COLON  DOM
         embedding_vector  EQUAL  embeddings_index DOT get PARELEFT  PARERIGHT  DOM
         if embedding_vector is not None COLON  DOM
             embedding_matrix[]  EQUAL  embedding_vector DOM
model_glove  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_glove DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model_glove DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_glove DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model_glove DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model_glove DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_glove DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_glove DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model_glove DOT fit PARELEFT X_train COMMA  Y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  epochs EQUAL 3 COMMA  batch_size EQUAL batch_size COMMA verbose EQUAL 1 PARERIGHT  DOM
def plot_confusion_matrix PARELEFT  PARERIGHT  COLON  DOM
        cm  EQUAL  cm DOT astype PARELEFT  PARERIGHT  / cm DOT sum PARELEFT  PARERIGHT [] DOM
        title  EQUAL   QUOTMARK  DOM
    else COLON  DOM
        title  EQUAL   QUOTMARK  DOM
    plt DOT imshow PARELEFT  PARERIGHT  DOM
    plt DOT title PARELEFT  PARERIGHT  DOM
    plt DOT colorbar PARELEFT  PARERIGHT  DOM
    tick_marks  EQUAL  np DOT arange PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    plt DOT xticks PARELEFT  PARERIGHT  DOM
    plt DOT yticks PARELEFT  PARERIGHT  DOM
    fmt  EQUAL   QUOTMARK  if normalize else  QUOTMARK  DOM
    thresh  EQUAL  cm DOT max PARELEFT  PARERIGHT  / 2 DOT  DOM
    for i COMMA  j in itertools DOT product PARELEFT range PARELEFT  PARERIGHT  COMMA  range PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        plt DOT text PARELEFT j COMMA  i COMMA  format PARELEFT  PARERIGHT  COMMA horizontalalignment EQUAL  QUOTMARK  COMMA white QUOTMARK black" PARERIGHT  DOM
    plt DOT tight_layout PARELEFT  PARERIGHT  DOM
    plt DOT ylabel PARELEFT  PARERIGHT  DOM
    plt DOT xlabel PARELEFT  PARERIGHT  DOM
    plt DOT show PARELEFT  PARERIGHT  DOM
def full_multiclass_report PARELEFT  PARERIGHT  COLON  DOM
    if not binary COLON  DOM
        y_true  EQUAL  np DOT argmax PARELEFT  PARERIGHT  DOM
    y_pred  EQUAL  model DOT predict_classes PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  + str PARELEFT accuracy_score PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT classification_report PARELEFT  PARERIGHT  PARERIGHT  DOM
    cnf_matrix  EQUAL  confusion_matrix PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    plot_confusion_matrix PARELEFT  PARERIGHT  DOM
fig1  EQUAL  plt DOT figure PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  PARERIGHT  DOM
fig1 DOT savefig PARELEFT  PARERIGHT  DOM
plt DOT show PARELEFT  PARERIGHT  DOM
fig2 EQUAL plt DOT figure PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  PARERIGHT  DOM
fig2 DOT savefig PARELEFT  PARERIGHT  DOM
plt DOT show PARELEFT  PARERIGHT  DOM
le  EQUAL  LabelEncoder PARELEFT  PARERIGHT  DOM
encoded_labels  EQUAL  le DOT fit_transform PARELEFT  PARERIGHT  DOM
full_multiclass_report PARELEFT model3_LSTM COMMA X_test COMMA Y_test COMMA le DOT inverse_transform PARELEFT np DOT arange PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
scores  EQUAL  model_LSTM DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT import os DOM
import json DOM
import numpy as np DOM
import pandas as pd DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT models import Model DOM
from keras DOT layers import  PARELEFT  PARERIGHT  DOM
class MusicModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT n_vocab  EQUAL  n_vocab DOM
        pass DOM
    def OneLayerLSTM PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT   DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        return self DOT model DOM
    def TwoLayerLSTM PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOM
    def LayersRNNGeneric PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT [] PARERIGHT  DOM
        for idx COMMA  layer in enumerate PARELEFT  PARERIGHT  COLON  DOM
            if layer is  QUOTMARK  COLON  DOM
                self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif layer is  QUOTMARK  COLON  DOM
                self DOT model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif layer is  QUOTMARK  COLON  DOM
                self DOT model DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
            else COLON  DOM
                raise ValueError  PARELEFT  PARERIGHT  DOM
            self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        return self DOT model DOM
    def LSTMSkipConnection PARELEFT  PARERIGHT  COLON  DOM
        embedded  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        drop  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_layer1  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_layer2  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        layer_output  EQUAL  [] DOM
        prev_out  EQUAL  drop DOM
        for idx COMMA  layer in enumerate PARELEFT  PARERIGHT  COLON   DOM
            out  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
            layer_output DOT append PARELEFT  PARERIGHT  DOM
            prev_out  EQUAL  out DOM
        seq_concat  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
        output_layer  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
    def OneLayerGru PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT [] PARERIGHT  DOM
        return self DOT model DOM
    def OneLayerRNN PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT [] PARERIGHT  DOM
        return self DOT model DOM
        from __future__ import print_function DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D DOM
from keras DOT datasets import imdb DOM
top_words  EQUAL  20000 DOM
maxlen  EQUAL  100 DOM
embedding_size  EQUAL  128 DOM
kernel_size  EQUAL  5 DOM
filters  EQUAL  64 DOM
pool_size  EQUAL  4 DOM
lstm_output_size  EQUAL  70 DOM
batch_size  EQUAL  30 DOM
epochs  EQUAL  2 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  PARERIGHT  DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  DOM
import keras DOT backend as k DOM
from keras import layers DOM
from keras DOT layers import Input COMMA  Dense COMMA  Reshape COMMA  Flatten COMMA  Embedding COMMA  Dropout COMMA  LSTM DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
from keras DOT layers DOT convolutional import UpSampling2D COMMA  Conv2D DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT optimizers import Adam DOM
from keras DOT utils DOT generic_utils import Progbar  DOM
import numpy as np DOM
import pickle DOM
import datetime DOM
from ml DOT public import * DOM
def ann_build_generator PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  return model DOM
def ann_train_test PARELEFT  PARERIGHT  COLON  DOM
  st  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  model  EQUAL  ann_build_generator PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT fit PARELEFT  PARERIGHT  DOM
  with open PARELEFT  PARERIGHT  as handle COLON  DOM
    pickle DOT dump PARELEFT  PARERIGHT  DOM
  Y_pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  tp COMMA  tn COMMA  fp COMMA  fn  EQUAL  pred_test_lstm PARELEFT  PARERIGHT  DOM
  ed  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
  print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
  return  QUOTMARK  + gen_result_line PARELEFT  PARERIGHT  DOM
def dnn_build_generator PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  return model DOM
def dnn_train_test PARELEFT  PARERIGHT  COLON  DOM
  st  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  model  EQUAL  dnn_build_generator PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT fit PARELEFT  PARERIGHT  DOM
  with open PARELEFT  PARERIGHT  as handle COLON  DOM
    pickle DOT dump PARELEFT  PARERIGHT  DOM
  Y_pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  tp COMMA  tn COMMA  fp COMMA  fn  EQUAL  pred_test_lstm PARELEFT  PARERIGHT  DOM
  ed  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
  print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
  return  QUOTMARK  + gen_result_line PARELEFT  PARERIGHT  DOM
def lstm_build_generator PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  return model DOM
def lstm_build_generator2 PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  return model DOM
def lstm_data_gen PARELEFT  PARERIGHT  COLON  DOM
  n_X_train  EQUAL  [] DOM
  cur_X_train  EQUAL  [] DOM
  n_Y_train  EQUAL  [] DOM
  cur_Y_train  EQUAL  [] DOM
  for i in range PARELEFT cnt COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
    n_X_train DOT append PARELEFT  PARERIGHT  DOM
    n_Y_train DOT append PARELEFT  PARERIGHT  DOM
  return np DOT array PARELEFT  PARERIGHT  COMMA  np DOT array PARELEFT  PARERIGHT  DOM
def lstm_train_test PARELEFT  PARERIGHT  COLON  DOM
  st  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  model  EQUAL  lstm_build_generator PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
  n_X_train COMMA  n_Y_train  EQUAL  lstm_data_gen PARELEFT  PARERIGHT  DOM
  model DOT fit PARELEFT  PARERIGHT  DOM
  n_X_test COMMA  n_Y_test  EQUAL  lstm_data_gen PARELEFT  PARERIGHT  DOM
  Y_pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  tp COMMA  tn COMMA  fp COMMA  fn  EQUAL  pred_test_lstm PARELEFT  PARERIGHT  DOM
  return  QUOTMARK  + gen_result_line PARELEFT  PARERIGHT import sys DOM
import logging DOM
import re DOM
import os DOM
import dill DOM
import inspect DOM
import itertools DOM
from collections import OrderedDict DOM
import numpy as np DOM
from gensim DOT models DOT doc2vec import TaggedDocument DOM
from gensim DOT models import Doc2Vec COMMA  Word2Vec DOM
import fasttext DOM
import keras DOM
import keras DOT preprocessing DOM
import keras DOT preprocessing DOT text DOM
import keras DOT preprocessing DOT sequence DOM
from keras DOT utils DOT generic_utils import Progbar DOM
from datasets import TweetSentiment COMMA  Tweet DOM
_thismodule  EQUAL  sys DOT modules[] DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
import encoder as unsupervised_sentiment_neuron_encoder DOM
sys DOT path DOT pop PARELEFT  PARERIGHT  DOM
def grouper PARELEFT  PARERIGHT  COLON  DOM
     QUOTMARK  DOM
    args  EQUAL  [] * n DOM
    return itertools DOT zip_longest PARELEFT  PARERIGHT  DOM
def find_model_class_by_name PARELEFT  PARERIGHT  COLON  DOM
    model_class  EQUAL  None DOM
    for name COMMA  obj in inspect DOT getmembers PARELEFT  PARERIGHT  COLON  DOM
        if inspect DOT isclass PARELEFT  PARERIGHT  and name  EQUAL  EQUAL  model_class_name or getattr PARELEFT  PARERIGHT   EQUAL  EQUAL  model_class_name COLON  DOM
            model_class  EQUAL  obj DOM
    if model_class is None COLON  DOM
        raise Exception PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model_class DOM
class TweetToFeaturesModel PARELEFT  PARERIGHT  COLON  DOM
    @staticmethod DOM
    def _check_features_range PARELEFT  PARERIGHT  COLON  DOM
        if not all PARELEFT  PARERIGHT  COLON  DOM
            logging DOT warning PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    @classmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        raise NotImplementedError PARELEFT  PARERIGHT  DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        raise NotImplementedError PARELEFT  PARERIGHT  DOM
    def get_features PARELEFT  PARERIGHT  COLON  DOM
        raise NotImplementedError PARELEFT  PARERIGHT  DOM
    def get_features_shape PARELEFT  PARERIGHT  COLON  DOM
        raise NotImplementedError PARELEFT  PARERIGHT  DOM
    def batch_get_features PARELEFT  PARERIGHT  COLON  DOM
        if verbose COLON  DOM
            progress  EQUAL  Progbar PARELEFT target EQUAL len PARELEFT  PARERIGHT  PARERIGHT  DOM
        X  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  PARERIGHT  + self DOT get_features_shape PARELEFT  PARERIGHT  COMMA  dtype EQUAL np DOT float32 PARERIGHT  DOM
        for i COMMA  tweet in enumerate PARELEFT  PARERIGHT  COLON  DOM
            X[]  EQUAL  self DOT get_features PARELEFT  PARERIGHT  DOM
            if verbose COLON  DOM
                progress DOT update PARELEFT  PARERIGHT  DOM
        return X DOM
class FasttextEmbedding PARELEFT  PARERIGHT  COLON  DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        instance  EQUAL  cls PARELEFT  PARERIGHT  DOM
        instance DOT model  EQUAL  fasttext DOT load_model PARELEFT  PARERIGHT  DOM
        return instance DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        assert NotImplementedError PARELEFT  PARERIGHT  DOM
    def get_features_number PARELEFT  PARERIGHT  COLON  DOM
class FasttextDocumentEmbedding PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def get_features PARELEFT  PARERIGHT  COLON  DOM
        features  EQUAL  self DOT model[] DOM
        self DOT _check_features_range PARELEFT  PARERIGHT  DOM
        return features DOM
    def get_features_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT self DOT get_features_number PARELEFT  PARERIGHT  COMMA   PARERIGHT  DOM
class FasttextWordEmbedding PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT max_words  EQUAL  max_words DOM
    def get_features PARELEFT  PARERIGHT  COLON  DOM
        features  EQUAL  np DOT zeros PARELEFT  PARELEFT self DOT get_max_words PARELEFT  PARERIGHT  COMMA  self DOT get_features_number PARELEFT  PARERIGHT  PARERIGHT  COMMA  dtype EQUAL np DOT float32 PARERIGHT  DOM
        for i COMMA  word in enumerate PARELEFT tweet DOT get_words PARELEFT  PARERIGHT [] PARERIGHT  COLON  DOM
            features[]  EQUAL  self DOT model[] DOM
        return features DOM
    def get_max_words PARELEFT  PARERIGHT  COLON  DOM
        return self DOT max_words DOM
    def get_features_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT self DOT max_words COMMA  self DOT get_features_number PARELEFT  PARERIGHT  PARERIGHT  DOM
class TweetSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    @staticmethod DOM
    def _make_dirs_for_files PARELEFT  PARERIGHT  COLON  DOM
        dirname  EQUAL  os DOT path DOT dirname PARELEFT  PARERIGHT  DOM
        if dirname COLON  DOM
            os DOT makedirs PARELEFT  PARERIGHT  DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        self DOT _make_dirs_for_files PARELEFT  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            dill DOT dump PARELEFT  PARERIGHT  DOM
    @classmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            instance  EQUAL  dill DOT load PARELEFT  PARERIGHT  DOM
            assert isinstance PARELEFT  PARERIGHT  DOM
            return instance DOM
    def predict_sentiment_real PARELEFT  PARERIGHT  COLON  DOM
        raise NotImplementedError PARELEFT  PARERIGHT  DOM
    def predict_sentiment_enum PARELEFT  PARERIGHT  COLON  DOM
        real_value_of_sentiment  EQUAL  self DOT predict_sentiment_real PARELEFT  PARERIGHT  DOM
        return TweetSentiment DOT from_real_value PARELEFT  PARERIGHT  DOM
    def is_positive PARELEFT  PARERIGHT  COLON  DOM
        return self DOT get_sentiment PARELEFT  PARERIGHT  > self DOT NEUTRAL_THRESHOLD DOM
    def is_negative PARELEFT  PARERIGHT  COLON  DOM
        return self DOT get_sentiment PARELEFT  PARERIGHT  < -self DOT NEUTRAL_THRESHOLD DOM
    def is_neutral PARELEFT  PARERIGHT  COLON  DOM
        return not self DOT is_positive PARELEFT  PARERIGHT  and not self DOT is_negative PARELEFT  PARERIGHT  DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        raise NotImplementedError PARELEFT  PARERIGHT  DOM
    def test PARELEFT  PARERIGHT  COLON  DOM
        total  EQUAL  0 DOM
        for tweet in tweets COLON  DOM
            assert tweet DOT polarity is not None DOM
            if tweet DOT is_neutral PARELEFT  PARERIGHT  and without_neutral COLON  DOM
                continue DOM
            if tweet DOT polarity  EQUAL  EQUAL  self DOT predict_sentiment_enum PARELEFT  PARERIGHT  COLON  DOM
                correct + EQUAL  1 DOM
            total + EQUAL  1 DOM
        print PARELEFT  PARERIGHT  DOM
        return correct / total DOM
class FeaturesToSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT tweet_to_features  EQUAL  tweet_to_features DOM
        self DOT features_to_sentiment  EQUAL  features_to_sentiment DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        self DOT _make_dirs_for_files PARELEFT  PARERIGHT  DOM
        self DOT save_features_to_sentiment PARELEFT  PARERIGHT  DOM
    @classmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        instance  EQUAL  cls PARELEFT  PARERIGHT  DOM
        instance DOT load_features_to_sentiment PARELEFT  PARERIGHT  DOM
        return instance DOM
class KerasFeaturesToSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        FeaturesToSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT num_epochs  EQUAL  num_epochs DOM
        self DOT batch_size  EQUAL  batch_size DOM
        self DOT dropout  EQUAL  dropout DOM
        self DOT recurrent_dropout  EQUAL  recurrent_dropout DOM
    def save_features_to_sentiment PARELEFT  PARERIGHT  COLON  DOM
        self DOT features_to_sentiment DOT save PARELEFT  PARERIGHT  DOM
    def load_features_to_sentiment PARELEFT  PARERIGHT  COLON  DOM
        self DOT features_to_sentiment  EQUAL  keras DOT models DOT load_model PARELEFT  PARERIGHT  DOM
    def predict_sentiment_real PARELEFT  PARERIGHT  COLON  DOM
        if isinstance PARELEFT  PARERIGHT  COLON  DOM
            tweets  EQUAL  [] DOM
            single_instance  EQUAL  True DOM
        else COLON  DOM
            single_instance  EQUAL  False DOM
        X  EQUAL  self DOT tweet_to_features DOT batch_get_features PARELEFT  PARERIGHT  DOM
        ys  EQUAL  self DOT features_to_sentiment DOT predict PARELEFT  PARERIGHT  DOM
        if single_instance COLON  DOM
            return 2 * ys[][] - 1 DOM
        else COLON  DOM
            return [] - 1 for y in ys] DOM
    def _features_generator PARELEFT  PARERIGHT  COLON  DOM
        for chunk in grouper PARELEFT itertools DOT cycle PARELEFT  PARERIGHT  COMMA  self DOT batch_size PARERIGHT  COLON  DOM
            X  EQUAL  self DOT tweet_to_features DOT batch_get_features PARELEFT  PARERIGHT  DOM
            y  EQUAL  [] DOM
            yield X COMMA  y DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        self DOT features_to_sentiment DOT fit_generator PARELEFT self DOT _features_generator PARELEFT  PARERIGHT  COMMA s_per_epoch EQUAL  PARELEFT len PARELEFT  PARERIGHT  // self DOT batch_size PARERIGHT  - 1 COMMA epochs EQUAL self DOT num_epochs COMMA verbose EQUAL 1 PARERIGHT  DOM
class KerasLSTMFeaturesToSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        KerasFeaturesToSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        assert len PARELEFT tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT   EQUAL  EQUAL  2 COMMA   QUOTMARK t 2d" DOT format PARELEFT tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT  > 1 COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT lstm_layer_sizes[] COMMA return_sequences EQUAL True COMMA dropout EQUAL self DOT dropout COMMA recurrent_dropout EQUAL self DOT recurrent_dropout COMMA input_shape EQUAL tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            for size in lstm_layer_sizes[] COLON  DOM
                model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT lstm_layer_sizes[] COMMA  dropout EQUAL self DOT dropout COMMA  recurrent_dropout EQUAL self DOT recurrent_dropout COMMA input_shape EQUAL tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
class KerasGRUFeaturesToSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        KerasFeaturesToSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        assert len PARELEFT tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT   EQUAL  EQUAL  2 COMMA   QUOTMARK t 2d" DOT format PARELEFT tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT  > 1 COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT gru_layer_sizes[] COMMA return_sequences EQUAL True COMMA dropout EQUAL self DOT dropout COMMA recurrent_dropout EQUAL self DOT recurrent_dropout COMMA input_shape EQUAL tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            for size in gru_layer_sizes[] COLON  DOM
                model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT gru_layer_sizes[] COMMA  dropout EQUAL self DOT dropout COMMA  recurrent_dropout EQUAL self DOT recurrent_dropout COMMA input_shape EQUAL tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
class KerasCNNFeaturesToSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        KerasFeaturesToSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Convolution1D PARELEFT conv_layer_sizes[] COMMA  3 COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        for size in conv_layer_sizes[] COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
class KerasCLSTMFeaturesToSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        KerasFeaturesToSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Convolution1D PARELEFT conv_layer_size COMMA 5 COMMA padding EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA strides EQUAL 1 COMMA input_shape EQUAL tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
class KerasDenseFeaturesToSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        KerasFeaturesToSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        assert len PARELEFT tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT   EQUAL  EQUAL  1 COMMA   QUOTMARK t 1d" DOT format PARELEFT tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  DOM
        if hidden_dense_layer_sizes COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT hidden_dense_layer_sizes[] COMMA  input_shape EQUAL tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            for size in hidden_dense_layer_sizes[] COLON  DOM
                model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL tweet_to_features DOT get_features_shape PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
class KerasTweetSentimentModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        TweetSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT tokenizer  EQUAL  keras DOT preprocessing DOT text DOT Tokenizer PARELEFT  PARERIGHT  DOM
        self DOT max_words  EQUAL  max_words DOM
        self DOT max_tweet_length  EQUAL  max_tweet_length DOM
        self DOT embedding_vector_length  EQUAL  embedding_vector_length DOM
        self DOT num_epochs  EQUAL  num_epochs DOM
        self DOT batch_size  EQUAL  batch_size DOM
        self DOT dropout  EQUAL  dropout DOM
        self DOT recurrent_dropout  EQUAL  recurrent_dropout DOM
        self DOT model  EQUAL  model DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        self DOT _make_dirs_for_files PARELEFT  PARERIGHT  DOM
        tokenizer_filename  EQUAL  file_prefix +  QUOTMARK  DOM
        model_params_filename  EQUAL  file_prefix +  QUOTMARK  DOM
        keras_model_file_name  EQUAL  file_prefix +  QUOTMARK  DOM
        with open PARELEFT  PARERIGHT  as tf COLON  DOM
            dill DOT dump PARELEFT  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as mpf COLON  DOM
            dill DOT dump PARELEFT  PARERIGHT  DOM
        self DOT model DOT save PARELEFT  PARERIGHT  DOM
    @classmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        tokenizer_filename  EQUAL  file_prefix +  QUOTMARK  DOM
        model_params_filename  EQUAL  file_prefix +  QUOTMARK  DOM
        keras_model_file_name  EQUAL  file_prefix +  QUOTMARK  DOM
        instance  EQUAL  cls PARELEFT  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as tf COLON  DOM
            instance DOT tokenizer  EQUAL  dill DOT load PARELEFT  PARERIGHT  DOM
        with open PARELEFT  PARERIGHT  as mpf COLON  DOM
            instance DOT max_words COMMA  instance DOT max_tweet_length COMMA  instance DOT embedding_vector_length COMMA  instance DOT num_epochs COMMA  instance DOT batch_size  EQUAL  dill DOT load PARELEFT  PARERIGHT  DOM
        instance DOT model  EQUAL  keras DOT models DOT load_model PARELEFT  PARERIGHT  DOM
        return instance DOM
    def _train_tokenizer PARELEFT  PARERIGHT  COLON  DOM
        self DOT tokenizer DOT fit_on_texts PARELEFT t DOT get_text PARELEFT  PARERIGHT  for t in tweets PARERIGHT  DOM
    def _tweets_to_xy_tensors PARELEFT  PARERIGHT  COLON  DOM
        texts COMMA  y  EQUAL  zip PARELEFT *[] PARERIGHT  DOM
        X  EQUAL  self DOT tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
        X  EQUAL  keras DOT preprocessing DOT sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        return X COMMA  list PARELEFT  PARERIGHT  DOM
    def _tweets_to_x_tensor PARELEFT  PARERIGHT  COLON  DOM
        X  EQUAL  self DOT tokenizer DOT texts_to_sequences PARELEFT t DOT get_text PARELEFT  PARERIGHT  for t in tweets PARERIGHT  DOM
        X  EQUAL  keras DOT preprocessing DOT sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        return X DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        num_epochs  EQUAL  num_epochs or self DOT num_epochs DOM
        batch_size  EQUAL  batch_size or self DOT batch_size DOM
        self DOT _train_tokenizer PARELEFT  PARERIGHT  DOM
        X_train COMMA  y_train  EQUAL  self DOT _tweets_to_xy_tensors PARELEFT  PARERIGHT  DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
    def predict_sentiment_real PARELEFT  PARERIGHT  COLON  DOM
        if isinstance PARELEFT  PARERIGHT  COLON  DOM
            Xs  EQUAL  self DOT _tweets_to_x_tensor PARELEFT  PARERIGHT  DOM
            ys  EQUAL  self DOT model DOT predict PARELEFT  PARERIGHT  DOM
            return 2 * ys[][] - 1 DOM
        else COLON  DOM
            Xs  EQUAL  self DOT _tweets_to_x_tensor PARELEFT  PARERIGHT  DOM
            ys  EQUAL  self DOT model DOT predict PARELEFT  PARERIGHT  DOM
            return [] - 1 for y in ys] DOM
class KerasCLSTMModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        KerasTweetSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
class KerasCNNModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        KerasTweetSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT embeddings DOT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        for size in conv_layer_sizes COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
class KerasLSTMModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        KerasTweetSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT embeddings DOT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        for size in lstm_layer_sizes[] COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
class KerasGRUModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        KerasTweetSentimentModel DOT __init__ PARELEFT  PARERIGHT  DOM
        model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT embeddings DOT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        for size in gru_layer_sizes[] COLON  DOM
            model DOT add PARELEFT keras DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
class UnsupervisedSentimentNeuronSingle PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  unsupervised_sentiment_neuron_encoder DOT Model PARELEFT  PARERIGHT  DOM
    @staticmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        return UnsupervisedSentimentNeuronSingle PARELEFT  PARERIGHT  DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        assert NotImplementedError PARELEFT  QUOTMARK t support training COMMA  because they haven QUOTMARK  PARERIGHT  DOM
    def predict_sentiment_real PARELEFT  PARERIGHT  COLON  DOM
        features  EQUAL  self DOT model DOT transform PARELEFT [] PARERIGHT  DOM
        return features[] DOM
class UnsupervisedSentimentNeuronEncoder PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  unsupervised_sentiment_neuron_encoder DOT Model PARELEFT  PARERIGHT  DOM
    @staticmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        return UnsupervisedSentimentNeuronEncoder PARELEFT  PARERIGHT  DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        assert NotImplementedError PARELEFT  QUOTMARK t support training COMMA  because they haven QUOTMARK  PARERIGHT  DOM
    def batch_get_features PARELEFT  PARERIGHT  COLON  DOM
        features  EQUAL  self DOT model DOT transform PARELEFT [] PARERIGHT  DOM
        return features DOM
    def get_features PARELEFT  PARERIGHT  COLON  DOM
        features  EQUAL  self DOT model DOT transform PARELEFT tweet DOT get_text PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT _check_features_range PARELEFT  PARERIGHT  DOM
        return features DOM
    def get_features_number PARELEFT  PARERIGHT  COLON  DOM
    def get_features_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT self DOT get_features_number PARELEFT  PARERIGHT  COMMA   PARERIGHT  DOM
class Doc2VecEmbedding PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT save PARELEFT  PARERIGHT  DOM
    @staticmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        new_instance  EQUAL  Doc2VecEmbedding PARELEFT  PARERIGHT  DOM
        new_instance DOT model  EQUAL  Doc2Vec DOT load PARELEFT  PARERIGHT  DOM
        return new_instance DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Doc2Vec PARELEFT  PARERIGHT  DOM
        self DOT _epochs  EQUAL  epochs DOM
        self DOT _tweet_to_index  EQUAL  {} DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        logging DOT info PARELEFT  PARERIGHT  DOM
        tagged_docs  EQUAL  [] DOM
        for index COMMA  tweet in enumerate PARELEFT  PARERIGHT  COLON  DOM
            tagged_docs DOT append PARELEFT TaggedDocument PARELEFT tweet DOT get_words PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  PARERIGHT  DOM
            self DOT _tweet_to_index[]  EQUAL  index DOM
        self DOT model DOT build_vocab PARELEFT  PARERIGHT  DOM
        self DOT model DOT train PARELEFT tagged_docs COMMA  epochs EQUAL self DOT model DOT iter COMMA  total_examples EQUAL len PARELEFT  PARERIGHT  PARERIGHT  DOM
    def get_features PARELEFT  PARERIGHT  COLON  DOM
        features  EQUAL  self DOT model DOT infer_vector PARELEFT tweet DOT get_words PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT _check_features_range PARELEFT  PARERIGHT  DOM
        return features DOM
    def train_vector_by_index PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model[] DOM
    def get_features_number PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT vector_size DOM
    def get_features_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT self DOT get_features_number PARELEFT  PARERIGHT  COMMA   PARERIGHT  DOM
    @staticmethod DOM
    def _train_item_tag PARELEFT  PARERIGHT  COLON  DOM
        return  QUOTMARK  DOT format PARELEFT  PARERIGHT  DOM
class Word2VecEmbedding PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT save PARELEFT  PARERIGHT  DOM
    @staticmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        new_instance  EQUAL  Word2VecEmbedding PARELEFT  PARERIGHT  DOM
        new_instance DOT model  EQUAL  Word2Vec DOT load PARELEFT  PARERIGHT  DOM
        return new_instance DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Word2Vec PARELEFT  PARERIGHT  DOM
        self DOT _epochs  EQUAL  epochs DOM
        self DOT max_words  EQUAL  25 DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        logging DOT info PARELEFT  PARERIGHT  DOM
        texts  EQUAL  [] DOM
        self DOT model DOT build_vocab PARELEFT  PARERIGHT  DOM
        self DOT model DOT train PARELEFT texts COMMA  epochs EQUAL self DOT model DOT iter COMMA  total_examples EQUAL len PARELEFT  PARERIGHT  PARERIGHT  DOM
    def get_features PARELEFT  PARERIGHT  COLON  DOM
        features  EQUAL  np DOT zeros PARELEFT  PARELEFT self DOT get_max_words PARELEFT  PARERIGHT  COMMA  self DOT get_features_number PARELEFT  PARERIGHT  PARERIGHT  COMMA  dtype EQUAL np DOT float32 PARERIGHT  DOM
        for i COMMA  word in enumerate PARELEFT tweet DOT get_words PARELEFT  PARERIGHT [] PARERIGHT  COLON  DOM
            features[]  EQUAL  self DOT model DOT infer_vector[] DOM
        return features DOM
    def get_features_number PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT vector_size DOM
    def get_features_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT self DOT model DOT vector_size PARELEFT  PARERIGHT  COMMA  self DOT max_words PARERIGHT  DOM
class RussianSentimentLexicon PARELEFT  PARERIGHT  COLON  DOM
        word_to_prob  EQUAL  {} DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            for line in f COLON  DOM
                m  EQUAL  re DOT match PARELEFT  QUOTMARK  COMMA  line PARERIGHT  DOM
                if m COLON  DOM
                    word  EQUAL  m DOT group PARELEFT  PARERIGHT  DOM
                    probability  EQUAL  float PARELEFT m DOT group PARELEFT  PARERIGHT  PARERIGHT  DOM
                    word_to_prob[]  EQUAL  probability DOM
        self DOT _word_to_prob  EQUAL  OrderedDict PARELEFT  PARERIGHT  DOM
        self DOT _word_to_index  EQUAL  {} DOM
        for index COMMA  word in enumerate PARELEFT sorted PARELEFT word_to_prob DOT keys PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  COLON  DOM
            self DOT _word_to_prob[]  EQUAL  word_to_prob[] DOM
            self DOT _word_to_index[]  EQUAL  index DOM
    def size PARELEFT  PARERIGHT  COLON  DOM
        return len PARELEFT  PARERIGHT  DOM
    def word_pos PARELEFT  PARERIGHT  COLON  DOM
        return self DOT _word_to_index DOT get PARELEFT word DOT upper PARELEFT  PARERIGHT  PARERIGHT  DOM
    def words PARELEFT  PARERIGHT  COLON  DOM
        return self DOT _word_to_prob DOT keys PARELEFT  PARERIGHT  DOM
    def sentiment_probability PARELEFT  PARERIGHT  COLON  DOM
        return self DOT _word_to_prob DOT get PARELEFT word DOT upper PARELEFT  PARERIGHT  COMMA  0 DOT 0 PARERIGHT  DOM
    def has_sentiment PARELEFT  PARERIGHT  COLON  DOM
        return self DOT sentiment_probability PARELEFT  PARERIGHT  > 0 DOM
    def __contains__ PARELEFT  PARERIGHT  COLON  DOM
        return self DOT has_sentiment PARELEFT  PARERIGHT  DOM
class SimpleUnigramModel PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT lexicon  EQUAL  RussianSentimentLexicon PARELEFT  PARERIGHT  DOM
    @staticmethod DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        return SimpleUnigramModel PARELEFT  PARERIGHT  DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        assert NotImplementedError PARELEFT  PARERIGHT  DOM
    def get_features_number PARELEFT  PARERIGHT  COLON  DOM
        return self DOT lexicon DOT size PARELEFT  PARERIGHT  DOM
    def get_features PARELEFT  PARERIGHT  COLON  DOM
        features  EQUAL  [] * self DOT get_features_number PARELEFT  PARERIGHT  DOM
        for word in tweet DOT get_words PARELEFT  PARERIGHT  COLON  DOM
            idx  EQUAL  self DOT lexicon DOT word_pos PARELEFT  PARERIGHT  DOM
            if idx is not None COLON  DOM
                features[]  EQUAL  1 DOM
        return featuresimport numpy as np DOM
from keras DOT callbacks import TensorBoard COMMA  ModelCheckpoint DOM
from keras DOT layers import Dense COMMA  LSTM COMMA  Merge DOM
from keras DOT models import Sequential COMMA  model_from_json DOM
from keras DOT optimizers import RMSprop DOM
import keras DOM
BATCH_SIZE  EQUAL  1000 DOM
import Formatter DOM
period_sample  EQUAL  Formatter DOT PeriodSample PARELEFT  PARERIGHT  DOM
INPUT_SIZE  EQUAL  24 DOM
def createModel PARELEFT  PARERIGHT  COLON  DOM
    cost  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    EMA_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    EMA_lstm DOT add PARELEFT LSTM PARELEFT INPUT_SIZE COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA   batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 2 COMMA  return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
    K_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    K_lstm DOT add PARELEFT LSTM PARELEFT INPUT_SIZE COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 2 COMMA  return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
    D_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    D_lstm DOT add PARELEFT LSTM PARELEFT INPUT_SIZE COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 2 COMMA  return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
    RSI_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    RSI_lstm DOT add PARELEFT LSTM PARELEFT INPUT_SIZE COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 2 COMMA  return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
    OBV_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    OBV_lstm DOT add PARELEFT LSTM PARELEFT INPUT_SIZE COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 2 COMMA  return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
    network_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    network_model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    network_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    network_model DOT compile PARELEFT  PARERIGHT  DOM
    train_period COMMA target  EQUAL  getBatch PARELEFT  PARERIGHT  DOM
    network_model DOT fit PARELEFT  PARERIGHT  DOM
def getBatch PARELEFT  PARERIGHT  COLON  DOM
    out  EQUAL  [] DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        data  EQUAL  period_sample DOT getIndicatorData PARELEFT  PARERIGHT  DOM
        features  EQUAL  data[] DOM
        features  EQUAL  np DOT transpose PARELEFT  PARERIGHT  DOM
        output_bin  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT  DOM
        out DOT append PARELEFT [] COMMA np DOT asarray PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT ] PARERIGHT  DOM
    out  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
    return out[] COMMA out[] DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    createModel PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import Callback DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
    def on_batch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def neural_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT rams[] COMMA  init EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if load COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport numpy as np DOM
def splitscalewindow PARELEFT  PARERIGHT  COLON  DOM
    X  EQUAL  np DOT array PARELEFT df DOT iloc[] DOT copy PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT array PARELEFT df DOT iloc[] DOT copy PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_n  EQUAL  int PARELEFT len PARELEFT  PARERIGHT  * split PARERIGHT  DOM
    import sys DOM
    eps  EQUAL  sys DOT float_info DOT epsilon DOM
    mu  EQUAL  X[] DOT mean PARELEFT  PARERIGHT  DOM
    st  EQUAL  X[] DOT std PARELEFT  PARERIGHT  DOM
    X - EQUAL  mu DOM
    X  EQUAL   PARELEFT  PARERIGHT  /  PARELEFT  PARERIGHT  DOM
    X_slices  EQUAL  [] DOM
    y_slices  EQUAL  [] DOM
    for i in range PARELEFT t_steps COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        X_slices DOT append PARELEFT  PARERIGHT  DOM
        y_slices DOT append PARELEFT  PARERIGHT  DOM
    X_slices  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    y_slices  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  X_slices[] DOM
    y_train  EQUAL  y_slices[] DOM
    X_test  EQUAL  X_slices[] DOM
    y_test  EQUAL  y_slices[] DOM
    y_train  EQUAL  pd DOT get_dummies PARELEFT  PARERIGHT  DOM
    y_test  EQUAL  pd DOT get_dummies PARELEFT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT  DOM
import itertools DOM
import pandas as pd DOM
import matplotlib DOT pyplot as plt DOM
def plot_confusion_matrix PARELEFT  PARERIGHT  COLON  DOM
        cm  EQUAL  cm DOT astype PARELEFT  PARERIGHT  / cm DOT sum PARELEFT  PARERIGHT [] DOM
    else COLON  DOM
        pass DOM
    plt DOT imshow PARELEFT  PARERIGHT  DOM
    plt DOT title PARELEFT  PARERIGHT  DOM
    plt DOT colorbar PARELEFT  PARERIGHT  DOM
    tick_marks  EQUAL  np DOT arange PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    plt DOT xticks PARELEFT  PARERIGHT  DOM
    plt DOT yticks PARELEFT  PARERIGHT  DOM
    fmt  EQUAL   QUOTMARK  if normalize else  QUOTMARK  DOM
    thresh  EQUAL  cm DOT max PARELEFT  PARERIGHT  / 2 DOT  DOM
    for i COMMA  j in itertools DOT product PARELEFT range PARELEFT  PARERIGHT  COMMA  range PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        plt DOT text PARELEFT j COMMA  i COMMA  format PARELEFT  PARERIGHT  COMMA horizontalalignment EQUAL  QUOTMARK  COMMA white QUOTMARK black" PARERIGHT  DOM
    plt DOT ylabel PARELEFT  PARERIGHT  DOM
    plt DOT xlabel PARELEFT  PARERIGHT  DOM
    plt DOT tight_layout PARELEFT  PARERIGHT  DOM
def applyPtSl PARELEFT  PARERIGHT  COLON  DOM
    out  EQUAL  pd DOT DataFrame PARELEFT close DOT index + pd DOT Timedelta PARELEFT  PARERIGHT  COMMA index EQUAL close DOT index COMMA columns EQUAL [] PARERIGHT  DOM
    vol  EQUAL  close DOT pct_change PARELEFT  PARERIGHT  DOT ewm PARELEFT  PARERIGHT  DOT std PARELEFT  PARERIGHT  DOM
    pt  EQUAL  ptSlTs[]*vol DOM
    sl  EQUAL  -ptSlTs[]*vol DOM
    for loc COMMA t1 in out[] DOT fillna PARELEFT  PARERIGHT  DOT iteritems PARELEFT  PARERIGHT  COLON  DOM
        df0 EQUAL close DOT loc[] DOM
        df0 EQUAL df0/df0 DOT loc[]-1 DOM
        out DOT loc[] EQUAL df0[]] DOT dropna PARELEFT  PARERIGHT  DOT index DOT min PARELEFT  PARERIGHT  DOM
        out DOT loc[] EQUAL df0[]] DOT dropna PARELEFT  PARERIGHT  DOT index DOT min PARELEFT  PARERIGHT  DOM
    return PARELEFT out DOT idxmin PARELEFT  PARERIGHT  PARERIGHT  DOM
def build_LSTM PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense DOM
    from keras DOT layers import LSTM DOM
    from keras DOT layers import Dropout DOM
    from keras import regularizers DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units  EQUAL  38 COMMA turn_sequences  EQUAL  True COMMA activation EQUAL  QUOTMARK  COMMA kernel_regularizer EQUAL regularizers DOT l1 PARELEFT  PARERIGHT  COMMA ut_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units  EQUAL  38 COMMA turn_sequences  EQUAL  True COMMA activation EQUAL  QUOTMARK  COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units  EQUAL  24 COMMA turn_sequences  EQUAL  False COMMA activation EQUAL  QUOTMARK  COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT  DOM
def class_report PARELEFT  PARERIGHT  COLON  DOM
    from sklearn DOT metrics import classification_report DOM
    y_preds  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    y_preds_flat  EQUAL  pd DOT DataFrame PARELEFT  PARERIGHT  DOT idxmax PARELEFT  PARERIGHT  DOM
    y_test_flat  EQUAL  pd DOT DataFrame PARELEFT  PARERIGHT  DOT idxmax PARELEFT  PARERIGHT  DOM
    rep  EQUAL  classification_report PARELEFT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT  DOM
def getWeights_FFD PARELEFT  PARERIGHT  COLON  DOM
    w COMMA k  EQUAL  [] COMMA 1 DOM
    while True COLON  DOM
        w_  EQUAL  -w[]/k* PARELEFT  PARERIGHT  DOM
        if abs PARELEFT  PARERIGHT <thres COLON break DOM
        w DOT append PARELEFT  PARERIGHT  DOM
        k+ EQUAL 1 DOM
    w  EQUAL  np DOT array PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT  DOM
def fracDiff_FFD PARELEFT  PARERIGHT  COLON  DOM
    width  EQUAL  len PARELEFT  PARERIGHT -1 DOM
    df  EQUAL  {} DOM
    for name in series DOT columns COLON  DOM
        seriesF COMMA  df_  EQUAL  series[]] DOT fillna PARELEFT  PARERIGHT  DOT dropna PARELEFT  PARERIGHT  COMMA pd DOT Series PARELEFT  PARERIGHT  DOM
        for iloc1 in range PARELEFT  PARERIGHT  COLON  DOM
            loc0 COMMA  loc1 EQUAL seriesF DOT index[] COMMA  seriesF DOT index[] DOM
            if not np DOT isfinite PARELEFT  PARERIGHT  COLON continue DOM
            df_[]  EQUAL  np DOT dot PARELEFT  PARERIGHT [] DOM
        df[]  EQUAL df_ DOT copy PARELEFT  PARERIGHT  DOM
    df EQUAL pd DOT concat PARELEFT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT  DOM
def plotMinFFD PARELEFT  PARERIGHT  COLON  DOM
    from statsmodels DOT tsa DOT stattools import adfuller DOM
    import matplotlib DOT pyplot as plt DOM
    import numpy as np DOM
    df0  EQUAL  df DOT copy PARELEFT  PARERIGHT  DOM
    out  EQUAL  pd DOT DataFrame PARELEFT  PARERIGHT  DOM
    for d in np DOT linspace PARELEFT  PARERIGHT  COLON  DOM
        df1  EQUAL  np DOT log PARELEFT  PARERIGHT  DOT resample PARELEFT  PARERIGHT  DOT last PARELEFT  PARERIGHT  DOM
        df2 EQUAL fracDiff_FFD PARELEFT  PARERIGHT  DOM
        corr  EQUAL  np DOT corrcoef PARELEFT  PARERIGHT [] DOM
        df2 EQUAL adfuller PARELEFT  PARERIGHT  DOM
        out DOT loc[] EQUAL list PARELEFT  PARERIGHT +[][]]+[] DOM
    out[]] DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT axhline PARELEFT out[] DOT mean PARELEFT  PARERIGHT  COMMA linewidth EQUAL 1 COMMA color EQUAL  QUOTMARK  COMMA linestyle EQUAL  QUOTMARK  PARERIGHT  DOM
    return DOM
def getbalclassweights PARELEFT  PARERIGHT  COLON  DOM
    class_weights_bal  EQUAL  dict PARELEFT  PARELEFT 1/ PARELEFT y_train DOT sum PARELEFT  PARERIGHT /len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOT reset_index PARELEFT  PARERIGHT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT  DOM
def build_CNNLSTM PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense DOM
    from keras DOT layers import LSTM DOM
    from keras DOT layers import Conv1D DOM
    from keras DOT layers import Dropout DOM
    from keras import regularizers DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT filters EQUAL 96 COMMA kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA ut_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units  EQUAL  38 COMMA turn_sequences  EQUAL  True COMMA activation EQUAL  QUOTMARK  COMMA kernel_regularizer EQUAL regularizers DOT l1 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units  EQUAL  9 COMMA turn_sequences  EQUAL  False COMMA activation EQUAL  QUOTMARK  COMMA kernel_regularizer EQUAL regularizers DOT l1 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
def get_simple_net PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def get_dropout_net PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class nuRobotPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
from utility DOT enums import Processor COMMA  RnnType DOM
def CreateModel PARELEFT  PARERIGHT  COLON  DOM
    keras_impl  EQUAL  __getKerasImplementation PARELEFT  PARERIGHT  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        print PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  RnnType DOT LSTM  COLON  DOM
        if args[]  EQUAL  EQUAL  Processor DOT GPU and args[]  EQUAL  EQUAL  True COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            return __createCUDNN_LSTM_Stateless PARELEFT  PARERIGHT   DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            return __createLSTM_Stateless PARELEFT  PARERIGHT    DOM
    elif args[]  EQUAL  EQUAL  RnnType DOT GRU COLON  DOM
        if args[]  EQUAL  EQUAL  Processor DOT GPU and args[]  EQUAL  EQUAL  True COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            return __createCUDNN_GRU_Stateless PARELEFT  PARERIGHT   DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            return __createGRU_Stateless PARELEFT  PARERIGHT     DOM
    elif args[]  EQUAL  EQUAL  RnnType DOT RNN COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        return __createRNN_Stateless PARELEFT  PARERIGHT   DOM
    else COLON  DOM
        raise ValueError PARELEFT  PARERIGHT  DOM
    return model DOM
def CreateCallbacks PARELEFT  PARERIGHT  COLON  DOM
    callbacks  EQUAL  [] DOM
    keras_impl  EQUAL  __getKerasImplementation PARELEFT  PARERIGHT  DOM
    callbacks DOT append PARELEFT keras_impl DOT callbacks DOT EarlyStopping PARELEFT  PARERIGHT  PARERIGHT  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        callbacks DOT append PARELEFT keras_impl DOT callbacks DOT ModelCheckpoint PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  monitor EQUAL  QUOTMARK  COMMA  verbose EQUAL 0 COMMA  save_best_only EQUAL True COMMA  save_weights_only EQUAL False COMMA  mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        callbacks DOT append PARELEFT keras_impl DOT callbacks DOT ReduceLROnPlateau PARELEFT  PARERIGHT  PARERIGHT  DOM
    callbacks DOT append PARELEFT keras_impl DOT callbacks DOT CSVLogger PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  True COLON  DOM
        callsbacks DOT append PARELEFT tensorboard_cb  EQUAL  TensorBoard PARELEFT  PARERIGHT  PARERIGHT  DOM
    if args[] is not None  COLON  DOM
        callbacks DOT append PARELEFT  PARERIGHT  DOM
    return callbacks DOM
def CreateOptimizer PARELEFT  PARERIGHT  COLON  DOM
    if args[]  EQUAL  EQUAL  Processor DOT TPU COLON  DOM
        import tensorflow as tf  DOM
        return tf DOT contrib DOT opt DOT NadamOptimizer PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        return keras_impl DOT optimizers DOT Nadam PARELEFT  PARERIGHT     DOM
def __getKerasImplementation PARELEFT  PARERIGHT  COLON  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        import tensorflow DOM
        from tensorflow DOT python import keras as keras_impl DOM
    else COLON  DOM
        import keras as keras_impl DOM
    return keras_impl DOM
def __createCUDNN_LSTM_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT          DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON              DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT                    DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def __createLSTM_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT LSTM PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT  DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT LSTM PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT                  DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT     DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def __createCUDNN_GRU_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON              DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
             model DOT add PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT         DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON              DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON              DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT                    DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def __createGRU_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT GRU PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT          DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT GRU PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT                  DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def __createRNN_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT          DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT                  DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport numpy as np DOM
import pandas as pd DOM
from keras DOT layers import Dense COMMA  Input COMMA  merge COMMA  LSTM COMMA  Dropout COMMA  Bidirectional COMMA  Embedding COMMA  Activation COMMA  Merge COMMA  Reshape COMMA  TimeDistributed DOM
from keras DOT models import Model COMMA Sequential DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT callbacks import EarlyStopping COMMA  ModelCheckpoint DOM
re_weight  EQUAL  True DOM
BASE_DIR  EQUAL   QUOTMARK  DOM
GLOVE_DIR  EQUAL   QUOTMARK  DOM
TRAIN_DATA_FILE  EQUAL  BASE_DIR +  QUOTMARK  DOM
TEST_DATA_FILE  EQUAL  BASE_DIR +  QUOTMARK  DOM
MAX_NB_WORDS  EQUAL  110000 DOM
EMBEDDING_DIM  EQUAL  300 DOM
VALIDATION_SPLIT  EQUAL  0 DOT 1 DOM
MAX_SEQUENCE_LENGTH  EQUAL  32 DOM
num_lstm  EQUAL  32 DOM
num_dense  EQUAL  64 DOM
rate_drop_lstm  EQUAL  0 DOT 10 + np DOT random DOT rand PARELEFT  PARERIGHT  * 0 DOT 05 DOM
rate_drop_dense  EQUAL  0 DOT 10 + np DOT random DOT rand PARELEFT  PARERIGHT  * 0 DOT 05 DOM
act  EQUAL   QUOTMARK  DOM
STAMP  EQUAL   QUOTMARK % PARELEFT  PARERIGHT  DOM
shared_lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
x1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
x1 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
x1 DOT add PARELEFT  PARERIGHT  DOM
x1 DOT build PARELEFT  PARERIGHT  DOM
y1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
y1 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
y1 DOT add PARELEFT  PARERIGHT  DOM
y1 DOT build PARELEFT  PARERIGHT  DOM
merged_lstm  EQUAL  Merge PARELEFT  PARERIGHT  DOM
z1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
z1 DOT add PARELEFT  PARERIGHT  DOM
z1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
z1 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
z1 DOT build PARELEFT  PARERIGHT  DOM
auxiliary_input  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
auxiliary_input DOT add PARELEFT Dense PARELEFT 128 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
auxiliary_input DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
auxiliary_input DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
auxiliary_input DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
auxiliary_input DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
auxiliary_input DOT build PARELEFT  PARERIGHT  DOM
merged  EQUAL  Merge PARELEFT  PARERIGHT  DOM
model EQUAL Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
early_stopping  EQUAL EarlyStopping PARELEFT  PARERIGHT  DOM
bst_model_path  EQUAL  STAMP +  QUOTMARK  DOM
model_checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
hist  EQUAL  model DOT fit PARELEFT [] COMMA  labels_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  nb_epoch EQUAL 3 COMMA  batch_size EQUAL 512 COMMA  shuffle EQUAL True COMMA class_weight EQUAL class_weight COMMA callbacks EQUAL [] PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
bst_val_score EQUAL min PARELEFT  PARERIGHT  DOM
preds  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
preds + EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
preds / EQUAL  2 DOT 0 DOM
print PARELEFT  PARERIGHT  DOM
out_df  EQUAL  pd DOT DataFrame PARELEFT { QUOTMARK  COLON test_labels COMMA   QUOTMARK  COLON preds DOT ravel PARELEFT  PARERIGHT } PARERIGHT  DOM
out_df DOT to_csv PARELEFT  QUOTMARK % PARELEFT  PARERIGHT +STAMP+ QUOTMARK  COMMA  index EQUAL False PARERIGHT  DOM
del out_dffrom __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader1  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list1  EQUAL  list PARELEFT  PARERIGHT  DOM
testX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y1  EQUAL  testdata DOT iloc[] DOM
y_test1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
testX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  2 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL batch_size COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA nb_epoch EQUAL 500 COMMA  callbacks EQUAL [] PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  import numpy as np DOM
from keras DOT layers import LSTM DOM
from keras DOT models import Sequential DOM
from phased_lstm_keras DOT PhasedLSTM import PhasedLSTM DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    X  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    Y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT 10 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT summary PARELEFT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    model_plstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_plstm DOT add PARELEFT PhasedLSTM PARELEFT 10 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_plstm DOT summary PARELEFT  PARERIGHT  DOM
    model_plstm DOT compile PARELEFT  PARERIGHT  DOM
    model_lstm DOT fit PARELEFT  PARERIGHT  DOM
    model_plstm DOT fit PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  LSTM DOM
from data_utils import * DOM
import numpy as np DOM
from sklearn DOT metrics import roc_curve DOM
from sklearn DOT metrics import auc DOM
import matplotlib DOT pyplot as plt DOM
X_test COMMA  Y_test  EQUAL  read_expanded_test_data_glove PARELEFT  PARERIGHT  DOM
max_len  EQUAL  100 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm  EQUAL  LSTM PARELEFT 100 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
Y_pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
names  EQUAL  [] DOM
for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
    y_pred_keras  EQUAL  Y_pred[] DOM
    fpr_keras COMMA  tpr_keras COMMA  thresholds_keras  EQUAL  roc_curve PARELEFT  PARERIGHT  DOM
    auc_keras  EQUAL  auc PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    plt DOT figure PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  62 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import keras   DOM
from keras DOT layers import LSTM   DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Input COMMA  Dropout COMMA  Activation DOM
from keras DOT datasets import mnist   DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT optimizers import Adam DOM
from keras DOT callbacks import TensorBoard DOM
learning_rate  EQUAL  0 DOT 001   DOM
training_iters  EQUAL  3   DOM
batch_size  EQUAL  128   DOM
display_step  EQUAL  10   DOM
n_input  EQUAL  28   DOM
n_step  EQUAL  28  DOM
n_hidden  EQUAL  128   DOM
n_classes  EQUAL  10   DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  mnist DOT load_data PARELEFT  PARERIGHT    DOM
x_train  EQUAL  x_train DOT reshape PARELEFT  PARERIGHT    DOM
x_test  EQUAL  x_test DOT reshape PARELEFT  PARERIGHT    DOM
x_train  EQUAL  x_train DOT astype PARELEFT  PARERIGHT  DOM
x_test  EQUAL  x_test DOT astype PARELEFT  PARERIGHT    DOM
x_train / EQUAL  255   DOM
x_test / EQUAL  255   DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT    DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT  PARERIGHT    DOM
inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
X  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
predictions  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
model  EQUAL  Model PARELEFT  PARERIGHT  DOM
adam  EQUAL  Adam PARELEFT  PARERIGHT    DOM
model DOT summary PARELEFT  PARERIGHT    DOM
model DOT compile PARELEFT  PARERIGHT    DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA   tch_size EQUAL batch_size COMMA   ochs EQUAL training_iters COMMA   rbose EQUAL 1 COMMA   alidation_data EQUAL  PARELEFT  PARERIGHT  COMMA llbacks EQUAL [] PARERIGHT    DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT    DOM
print PARELEFT  PARERIGHT    DOM
print PARELEFT  PARERIGHT import keras DOT backend as K DOM
import tensorflow as tf DOM
from keras import optimizers  DOM
from keras import losses DOM
from keras import metrics DOM
from keras import models DOM
from keras import layers DOM
from keras import callbacks DOM
from keras import regularizers DOM
from keras import initializers DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT models import Model DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import GRU DOM
from keras DOT layers import Masking DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Activation DOM
from keras DOT layers import Lambda DOM
from keras DOT layers import Bidirectional DOM
from keras DOT layers import BatchNormalization DOM
from keras DOT layers import Input DOM
from keras DOT constraints import max_norm DOM
def basic_dense_model PARELEFT  PARERIGHT  COLON     DOM
    model  EQUAL  models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT 16 COMMA  activation EQUAL  QUOTMARK  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT               DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT             DOM
    model DOT add PARELEFT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def LSTM_model_1_gen PARELEFT  PARERIGHT  COLON  DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
   return model DOM
def LSTM_model_1 PARELEFT  PARERIGHT  COLON  DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT    DOM
   model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
   return model DOM
def LSTM_model_2 PARELEFT  PARERIGHT  COLON         DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT Var DOT dropout COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT    DOM
   model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
   return model DOM
def model_3_LSTM PARELEFT  PARERIGHT  COLON  DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT Var DOT dropout COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT layers DOT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  DOM
   model DOT add PARELEFT layers DOT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  DOM
   return model   DOM
def model_3_LSTM_advanced PARELEFT  PARERIGHT  COLON     DOM
   maxnorm EQUAL 3 DOT  DOM
   iniT EQUAL keras DOT initializers DOT RandomUniform PARELEFT  PARERIGHT  DOM
   batch_size EQUAL X_train DOT shape[] DOM
   n_frames EQUAL X_train DOT shape[] DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA  kernel_initializer EQUAL iniT COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA                         kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  pout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT    DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA                         kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  opout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT   DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA                         kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ut EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT      DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model   DOM
def model_3b_LSTM_advanced PARELEFT  PARERIGHT  COLON     DOM
   maxnorm EQUAL 3 DOT  DOM
   iniT EQUAL keras DOT initializers DOT RandomUniform PARELEFT  PARERIGHT  DOM
   batch_size EQUAL X_train DOT shape[] DOM
   n_frames EQUAL X_train DOT shape[] DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA Freturn_sequences EQUAL True COMMA  kernel_initializer EQUAL iniT COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA                         kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  pout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT    DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA                         kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  out EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model   DOM
def model_3_LSTM_advanced_seq PARELEFT  PARERIGHT  COLON     DOM
   inp  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
   maxnorm EQUAL 3 DOT  DOM
   batch_size EQUAL X_train DOT shape[] DOM
   n_frames EQUAL X_train DOT shape[] DOM
   x EQUAL Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
   x EQUAL Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARELEFT  PARERIGHT     DOM
   x EQUAL Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
   x EQUAL Bidirectional PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
   x EQUAL Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
   predictions EQUAL Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
   model EQUAL Model PARELEFT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model   DOM
def model_3_LSTM_advanced_no_bi PARELEFT  PARERIGHT  COLON     DOM
   maxnorm EQUAL 3 DOT  DOM
   batch_size EQUAL X_train DOT shape[] DOM
   n_frames EQUAL X_train DOT shape[] DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT LSTM PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model  DOM
def model_4_GRU PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT GRU PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA rnel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  dropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT GRU PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA rnel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  dropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model    DOM
def model_4_GRU_advanced PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dense PARELEFT Var DOT Dense_Unit COMMA  activation EQUAL Var DOT activationF COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT GRU PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA    kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT GRU PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ropout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT GRU PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  pout EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT    DOM
   model DOT add PARELEFT Bidirectional PARELEFT GRU PARELEFT Var DOT hidden_units COMMA  return_sequences EQUAL True COMMA kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA ernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  COMMA  ut EQUAL Var DOT dropout COMMA  recurrent_dropout EQUAL Var DOT dropout PARERIGHT  PARERIGHT  PARERIGHT      DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model    DOM
def model_5_CNN PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT mask_value EQUAL Var DOT mask_value COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Conv1D PARELEFT Var DOT hidden_units COMMA  activation EQUAL  QUOTMARK  COMMA strides EQUAL 1   COMMA  data_format EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Conv1D PARELEFT Var DOT hidden_units COMMA  activation EQUAL  QUOTMARK  COMMA strides EQUAL 1   COMMA  data_format EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA activity_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  COMMA nel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT     DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT Y_train DOT shape[] COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL max_norm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return model    DOM
def LSTM_model_3_original PARELEFT  PARERIGHT  COLON     DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT 32 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT 64 COMMA  return_sequences EQUAL True COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 5 COMMA  recurrent_dropout EQUAL 0 DOT 5 PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT 0 DOT 5 COMMA  noise_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT n_classes COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_constraint EQUAL maxnorm PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT summary PARELEFT  PARERIGHT  DOM
   return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
import time DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA  Merge DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
from keras DOT utils DOT visualize_util import plot COMMA  to_graph DOM
from keras DOT regularizers import l2 COMMA  activity_l2 DOM
import copy DOM
def design_model PARELEFT  PARERIGHT  COLON  DOM
    model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm_hidden_size  EQUAL  [] DOM
    drop_out_rate  EQUAL  [] DOM
    model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    nn_hidden_size  EQUAL  [] DOM
    nn_drop_rate  EQUAL  [] DOM
    model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
    graph DOT write_png PARELEFT  PARERIGHT  DOM
    return model_Combine DOM
def design_model_A PARELEFT  PARERIGHT  COLON  DOM
    model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm_hidden_size  EQUAL  [] DOM
    drop_out_rate  EQUAL  [] DOM
    reg  EQUAL  [] DOM
    areg  EQUAL  [] DOM
    model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nn_hidden_size  EQUAL  [] DOM
    nn_drop_rate  EQUAL  [] DOM
    nn_reg  EQUAL  [] DOM
    nn_areg  EQUAL  [] DOM
    model_B DOT add PARELEFT Dense PARELEFT nn_hidden_size[] COMMA  input_dim EQUAL nn_data_dim COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT nn_hidden_size[] COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
    graph DOT write_png PARELEFT  PARERIGHT  DOM
    return model_Combine DOM
def design_model_nn PARELEFT  PARERIGHT  COLON  DOM
    model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    nn_hidden_size  EQUAL  [] DOM
    nn_drop_rate  EQUAL  [] DOM
    nn_reg  EQUAL  [] DOM
    nn_areg  EQUAL  [] DOM
    model_B DOT add PARELEFT Dense PARELEFT nn_hidden_size[] COMMA  input_dim EQUAL nn_data_dim COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT nn_hidden_size[] COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
    graph DOT write_png PARELEFT  PARERIGHT  DOM
    return model_B DOM
def design_model_lstm PARELEFT  PARERIGHT  COLON  DOM
    model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm_hidden_size  EQUAL  [] DOM
    drop_out_rate  EQUAL  [] DOM
    reg  EQUAL  [] DOM
    areg  EQUAL  [] DOM
    model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
    graph DOT write_png PARELEFT  PARERIGHT  DOM
    return model_Aimport os DOM
from sklearn DOT externals import joblib DOM
import numpy as np DOM
from copy import deepcopy DOM
from plmodel import PLModel COMMA  DefaultScaler DOM
from sklearn DOT preprocessing import StandardScaler COMMA  MinMaxScaler DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  LSTM COMMA  BatchNormalization DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT initializers import Constant DOM
from keras DOT callbacks import EarlyStopping COMMA  ModelCheckpoint DOM
import tensorflow as tf DOM
from modelcontainer import DefaultModelContainer DOM
class KerasModelContainer PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        DefaultModelContainer DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
        if metric in [] COLON  DOM
            self DOT loss  EQUAL   QUOTMARK  DOM
            self DOT task  EQUAL   QUOTMARK  DOM
            self DOT last_act  EQUAL   QUOTMARK  DOM
        elif metric in [] COLON  DOM
            self DOT loss  EQUAL   QUOTMARK  DOM
            self DOT task  EQUAL   QUOTMARK  DOM
            self DOT last_act  EQUAL   QUOTMARK  DOM
        elif metric in [] COLON  DOM
            self DOT loss  EQUAL   QUOTMARK  DOM
            self DOT task  EQUAL   QUOTMARK  DOM
            self DOT last_act  EQUAL   QUOTMARK  DOM
        elif metric in [] COLON  DOM
            self DOT loss  EQUAL   QUOTMARK  DOM
            self DOT task  EQUAL   QUOTMARK  DOM
            self DOT last_act  EQUAL   QUOTMARK  DOM
        elif  QUOTMARK  in metric COLON  DOM
            self DOT loss  EQUAL  metric DOM
            self DOT task  EQUAL   QUOTMARK  DOM
            self DOT last_act  EQUAL   QUOTMARK  DOM
        elif task  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT loss  EQUAL   QUOTMARK  DOM
            self DOT task  EQUAL   QUOTMARK  DOM
            self DOT last_act  EQUAL   QUOTMARK  DOM
        else COLON  DOM
            raise NotImplementedError PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOM
class KerasMLP PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        KerasModelContainer DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT dense_units  EQUAL  dense_units DOM
        self DOT dropout  EQUAL  dropout DOM
        self DOT lr  EQUAL  lr DOM
        return DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  units EQUAL self DOT dense_units COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT units EQUAL 1 COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL self DOT last_act PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT optimizer EQUAL Adam PARELEFT  PARERIGHT  COMMA  loss EQUAL self DOT loss PARERIGHT  DOM
        print self DOT model DOT summary PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
class KerasMLP2 PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT self COMMA  model EQUAL None COMMA  task EQUAL  QUOTMARK  COMMA  metric EQUAL  QUOTMARK  COMMA e_units EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL  PARELEFT  PARERIGHT  COMMA  lr EQUAL 0 DOT 001 PARERIGHT  COLON  DOM
        KerasModelContainer DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT dense_units  EQUAL  dense_units DOM
        self DOT dropout  EQUAL  dropout DOM
        self DOT lr  EQUAL  lr DOM
        return DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  units EQUAL self DOT dense_units[] COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT units EQUAL self DOT dense_units[] COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT units EQUAL 1 COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL self DOT last_act PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT optimizer EQUAL Adam PARELEFT  PARERIGHT  COMMA  loss EQUAL self DOT loss PARERIGHT  DOM
        print self DOT model DOT summary PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
class KerasLSTM PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        KerasModelContainer DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT lstm_units  EQUAL  lstm_units DOM
        self DOT n_lookback  EQUAL  n_lookback DOM
        return DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT units EQUAL self DOT lstm_units COMMA  activation EQUAL  QUOTMARK  COMMA  recurrent_activation EQUAL  QUOTMARK  COMMA ut_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 2 COMMA  recurrent_dropout EQUAL 0 DOT 2 PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT units EQUAL 1 COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL self DOT last_act PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print self DOT model DOT summary PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
class KerasLSTM2 PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT self COMMA  model EQUAL None COMMA  task EQUAL  QUOTMARK  COMMA  metric EQUAL  QUOTMARK  COMMA lookback EQUAL 1 COMMA  lstm_units EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        KerasModelContainer DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT lstm_units  EQUAL  lstm_units DOM
        self DOT n_lookback  EQUAL  n_lookback DOM
        return DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT units EQUAL self DOT lstm_units[] COMMA  activation EQUAL  QUOTMARK  COMMA  recurrent_activation EQUAL  QUOTMARK  COMMA ut_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 0 COMMA  recurrent_dropout EQUAL 0 DOT 0 COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT units EQUAL 1 COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL self DOT last_act PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print self DOT model DOT summary PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
class KerasLSTM3 PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        KerasModelContainer DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT lstm_units  EQUAL  lstm_units DOM
        self DOT dense_units  EQUAL  dense_units DOM
        self DOT n_lookback  EQUAL  n_lookback DOM
        return DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT units EQUAL self DOT lstm_units COMMA  activation EQUAL  QUOTMARK  COMMA  recurrent_activation EQUAL  QUOTMARK  COMMA ut_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 2 COMMA  recurrent_dropout EQUAL 0 DOT 2 COMMA return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT **{ QUOTMARK  COLON  self DOT dense_units COMMA   QUOTMARK  COLON  Constant PARELEFT  PARERIGHT  COMMA rnel_initializer QUOTMARK glorot_normal QUOTMARK activation QUOTMARK relu'} PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT units EQUAL 1 COMMA  bias_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL self DOT last_act PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print self DOT model DOT summary PARELEFT  PARERIGHT  DOM
        return self DOT model DOM
class KerasModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        PLModel DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT model_container  EQUAL  model_container DOM
        self DOT nb_epochs  EQUAL  nb_epochs DOM
        self DOT fit_res  EQUAL  None DOM
        self DOT tmp_dir  EQUAL  tmp_dir DOM
        if not os DOT path DOT exists PARELEFT  PARERIGHT  COLON  DOM
            os DOT makedirs PARELEFT  PARERIGHT  DOM
        return DOM
    def _fit_and_eval PARELEFT  PARERIGHT  COLON  DOM
        try COLON  DOM
            X_train_  EQUAL  self DOT scaler DOT transform PARELEFT  PARERIGHT  DOM
        except AttributeError as e COLON  DOM
            self DOT fit_scaler PARELEFT  PARERIGHT  DOM
            X_train_  EQUAL  self DOT scaler DOT transform PARELEFT  PARERIGHT  DOM
        if getattr PARELEFT  PARERIGHT  is None COLON  DOM
            self DOT model_container DOT n_lookback  EQUAL  None DOM
            if self DOT model is not None and len PARELEFT self DOT model DOT get_input_shape_at PARELEFT  PARERIGHT  PARERIGHT  > 2 COLON  DOM
                self DOT model_container DOT n_lookback  EQUAL  self DOT model DOT get_input_shape_at PARELEFT  PARERIGHT [] DOM
        if self DOT model_container DOT n_lookback is not None COLON  DOM
            X_batches COMMA  y_batches  EQUAL  [] COMMA  [] DOM
            for i in range PARELEFT  PARERIGHT  COLON  DOM
                xbatch  EQUAL  X_train_[] DOM
                ybatch  EQUAL  y_train[] DOM
                X_batches DOT append PARELEFT  PARERIGHT  DOM
                y_batches DOT append PARELEFT  PARERIGHT  DOM
            X_train_  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
            y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        ival  EQUAL  int PARELEFT np DOT floor PARELEFT  PARELEFT  PARERIGHT  * X_train_ DOT shape[] PARERIGHT  PARERIGHT  DOM
        X_val COMMA  y_val  EQUAL  X_train_[] COMMA  y_train[] DOM
        X_train_ COMMA  y_train  EQUAL  X_train_[] COMMA  y_train[] DOM
        callbacks  EQUAL  [] DOM
        if early_stop COLON  DOM
            callbacks  EQUAL  [] DOM
        callbacks DOT append PARELEFT ModelCheckpoint PARELEFT filepath EQUAL os DOT path DOT join PARELEFT  PARERIGHT  COMMA  verbose EQUAL 1 COMMA  save_best_only EQUAL True PARERIGHT  PARERIGHT  DOM
        if self DOT model is None COLON  DOM
            self DOT set_model PARELEFT self DOT model_container DOT build_model PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT fit_res  EQUAL  self DOT model DOT fit PARELEFT X_train_ COMMA  y_train COMMA  epochs EQUAL self DOT nb_epochs COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA erbose EQUAL 2 COMMA  callbacks EQUAL callbacks PARERIGHT  DOM
        if use_best COLON  DOM
            print  QUOTMARK  % self DOT tmp_dir DOM
            self DOT model  EQUAL  load_model PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
        return self DOT fit_res DOM
    def fit PARELEFT  PARERIGHT  COLON  DOM
        try COLON  DOM
            X_train_  EQUAL  self DOT scaler DOT transform PARELEFT  PARERIGHT  DOM
        except AttributeError as e COLON  DOM
            self DOT fit_scaler PARELEFT  PARERIGHT  DOM
            X_train_  EQUAL  self DOT scaler DOT transform PARELEFT  PARERIGHT  DOM
        if getattr PARELEFT  PARERIGHT  is None COLON  DOM
            self DOT model_container DOT n_lookback  EQUAL  None DOM
            if self DOT model is not None and len PARELEFT self DOT model DOT get_input_shape_at PARELEFT  PARERIGHT  PARERIGHT  > 2 COLON  DOM
                self DOT model_container DOT n_lookback  EQUAL  self DOT model DOT get_input_shape_at PARELEFT  PARERIGHT [] DOM
        if self DOT model_container DOT n_lookback is not None COLON  DOM
            X_batches COMMA  y_batches  EQUAL  [] COMMA  [] DOM
            for i in range PARELEFT  PARERIGHT  COLON  DOM
                xbatch  EQUAL  X_train_[] DOM
                ybatch  EQUAL  y_train[] DOM
                X_batches DOT append PARELEFT  PARERIGHT  DOM
                y_batches DOT append PARELEFT  PARERIGHT  DOM
            X_train_  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
            y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        if self DOT model is None COLON  DOM
            self DOT set_model PARELEFT self DOT model_container DOT build_model PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT fit_res  EQUAL  self DOT model DOT fit PARELEFT  PARERIGHT  DOM
        return self DOT fit_res DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        if self DOT model is None COLON  DOM
            self DOT set_model PARELEFT self DOT model_container DOT build_model PARELEFT  PARERIGHT  PARERIGHT  DOM
        X  EQUAL  self DOT scaler DOT transform PARELEFT  PARERIGHT  DOM
        if getattr PARELEFT  PARERIGHT  is None COLON  DOM
            self DOT model_container DOT n_lookback  EQUAL  None DOM
            if self DOT model is not None and len PARELEFT self DOT model DOT get_input_shape_at PARELEFT  PARERIGHT  PARERIGHT  > 2 COLON  DOM
                self DOT model_container DOT n_lookback  EQUAL  self DOT model DOT get_input_shape_at PARELEFT  PARERIGHT [] DOM
        if self DOT model_container DOT n_lookback is not None COLON  DOM
            X_batches  EQUAL  [] DOM
            for i in range PARELEFT  PARERIGHT  COLON  DOM
                xbatch  EQUAL  X[] DOM
                X_batches DOT append PARELEFT  PARERIGHT  DOM
            X  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        y_pred  EQUAL  self DOT model DOT predict PARELEFT  PARERIGHT  DOM
        return y_pred DOT ravel PARELEFT  PARERIGHT  DOM
    def predict_proba PARELEFT  PARERIGHT  COLON  DOM
        pass DOM
    def save_model PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT save PARELEFT  PARERIGHT  DOM
        joblib DOT dump PARELEFT  PARERIGHT  DOM
    @classmethod DOM
    def load_model PARELEFT  PARERIGHT  COLON  DOM
        keras_model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        keras_loss  EQUAL  keras_model DOT loss DOM
        model_inst  EQUAL  cls PARELEFT KerasModelContainer PARELEFT  PARERIGHT  PARERIGHT  DOM
        model_inst DOT scaler  EQUAL  joblib DOT load PARELEFT  PARERIGHT  DOM
        return model_instfrom tensorflow DOT keras DOT layers import LSTM COMMA  GRU DOM
from tensorflow DOT keras DOT models import Sequential DOM
def get_lstm PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT units[] COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_gru PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT GRU PARELEFT units[] COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def _get_sae PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_saes PARELEFT  PARERIGHT  COLON  DOM
    sae2  EQUAL  _get_sae PARELEFT  PARERIGHT  DOM
    sae3  EQUAL  _get_sae PARELEFT  PARERIGHT  DOM
    saes  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    models  EQUAL  [] DOM
    return modelsfrom keras DOT models import Sequential DOM
from keras DOT models import model_from_json DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA   Dropout COMMA  Reshape DOM
from keras DOT layers import Merge COMMA  Lambda DOM
from keras DOT layers DOT merge import _Merge DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT optimizers import Adam  DOM
from keras DOT engine DOT topology import Layer DOM
from sklearn import preprocessing DOM
from sklearn DOT externals import joblib DOM
import numpy as np DOM
import spacy DOM
import tensorflow as tf DOM
config_proto  EQUAL  tf DOT ConfigProto PARELEFT  PARERIGHT  DOM
config_proto DOT gpu_options DOT allow_growth EQUAL True DOM
sess  EQUAL  tf DOT Session PARELEFT  PARERIGHT  DOM
img_dim  EQUAL  2048 DOM
word_vec_dim  EQUAL  300 DOM
max_len  EQUAL  50 DOM
import keras DOT backend as K DOM
_sketch_op  EQUAL  tf DOT load_op_library PARELEFT  PARERIGHT  DOM
class MCB PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT output_dim  EQUAL  output_dim DOM
        self DOT img_dim  EQUAL  2048 DOM
        self DOT word_vec_dim  EQUAL  300 DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
    def build PARELEFT  PARERIGHT  COLON  DOM
        h  EQUAL  self DOT add_weight PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  COMMA  initializer  EQUAL  tf DOT random_uniform_initializer PARELEFT  PARERIGHT  COMMA  trainable  EQUAL  False PARERIGHT  DOM
        self DOT h1  EQUAL  tf DOT cast PARELEFT  PARERIGHT  DOM
        h  EQUAL  self DOT add_weight PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  COMMA  initializer  EQUAL  tf DOT random_uniform_initializer PARELEFT  PARERIGHT  COMMA  trainable  EQUAL  False PARERIGHT  DOM
        self DOT h2  EQUAL  tf DOT cast PARELEFT  PARERIGHT  DOM
        s  EQUAL  self DOT add_weight PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  COMMA  initializer  EQUAL  tf DOT random_uniform_initializer PARELEFT  PARERIGHT  COMMA  trainable  EQUAL  False PARERIGHT  DOM
        s  EQUAL  self DOT add_weight PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  COMMA  initializer  EQUAL  tf DOT random_uniform_initializer PARELEFT  PARERIGHT  COMMA  trainable  EQUAL  False PARERIGHT  DOM
        super PARELEFT  PARERIGHT  DOT build PARELEFT  PARERIGHT  DOM
    def count_sketch PARELEFT  PARERIGHT  COLON  DOM
        with tf DOT variable_scope PARELEFT  QUOTMARK +probs DOT name DOT replace PARELEFT  PARERIGHT  PARERIGHT  as scope COLON  DOM
            input_size  EQUAL  int PARELEFT probs DOT get_shape PARELEFT  PARERIGHT [] PARERIGHT  DOM
            history  EQUAL  tf DOT get_collection PARELEFT  PARERIGHT  DOM
            if scope DOT name in history COLON  DOM
                scope DOT reuse_variables PARELEFT  PARERIGHT  DOM
            tf DOT add_to_collection PARELEFT  PARERIGHT  DOM
        sk  EQUAL  _sketch_op DOT count_sketch PARELEFT  PARERIGHT  DOM
        sk DOT set_shape PARELEFT [] COMMA  project_size] PARERIGHT  DOM
        return sk DOM
    def call PARELEFT  PARERIGHT  COLON  DOM
        p1  EQUAL  self DOT count_sketch PARELEFT  PARERIGHT  DOM
        p2  EQUAL  self DOT count_sketch PARELEFT  PARERIGHT  DOM
        pc1  EQUAL  tf DOT complex PARELEFT p1 COMMA  tf DOT zeros_like PARELEFT  PARERIGHT  PARERIGHT  DOM
        pc2  EQUAL  tf DOT complex PARELEFT p2 COMMA  tf DOT zeros_like PARELEFT  PARERIGHT  PARERIGHT  DOM
        conved  EQUAL  tf DOT ifft PARELEFT tf DOT fft PARELEFT  PARERIGHT  * tf DOT fft PARELEFT  PARERIGHT  PARERIGHT  DOM
        return tf DOT real PARELEFT  PARERIGHT  DOM
    def compute_output_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT  PARERIGHT  DOM
class BOW_QI COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT joint_method  EQUAL  joint_method DOM
        self DOT lr  EQUAL  lr DOM
        self DOT name  EQUAL   QUOTMARK  + self DOT joint_method + str PARELEFT  PARERIGHT 	 DOM
    def build PARELEFT  PARERIGHT  COLON  DOM
        print  QUOTMARK  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if self DOT joint_method  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif self DOT joint_method  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model DOT add PARELEFT MCB PARELEFT output_dim  EQUAL  16000 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif self DOT joint_method  EQUAL  EQUAL   QUOTMARK  COLON  DOM
	    image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            image_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            language_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            language_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
	    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        json_string  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
        open PARELEFT  PARERIGHT  DOT write PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL  Adam PARELEFT  PARERIGHT  COMMA  metrics  EQUAL  [] PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
    def extract_question_feature PARELEFT  PARERIGHT  COLON   DOM
        return nlp PARELEFT  PARERIGHT  DOT vector*len PARELEFT nlp PARELEFT  PARERIGHT  PARERIGHT  DOM
    def train_on_batch PARELEFT  PARERIGHT  COLON  DOM
        if self DOT joint_method ! EQUAL    QUOTMARK  COLON  DOM
            return self DOT model DOT train_on_batch PARELEFT np DOT hstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  A PARERIGHT  DOM
        else COLON  DOM
            return self DOT model DOT train_on_batch PARELEFT  PARERIGHT  DOM
    def save_weights PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT save_weights PARELEFT  PARERIGHT  DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  model_from_json PARELEFT open PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT load_weights PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL  Adam PARELEFT  PARERIGHT  COMMA  metrics  EQUAL  [] PARERIGHT  DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        if self DOT joint_method ! EQUAL    QUOTMARK  COLON  DOM
	    return self DOT model DOT predict_classes PARELEFT np DOT hstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  verbose EQUAL 0 PARERIGHT  DOM
        else COLON  DOM
	    return self DOT model DOT predict_classes PARELEFT  PARERIGHT  DOM
class LSTM_QI COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT joint_method  EQUAL  joint_method DOM
        self DOT lr  EQUAL  lr DOM
        self DOT name  EQUAL   QUOTMARK  + self DOT joint_method + str PARELEFT  PARERIGHT 	 DOM
    def build PARELEFT  PARERIGHT  COLON  DOM
        print  QUOTMARK  DOM
	image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        image_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        image_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	language_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	if num_layers_lstm  EQUAL  EQUAL  1 COLON  DOM
	    language_model DOT add PARELEFT LSTM PARELEFT output_dim  EQUAL  num_hiddens COMMA  return_sequences EQUAL False COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	else COLON  DOM
	    language_model DOT add PARELEFT LSTM PARELEFT output_dim  EQUAL  num_hiddens_lstm COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	    for i in range PARELEFT  PARERIGHT  COLON  DOM
		language_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	    language_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        language_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if self DOT joint_method  EQUAL  EQUAL   QUOTMARK  COLON  DOM
	    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif self DOT joint_method  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT MCB PARELEFT output_dim  EQUAL  16000 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        elif self DOT joint_method  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
	    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        json_string  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
        open PARELEFT  PARERIGHT  DOT write PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL  Adam PARELEFT  PARERIGHT  COMMA  metrics  EQUAL  [] PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
    def extract_question_feature PARELEFT  PARERIGHT  COLON   DOM
	x  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
	tokens  EQUAL  nlp PARELEFT  PARERIGHT  DOM
	for i COMMA  token in enumerate PARELEFT  PARERIGHT  COLON  DOM
	    if i > EQUAL  max_len COLON  DOM
                print  QUOTMARK  DOM
                break DOM
	    x[]  EQUAL  tokens[] DOT vector DOM
        return x DOM
    def train_on_batch PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT train_on_batch PARELEFT  PARERIGHT  DOM
    def save_weights PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT save_weights PARELEFT  PARERIGHT  DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  model_from_json PARELEFT open PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT load_weights PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL  Adam PARELEFT  PARERIGHT  COMMA  metrics  EQUAL  [] PARERIGHT  DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
	return self DOT model DOT predict_classes PARELEFT  PARERIGHT import pandas as pd DOM
import numpy as np DOM
from keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
f EQUAL open PARELEFT  PARERIGHT  DOM
ftest EQUAL open PARELEFT  PARERIGHT  DOM
lines EQUAL f DOT readlines PARELEFT  PARERIGHT  DOM
lines_test EQUAL ftest DOT readlines PARELEFT  PARERIGHT  DOM
type PARELEFT  PARERIGHT  DOM
type PARELEFT  PARERIGHT  DOM
for i in range PARELEFT 0 COMMA len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
    lines[] EQUAL lines[] DOT split PARELEFT  PARERIGHT  DOM
for j in range PARELEFT 0 COMMA len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
s EQUAL [] ! EQUAL  QUOTMARK   ] DOM
s DOM
dftest EQUAL pd DOT DataFrame PARELEFT  PARERIGHT  DOM
y_train EQUAL df DOT iloc[] DOM
test_txt EQUAL dftest DOT iloc[] DOM
y_test EQUAL dftest DOT iloc[] DOM
token  EQUAL  Tokenizer PARELEFT  PARERIGHT   DOM
token DOT fit_on_texts PARELEFT  PARERIGHT    DOM
A EQUAL token DOT word_index DOM
x_train_seq  EQUAL  token DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
x_test_seq  EQUAL  token DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA Dropout COMMA Activation COMMA Flatten DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import SimpleRNN DOM
modelRNN DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
modelRNN DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
modelRNN DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelRNN DOT summary PARELEFT  PARERIGHT  DOM
modelRNN DOT compile PARELEFT  PARERIGHT   DOM
train_history1_1  EQUAL  modelRNN DOT fit PARELEFT  PARERIGHT  DOM
scores1_1  EQUAL  modelRNN DOT evaluate PARELEFT  PARERIGHT  DOM
scores1_1[] DOM
print PARELEFT train_history1_1 DOT history DOT keys PARELEFT  PARERIGHT  PARERIGHT  DOM
train_history1_1 DOT history DOT values PARELEFT  PARERIGHT  DOM
modelRNN1 DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
modelRNN1 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
modelRNN1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
modelRNN1 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelRNN1 DOT summary PARELEFT  PARERIGHT  DOM
modelRNN1 DOT compile PARELEFT  PARERIGHT   DOM
train_history1_2  EQUAL  modelRNN1 DOT fit PARELEFT  PARERIGHT  DOM
scores1_2  EQUAL  modelRNN1 DOT evaluate PARELEFT  PARERIGHT  DOM
scores1_2[] DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA Dropout COMMA Activation COMMA Flatten DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import History  DOM
history  EQUAL  History PARELEFT  PARERIGHT  DOM
modelLSTM  EQUAL  Sequential PARELEFT  PARERIGHT   DOM
modelLSTM DOT add PARELEFT Embedding  PARELEFT  PARERIGHT  PARERIGHT       DOM
modelLSTM DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
modelLSTM  DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
modelLSTM  DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM  DOT summary PARELEFT  PARERIGHT  DOM
modelLSTM DOT compile PARELEFT  PARERIGHT   DOM
train_history2_1  EQUAL  modelLSTM DOT fit PARELEFT  PARERIGHT  DOM
scores2_1  EQUAL  modelLSTM  DOT evaluate PARELEFT  PARERIGHT  DOM
scores2_1[] DOM
modelLSTM1  EQUAL  Sequential PARELEFT  PARERIGHT   DOM
modelLSTM1 DOT add PARELEFT Embedding  PARELEFT  PARERIGHT  PARERIGHT       DOM
modelLSTM1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
modelLSTM1  DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
modelLSTM1  DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM1  DOT summary PARELEFT  PARERIGHT  DOM
modelLSTM1 DOT compile PARELEFT  PARERIGHT   DOM
train_history2_2  EQUAL  modelLSTM1 DOT fit PARELEFT  PARERIGHT  DOM
scores2_2  EQUAL  modelLSTM1  DOT evaluate PARELEFT  PARERIGHT  DOM
scores2_2[] DOM
train_history1_1 DOT history DOT values PARELEFT  PARERIGHT  DOM
train_history1_1 DOT history DOT keys PARELEFT  PARERIGHT  DOM
train_history1_1 DOT history[] DOM
train_history1_1 DOT history[] DOM
train_history1_1 DOT history[] DOM
train_history1_1 DOT history[] DOM
train_history1_2 DOT history DOT values PARELEFT  PARERIGHT  DOM
train_history2_1 DOT history DOT values PARELEFT  PARERIGHT  DOM
train_history2_2 DOT history DOT values PARELEFT  PARERIGHT  DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
graphpath EQUAL  QUOTMARK  DOM
x  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
y1  EQUAL  train_history1_1 DOT history[] DOM
y2  EQUAL  train_history1_1 DOT history[] DOM
y  EQUAL  np DOT column_stack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT figure PARELEFT  PARERIGHT ; plt DOT clf PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  QUOTMARK  PARERIGHT  DOM
plt DOT savefig PARELEFT graphpath+ QUOTMARK  PARERIGHT  DOM
x  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
y1  EQUAL  train_history1_1 DOT history[] DOM
y2  EQUAL  train_history1_1 DOT history[] DOM
y  EQUAL  np DOT column_stack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT figure PARELEFT  PARERIGHT ; plt DOT clf PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  QUOTMARK  PARERIGHT  DOM
plt DOT savefig PARELEFT graphpath+ QUOTMARK  PARERIGHT  DOM
x  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
y1  EQUAL  train_history1_2 DOT history[] DOM
y2  EQUAL  train_history1_2 DOT history[] DOM
y  EQUAL  np DOT column_stack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT figure PARELEFT  PARERIGHT ; plt DOT clf PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  QUOTMARK  PARERIGHT  DOM
plt DOT savefig PARELEFT graphpath+ QUOTMARK  PARERIGHT  DOM
x  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
y1  EQUAL  train_history1_2 DOT history[] DOM
y2  EQUAL  train_history1_2 DOT history[] DOM
y  EQUAL  np DOT column_stack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT figure PARELEFT  PARERIGHT ; plt DOT clf PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  QUOTMARK  PARERIGHT  DOM
plt DOT savefig PARELEFT graphpath+ QUOTMARK  PARERIGHT  DOM
x  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
y1  EQUAL  train_history2_1 DOT history[] DOM
y2  EQUAL  train_history2_1 DOT history[] DOM
y  EQUAL  np DOT column_stack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT figure PARELEFT  PARERIGHT ; plt DOT clf PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  QUOTMARK  PARERIGHT  DOM
plt DOT savefig PARELEFT graphpath+ QUOTMARK  PARERIGHT  DOM
x  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
y1  EQUAL  train_history2_1 DOT history[] DOM
y2  EQUAL  train_history2_1 DOT history[] DOM
y  EQUAL  np DOT column_stack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT figure PARELEFT  PARERIGHT ; plt DOT clf PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  QUOTMARK  PARERIGHT  DOM
plt DOT savefig PARELEFT graphpath+ QUOTMARK  PARERIGHT  DOM
x  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
y1  EQUAL  train_history2_2 DOT history[] DOM
y2  EQUAL  train_history2_2 DOT history[] DOM
y  EQUAL  np DOT column_stack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT figure PARELEFT  PARERIGHT ; plt DOT clf PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  QUOTMARK  PARERIGHT  DOM
plt DOT savefig PARELEFT graphpath+ QUOTMARK  PARERIGHT  DOM
x  EQUAL  list PARELEFT range PARELEFT  PARERIGHT  PARERIGHT  DOM
y1  EQUAL  train_history2_2 DOT history[] DOM
y2  EQUAL  train_history2_2 DOT history[] DOM
y  EQUAL  np DOT column_stack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT figure PARELEFT  PARERIGHT ; plt DOT clf PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  QUOTMARK  PARERIGHT  DOM
plt DOT savefig PARELEFT graphpath+ QUOTMARK  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
lines[] DOM
a EQUAL lines[] DOT split PARELEFT  PARERIGHT  DOM
for i in range PARELEFT  PARERIGHT  COLON  DOM
     EQUAL lines[] DOT split PARELEFT  PARERIGHT  DOM
big EQUAL lines DOT split PARELEFT  PARERIGHT  DOM
a EQUAL [] DOM
for line in f COLON  DOM
    a DOT append PARELEFT  PARERIGHT  DOM
for  DOM
for i in rane    DOM
for i in lines COLON  DOM
    a DOT append PARELEFT  PARERIGHT  DOM
A EQUAL [] DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import SGD DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from keras DOT utils DOT visualize_util import model_to_dot DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Activation DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Merge DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Convolution2D DOM
from keras DOT layers import MaxPooling2D DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import GRU DOM
from keras DOT layers import RepeatVector DOM
from keras DOT layers import TimeDistributed DOM
def model_binary PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    labels  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def model_multiple PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    labels  EQUAL  np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    labels  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def model_merged PARELEFT  PARERIGHT  COLON  DOM
    left_branch  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    left_branch DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    right_branch  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    right_branch DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    merged  EQUAL  Merge PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    data_left  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    data_right  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    labels  EQUAL  np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    labels  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def model_mlp PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def model_vggnet PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT  3 COMMA  border_mode EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def model_image_caption PARELEFT  PARERIGHT  COLON  DOM
    max_caption_len  EQUAL  16 DOM
    vocab_size  EQUAL  10000 DOM
    image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    image_model DOT add PARELEFT Convolution2D PARELEFT  3 COMMA  border_mode EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    language_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    language_model DOT add PARELEFT bedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    language_model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    language_model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    image_model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def model_lstm PARELEFT  PARERIGHT  COLON  DOM
    max_len  EQUAL  10 DOM
    max_features  EQUAL  10000 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def model_lstm_stacked PARELEFT  PARERIGHT  COLON  DOM
    data_dim  EQUAL  16 DOM
    timesteps  EQUAL  8 DOM
    nb_classes  EQUAL  10 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    train_data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_labels  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    val_data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    val_labels  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT in_data COMMA  train_labels COMMA  batch_size EQUAL 64 COMMA  nb_epoch EQUAL 5 COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def model_lstm_stateful PARELEFT  PARERIGHT  COLON  DOM
    data_dim  EQUAL  16 DOM
    timesteps  EQUAL  8 DOM
    nb_classes  EQUAL  10 DOM
    batch_size  EQUAL  32 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 32 COMMA  return_sequences EQUAL True COMMA  stateful EQUAL True COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    train_data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_labels  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    val_data  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    val_labels  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT in_data COMMA  train_labels COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL 5 COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def model_lstm_merged PARELEFT  PARERIGHT  COLON  DOM
    data_dim  EQUAL  16 DOM
    timesteps  EQUAL  8 DOM
    nb_classes  EQUAL  10 DOM
    encoder_left  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    encoder_left DOT add PARELEFT LSTM PARELEFT 32 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    encoder_right  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    encoder_right DOT add PARELEFT LSTM PARELEFT 32 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    train_data_left  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_data_right  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_labels  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    val_data_left  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    val_data_right  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    val_labels  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT rain_data_left COMMA  train_data_right] COMMA  train_labels COMMA atch_size EQUAL 64 COMMA  nb_epoch EQUAL 5 COMMA lidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def viz_model PARELEFT  PARERIGHT  COLON  DOM
    dot  EQUAL  model_to_dot PARELEFT  PARERIGHT  DOM
    dot DOT write_pdf PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    model  EQUAL  model_binary PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_multiple PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_merged PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_mlp PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_vggnet PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_image_caption PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_lstm PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_lstm_stacked PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_lstm_stateful PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT  DOM
    model  EQUAL  model_lstm_merged PARELEFT  PARERIGHT  DOM
    viz_model PARELEFT  PARERIGHT from __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  5 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT   DOM
import numpy as np DOM
import pandas as pd DOM
from process import get_price_inputs COMMA  Trainer DOM
from lambo DOT transformations import range_deviation_ema DOM
from lstm_categorical_rgd import LSTMTrainer COMMA  INPUT_DIM DOM
from common import training_files COMMA  test_files DOM
import copy DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
from keras DOT models import load_model DOM
labels  EQUAL  [] DOM
EPOCHS_ARR  EQUAL  range PARELEFT  PARERIGHT  DOM
BATCH_SIZE  EQUAL  128 DOM
ofile  EQUAL  open PARELEFT  PARERIGHT  DOM
for EPOCHS in EPOCHS_ARR COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 32 COMMA  return_sequences EQUAL True COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    trainer  EQUAL  LSTMTrainer PARELEFT  PARERIGHT  DOM
    trainer DOT train PARELEFT  PARERIGHT  DOM
    score COMMA  acc  EQUAL  trainer DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    ofile DOT write PARELEFT  QUOTMARK % PARELEFT  PARERIGHT  PARERIGHT  DOM
    ofile DOT flush PARELEFT  PARERIGHT  DOM
import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  Dropout DOM
from keras import backend as K DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  LSTM_model DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense COMMA  Embedding DOM
number_of_hidden_units_LSTM  EQUAL  512 DOM
max_length_questions  EQUAL  54 DOM
word_feature_size  EQUAL  300 DOM
nb_classes  EQUAL  430 DOM
def model PARELEFT  PARERIGHT  COLON  DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_image DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Conv1D DOM
from keras DOT layers import MaxPooling1D DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Dropout DOM
from keras DOT models import load_model DOM
from keras DOT utils import plot_model DOM
from prepare_data import PrepareData as prep_data DOM
class Models COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        if model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT lstm_model PARELEFT  PARERIGHT  DOM
        if model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            self DOT cnn_model PARELEFT  PARERIGHT  DOM
    def get_history PARELEFT  PARERIGHT  COLON  DOM
        return self DOT history DOM
    def lstm_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 100 COMMA  nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA ctivation EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        plot_model PARELEFT  PARERIGHT  DOM
    def cnn_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT 32 COMMA  kernel_size EQUAL 2 COMMA  strides EQUAL 1 COMMA  activation EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        history  EQUAL  model DOT fit PARELEFT train_X COMMA  train_y COMMA  epochs EQUAL 10 COMMA lidation_data EQUAL  PARELEFT  PARERIGHT  COMMA  batch_size EQUAL 10 COMMA erbose EQUAL 2 COMMA  shuffle EQUAL False PARERIGHT  DOM
        self DOT history  EQUAL  history DOM
        model DOT save PARELEFT  PARERIGHT  DOM
        import os DOM
import re DOM
import tarfile DOM
import requests DOM
from pugnlp DOT futil import path_status COMMA  find_files DOM
BIG_URLS  EQUAL  { DOM
     QUOTMARK  COLON   PARELEFT  PARERIGHT  COMMA  DOM
     QUOTMARK  COLON   PARELEFT  PARERIGHT  COMMA  DOM
     QUOTMARK  COLON   PARELEFT  PARERIGHT  COMMA  DOM
     QUOTMARK  COLON   PARELEFT  PARERIGHT  COMMA  DOM
     QUOTMARK  COLON   PARELEFT  PARERIGHT  COMMA  DOM
} DOM
def dropbox_basename PARELEFT  PARERIGHT  COLON  DOM
    filename  EQUAL  os DOT path DOT basename PARELEFT  PARERIGHT  DOM
    match  EQUAL  re DOT findall PARELEFT  PARERIGHT  DOM
    if match COLON  DOM
        return filename[] DOM
    return filename DOM
def download_file PARELEFT  PARERIGHT  COLON  DOM
    if filename is None COLON  DOM
        filename  EQUAL  dropbox_basename PARELEFT  PARERIGHT  DOM
    file_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    if url DOT endswith PARELEFT  PARERIGHT  COLON  DOM
    if verbose COLON  DOM
        tqdm_prog  EQUAL  tqdm DOM
        print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        tqdm_prog  EQUAL  no_tqdm DOM
    r  EQUAL  requests DOT get PARELEFT  PARERIGHT  DOM
    size  EQUAL  r DOT headers DOT get PARELEFT  PARERIGHT  if size is None else size DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    stat  EQUAL  path_status PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT stat DOT get PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        r DOT close PARELEFT  PARERIGHT  DOM
        return file_path DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    with open PARELEFT  PARERIGHT  as f COLON  DOM
        for chunk in r DOT iter_content PARELEFT  PARERIGHT  COLON  DOM
                f DOT write PARELEFT  PARERIGHT  DOM
    r DOT close PARELEFT  PARERIGHT  DOM
    return file_path DOM
def untar PARELEFT  PARERIGHT  COLON  DOM
    if fname DOT endswith PARELEFT  PARERIGHT  COLON  DOM
        with tarfile DOT open PARELEFT  PARERIGHT  as tf COLON  DOM
            tf DOT extractall PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
maxlen  EQUAL  400 DOM
batch_size  EQUAL  32 DOM
embedding_dims  EQUAL  300 DOM
epochs  EQUAL  2 DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten COMMA  LSTM DOM
num_neurons  EQUAL  50 DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT num_neurons COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
import glob DOM
import os DOM
from random import shuffle DOM
def pre_process_data PARELEFT  PARERIGHT  COLON  DOM
    negative_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT  DOM
    pos_label  EQUAL  1 DOM
    neg_label  EQUAL  0 DOM
    dataset  EQUAL  [] DOM
    for filename in glob DOT glob PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            dataset DOT append PARELEFT  PARELEFT pos_label COMMA  f DOT read PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    for filename in glob DOT glob PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            dataset DOT append PARELEFT  PARELEFT neg_label COMMA  f DOT read PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    shuffle PARELEFT  PARERIGHT  DOM
    return dataset DOM
from nltk DOT tokenize import TreebankWordTokenizer DOM
from gensim DOT models import KeyedVectors DOM
word_vectors  EQUAL  KeyedVectors DOT load_word2vec_format PARELEFT  PARERIGHT  DOM
def tokenize_and_vectorize PARELEFT  PARERIGHT  COLON  DOM
    tokenizer  EQUAL  TreebankWordTokenizer PARELEFT  PARERIGHT  DOM
    vectorized_data  EQUAL  [] DOM
    expected  EQUAL  [] DOM
    for sample in dataset COLON  DOM
        tokens  EQUAL  tokenizer DOT tokenize PARELEFT  PARERIGHT  DOM
        sample_vecs  EQUAL  [] DOM
        for token in tokens COLON  DOM
            try COLON  DOM
                sample_vecs DOT append PARELEFT  PARERIGHT  DOM
            except KeyError COLON  DOM
        vectorized_data DOT append PARELEFT  PARERIGHT  DOM
    return vectorized_data DOM
def collect_expected PARELEFT  PARERIGHT  COLON  DOM
    expected  EQUAL  [] DOM
    for sample in dataset COLON  DOM
        expected DOT append PARELEFT  PARERIGHT  DOM
    return expected DOM
def pad_trunc PARELEFT  PARERIGHT  COLON  DOM
    new_data  EQUAL  [] DOM
    zero_vector  EQUAL  [] DOM
    for _ in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        zero_vector DOT append PARELEFT  PARERIGHT  DOM
    for sample in data COLON  DOM
        if len PARELEFT  PARERIGHT  > maxlen COLON  DOM
            temp  EQUAL  sample[] DOM
        elif len PARELEFT  PARERIGHT  < maxlen COLON  DOM
            temp  EQUAL  sample DOM
            additional_elems  EQUAL  maxlen - len PARELEFT  PARERIGHT  DOM
            for _ in range PARELEFT  PARERIGHT  COLON  DOM
                temp DOT append PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            temp  EQUAL  sample DOM
        new_data DOT append PARELEFT  PARERIGHT  DOM
    return new_data DOM
import numpy as np DOM
dataset  EQUAL  pre_process_data PARELEFT  PARERIGHT  DOM
vectorized_data  EQUAL  tokenize_and_vectorize PARELEFT  PARERIGHT  DOM
expected  EQUAL  collect_expected PARELEFT  PARERIGHT  DOM
split_point  EQUAL  int PARELEFT len PARELEFT  PARERIGHT  *  DOT 8 PARERIGHT  DOM
x_train  EQUAL  vectorized_data[] DOM
y_train  EQUAL  expected[] DOM
x_test  EQUAL  vectorized_data[] DOM
y_test  EQUAL  expected[] DOM
maxlen  EQUAL  400 DOM
epochs  EQUAL  2 DOM
x_train  EQUAL  pad_trunc PARELEFT  PARERIGHT  DOM
x_test  EQUAL  pad_trunc PARELEFT  PARERIGHT  DOM
x_train  EQUAL  np DOT reshape PARELEFT x_train COMMA   PARELEFT len PARELEFT  PARERIGHT  COMMA  maxlen COMMA  embedding_dims PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
x_test  EQUAL  np DOT reshape PARELEFT x_test COMMA   PARELEFT len PARELEFT  PARERIGHT  COMMA  maxlen COMMA  embedding_dims PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten COMMA  LSTM DOM
num_neurons  EQUAL  50 DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT num_neurons COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model_structure  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as json_file COLON  DOM
    json_file DOT write PARELEFT  PARERIGHT  DOM
model DOT save_weights PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT models import model_from_json DOM
with open PARELEFT  PARERIGHT  as json_file COLON  DOM
    json_string  EQUAL  json_file DOT read PARELEFT  PARERIGHT  DOM
model  EQUAL  model_from_json PARELEFT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
sample_1  EQUAL   QUOTMARK m hate that the dismal weather that had me down for so long COMMA  when will it break! Ugh COMMA  when does happiness return?  The sun is blinding and the puffy clouds are too thin DOT   I can QUOTMARK  DOM
vec_list  EQUAL  tokenize_and_vectorize PARELEFT [] PARERIGHT  DOM
test_vec_list  EQUAL  pad_trunc PARELEFT  PARERIGHT  DOM
test_vec  EQUAL  np DOT reshape PARELEFT test_vec_list COMMA   PARELEFT len PARELEFT  PARERIGHT  COMMA  maxlen COMMA  embedding_dims PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK s sentiment COMMA  1 - pos COMMA  2 - neg  COLON  {}" DOT format PARELEFT model DOT predict_classes PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
def test_len PARELEFT  PARERIGHT  COLON  DOM
    total_len  EQUAL  truncated  EQUAL  exact  EQUAL  padded  EQUAL  0 DOM
    for sample in data COLON  DOM
        total_len + EQUAL  len PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT  > maxlen COLON  DOM
            truncated + EQUAL  1 DOM
        elif len PARELEFT  PARERIGHT  < maxlen COLON  DOM
            padded + EQUAL  1 DOM
        else COLON  DOM
            exact + EQUAL  1  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT total_len / len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
dataset  EQUAL  pre_process_data PARELEFT  PARERIGHT  DOM
vectorized_data  EQUAL  tokenize_and_vectorize PARELEFT  PARERIGHT  DOM
test_len PARELEFT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten COMMA  LSTM DOM
maxlen  EQUAL  200 DOM
epochs  EQUAL  2 DOM
dataset  EQUAL  pre_process_data PARELEFT  PARERIGHT  DOM
vectorized_data  EQUAL  tokenize_and_vectorize PARELEFT  PARERIGHT  DOM
expected  EQUAL  collect_expected PARELEFT  PARERIGHT  DOM
split_point  EQUAL  int PARELEFT len PARELEFT  PARERIGHT  *  DOT 8 PARERIGHT  DOM
x_train  EQUAL  vectorized_data[] DOM
y_train  EQUAL  expected[] DOM
x_test  EQUAL  vectorized_data[] DOM
y_test  EQUAL  expected[] DOM
x_train  EQUAL  pad_trunc PARELEFT  PARERIGHT  DOM
x_test  EQUAL  pad_trunc PARELEFT  PARERIGHT  DOM
x_train  EQUAL  np DOT reshape PARELEFT x_train COMMA   PARELEFT len PARELEFT  PARERIGHT  COMMA  maxlen COMMA  embedding_dims PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
x_test  EQUAL  np DOT reshape PARELEFT x_test COMMA   PARELEFT len PARELEFT  PARERIGHT  COMMA  maxlen COMMA  embedding_dims PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
num_neurons  EQUAL  50 DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT num_neurons COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model_structure  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as json_file COLON  DOM
    json_file DOT write PARELEFT  PARERIGHT  DOM
model DOT save_weights PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
dataset  EQUAL  pre_process_data PARELEFT  PARERIGHT  DOM
expected  EQUAL  collect_expected PARELEFT  PARERIGHT  DOM
def avg_len PARELEFT  PARERIGHT  COLON  DOM
    total_len  EQUAL  0 DOM
    for sample in data COLON  DOM
        total_len + EQUAL  len PARELEFT  PARERIGHT  DOM
    print PARELEFT total_len / len PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT avg_len PARELEFT  PARERIGHT  PARERIGHT  DOM
def clean_data PARELEFT  PARERIGHT  COLON  DOM
    new_data  EQUAL  [] DOM
    VALID  EQUAL   QUOTMARK \ QUOTMARK  DOM
    for sample in data COLON  DOM
        new_sample  EQUAL  [] DOM
            if char in VALID COLON  DOM
                new_sample DOT append PARELEFT  PARERIGHT  DOM
            else COLON  DOM
                new_sample DOT append PARELEFT  PARERIGHT  DOM
        new_data DOT append PARELEFT  PARERIGHT  DOM
    return new_data DOM
listified_data  EQUAL  clean_data PARELEFT  PARERIGHT  DOM
def char_pad_trunc PARELEFT  PARERIGHT  COLON  DOM
    new_dataset  EQUAL  [] DOM
    for sample in data COLON  DOM
        if len PARELEFT  PARERIGHT  > maxlen COLON  DOM
            new_data  EQUAL  sample[] DOM
        elif len PARELEFT  PARERIGHT  < maxlen COLON  DOM
            pads  EQUAL  maxlen - len PARELEFT  PARERIGHT  DOM
            new_data  EQUAL  sample + [] * pads DOM
        else COLON  DOM
            new_data  EQUAL  sample DOM
        new_dataset DOT append PARELEFT  PARERIGHT  DOM
    return new_dataset DOM
maxlen  EQUAL  1500 DOM
def create_dicts PARELEFT  PARERIGHT  COLON  DOM
    chars  EQUAL  set PARELEFT  PARERIGHT  DOM
    for sample in data COLON  DOM
        chars DOT update PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  DOM
    char_indices  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
    indices_char  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
    return char_indices COMMA  indices_char DOM
import numpy as np DOM
def onehot_encode PARELEFT  PARERIGHT  COLON  DOM
    for i COMMA  sentence in enumerate PARELEFT  PARERIGHT  COLON  DOM
        for t COMMA  char in enumerate PARELEFT  PARERIGHT  COLON  DOM
            X[]]  EQUAL  1 DOM
    return X DOM
dataset  EQUAL  pre_process_data PARELEFT  PARERIGHT  DOM
expected  EQUAL  collect_expected PARELEFT  PARERIGHT  DOM
listified_data  EQUAL  clean_data PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  1500 DOM
common_length_data  EQUAL  char_pad_trunc PARELEFT  PARERIGHT  DOM
char_indices COMMA  indices_char  EQUAL  create_dicts PARELEFT  PARERIGHT  DOM
encoded_data  EQUAL  onehot_encode PARELEFT  PARERIGHT  DOM
split_point  EQUAL  int PARELEFT len PARELEFT  PARERIGHT  *  DOT 8 PARERIGHT  DOM
x_train  EQUAL  encoded_data[] DOM
y_train  EQUAL  expected[] DOM
x_test  EQUAL  encoded_data[] DOM
y_test  EQUAL  expected[] DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Embedding COMMA  Flatten COMMA  LSTM DOM
num_neurons  EQUAL  40 DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT num_neurons COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT maxlen COMMA  len PARELEFT char_indices DOT keys PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  32 DOM
epochs  EQUAL  10 DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model_structure  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as json_file COLON  DOM
    json_file DOT write PARELEFT  PARERIGHT  DOM
model DOT save_weights PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from nltk DOT corpus import gutenberg DOM
print PARELEFT gutenberg DOT fileids PARELEFT  PARERIGHT  PARERIGHT  DOM
text  EQUAL   QUOTMARK  DOM
for txt in gutenberg DOT fileids PARELEFT  PARERIGHT  COLON  DOM
    if  QUOTMARK  in txt COLON  DOM
        text + EQUAL  gutenberg DOT raw PARELEFT  PARERIGHT  DOT lower PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  DOM
chars  EQUAL  sorted PARELEFT list PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  DOM
char_indices  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
indices_char  EQUAL  dict PARELEFT  PARELEFT  PARERIGHT  for i COMMA  c in enumerate PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  40 DOM
step  EQUAL  3 DOM
sentences  EQUAL  [] DOM
next_chars  EQUAL  [] DOM
for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - maxlen COMMA  step PARERIGHT  COLON  DOM
    sentences DOT append PARELEFT  PARERIGHT  DOM
    next_chars DOT append PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
X  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  maxlen COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COMMA  dtype EQUAL np DOT bool PARERIGHT  DOM
y  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COMMA  dtype EQUAL np DOT bool PARERIGHT  DOM
for i COMMA  sentence in enumerate PARELEFT  PARERIGHT  COLON  DOM
    for t COMMA  char in enumerate PARELEFT  PARERIGHT  COLON  DOM
        X[]]  EQUAL  1 DOM
    y[]]]  EQUAL  1 DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation DOM
from keras DOT layers import LSTM DOM
from keras DOT optimizers import RMSprop DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT maxlen COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
epochs  EQUAL  6 DOM
batch_size  EQUAL  128 DOM
model_structure  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as json_file COLON  DOM
    json_file DOT write PARELEFT  PARERIGHT  DOM
for i in range PARELEFT  PARERIGHT  COLON  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    model DOT save_weights PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
from keras DOT models import model_from_json DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    model_json  EQUAL  f DOT read PARELEFT  PARERIGHT  DOM
model  EQUAL  model_from_json PARELEFT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
import random DOM
def sample PARELEFT  PARERIGHT  COLON  DOM
    preds  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
    preds  EQUAL  np DOT log PARELEFT  PARERIGHT  / temperature DOM
    exp_preds  EQUAL  np DOT exp PARELEFT  PARERIGHT  DOM
    preds  EQUAL  exp_preds / np DOT sum PARELEFT  PARERIGHT  DOM
    probas  EQUAL  np DOT random DOT multinomial PARELEFT  PARERIGHT  DOM
    return np DOT argmax PARELEFT  PARERIGHT  DOM
import sys DOM
start_index  EQUAL  random DOT randint PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - maxlen - 1 PARERIGHT  DOM
for diversity in [] COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    generated  EQUAL   QUOTMARK  DOM
    sentence  EQUAL  text[] DOM
    generated + EQUAL  sentence DOM
    print PARELEFT  PARERIGHT  DOM
    sys DOT stdout DOT write PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        x  EQUAL  np DOT zeros PARELEFT  PARELEFT 1 COMMA  maxlen COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        for t COMMA  char in enumerate PARELEFT  PARERIGHT  COLON  DOM
            x[]]  EQUAL  1 DOT  DOM
        preds  EQUAL  model DOT predict PARELEFT  PARERIGHT [] DOM
        next_index  EQUAL  sample PARELEFT  PARERIGHT  DOM
        next_char  EQUAL  indices_char[] DOM
        generated + EQUAL  next_char DOM
        sentence  EQUAL  sentence[] + next_char DOM
        sys DOT stdout DOT write PARELEFT  PARERIGHT  DOM
        sys DOT stdout DOT flush PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import GRU DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy as np DOM
import h5py as h5 DOM
from sklearn import manifold DOM
import os DOM
import datetime  DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Merge COMMA  Reshape DOM
from keras DOT regularizers import l2 COMMA  activity_l2 COMMA  l1 COMMA  activity_l1 DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
os DOT chdir PARELEFT  PARERIGHT  DOM
with h5 DOT File PARELEFT  PARERIGHT  as f1 COLON  DOM
	video_train  EQUAL  f1[][] DOT transpose PARELEFT  PARERIGHT  DOM
	audio_train  EQUAL  f1[][] DOT transpose PARELEFT  PARERIGHT  DOM
	label_train  EQUAL  f1[][] DOT transpose PARELEFT  PARERIGHT  DOM
	label_train  EQUAL  label_train DOT squeeze PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
with h5 DOT File PARELEFT  PARERIGHT  as f2 COLON  DOM
	video_test  EQUAL  f2[][] DOT transpose PARELEFT  PARERIGHT  DOM
	audio_test  EQUAL  f2[][] DOT transpose PARELEFT  PARERIGHT  DOM
	label_test  EQUAL  f2[][] DOT transpose PARELEFT  PARERIGHT  DOM
	label_test  EQUAL  label_test DOT squeeze PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
X_test  EQUAL  np DOT hstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  label_train DOM
y_test  EQUAL  label_test DOM
y_train  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
y_test  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
mlp  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
mlp DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
mlp DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
mlp DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
mlp DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
mlp DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT  PARERIGHT  DOM
lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm DOT add PARELEFT LSTM PARELEFT output_dim EQUAL 150 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT  PARERIGHT  DOM
clas  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
clas DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
clas DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
clas DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
clas DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
clas DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
clas DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
clas DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
clas DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL 32 COMMA  nb_epoch EQUAL 3000 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT from keras DOT layers DOT core import Dense COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
from keras import optimizers DOM
from keras DOT utils import plot_model DOM
import os DOM
import warnings DOM
def lstm_2 PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL optimizers DOT rmsprop PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  model_name DOM
def lstm_1 PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL optimizers DOT rmsprop PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model COMMA  model_name DOM
def lstm_bp PARELEFT  PARERIGHT  COLON  DOM
    model_name  EQUAL   QUOTMARK  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT optimizer EQUAL optimizers DOT rmsprop PARELEFT  PARERIGHT  COMMA  loss EQUAL  QUOTMARK  PARERIGHT  DOM
    return model COMMA  model_name DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    layer_out  EQUAL  [] DOM
    input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    model COMMA model_name EQUAL  lstm_bp PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    plot_model PARELEFT  PARERIGHT from __future__ import print_function DOM
from keras import optimizers DOM
from keras DOT layers import Dense COMMA  Input COMMA  Embedding COMMA  TimeDistributed COMMA  GlobalMaxPooling1D COMMA  Bidirectional\ DOM
      COMMA  RepeatVector COMMA  Conv1D COMMA  LSTM DOM
from keras DOT models import Model COMMA  Sequential DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT convolutional import Conv2D COMMA  MaxPooling2D DOM
from keras DOT layers import Flatten COMMA  Lambda DOM
from keras DOT layers DOT core import Dropout COMMA  Activation COMMA  Permute DOM
from keras DOT layers DOT merge import concatenate COMMA  multiply DOM
from keras import backend as K DOM
import numpy as np DOM
def mlp1 PARELEFT  PARERIGHT  COLON  DOM
    feature_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL optimizers DOT RMSprop PARELEFT  PARERIGHT  COMMA  metrics EQUAL [] PARERIGHT  DOM
    return model DOM
def cnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL optimizers DOT RMSprop PARELEFT  PARERIGHT  COMMA  metrics EQUAL [] PARERIGHT  DOM
    return model DOM
def BiLSTM_Attention PARELEFT  PARERIGHT  COLON  DOM
    char_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    char_embedding  EQUAL  Embedding PARELEFT input_dim EQUAL sourcecharsize COMMA  output_dim EQUAL char_emd_dim COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA mask_zero EQUAL False COMMA trainable EQUAL True COMMA weights EQUAL [] PARERIGHT  DOM
    char_embedding2  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    char_cnn  EQUAL  TimeDistributed PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    char_macpool  EQUAL  TimeDistributed PARELEFT GlobalMaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    char_macpool  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    word_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    word_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    word_embedding  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    embedding  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
    BiLSTM0  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    BiLSTM0  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    BiLSTM  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    BiLSTM  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  RepeatVector PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Permute PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    representation  EQUAL  multiply PARELEFT  PARERIGHT  DOM
    representation  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    representation  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    representation  EQUAL  Lambda PARELEFT lambda xin COLON  K DOT sum PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    Models  EQUAL  Model PARELEFT  PARERIGHT  DOM
    Models DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL optimizers DOT RMSprop PARELEFT  PARERIGHT  COMMA  metrics EQUAL [] PARERIGHT  DOM
    return Models DOM
def lstm_attention_model PARELEFT  PARERIGHT  COLON  DOM
    input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    embedding  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    BiLSTM0  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    BiLSTM0  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    BiLSTM  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    BiLSTM  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  RepeatVector PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    attention  EQUAL  Permute PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    representation  EQUAL  multiply PARELEFT  PARERIGHT  DOM
    representation  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    representation  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    representation  EQUAL  Lambda PARELEFT lambda xin COLON  K DOT sum PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL optimizers DOT RMSprop PARELEFT  PARERIGHT  COMMA  metrics EQUAL [] PARERIGHT  DOM
    return model DOM
def lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_mul_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_mul_model_all PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    batch_size  EQUAL  128 DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import GlobalAveragePooling1D DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def LSTM_Dropout_Sentence_Classifier PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def CNN_LSTM_Sentence_Classifier PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def CNN_Sentence_Classifier PARELEFT  PARERIGHT  COLON  DOM
    seq_length  EQUAL  max_review_length DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT 64 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT      DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model DOM
def Stacked_LSTM_Sentence_Classifier PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT layers import Dropout DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
from collections import deque DOM
import sys DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        if self DOT nb_classes > EQUAL  10 COLON  DOM
            metrics DOT append PARELEFT  PARERIGHT  DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lrcn PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT mlp PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT conv_3d PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT c3d PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def lrcn PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA tivation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA ernel_initializer EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Conv2D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def mlp PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def conv_3d PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def c3d PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  COMMA input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA  3 COMMA  3 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  COMMA bsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT ZeroPadding3D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA order_mode EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelfrom kerasImpl import data DOM
from numpy import argmax DOM
from random import randint DOM
from pickle import load DOM
from numpy import array DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT utils import to_categorical DOM
from keras DOT utils DOT vis_utils import plot_model DOM
from keras DOT models import Sequential DOM
from keras DOT models import Model DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import RepeatVector DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Input DOM
from keras DOT callbacks import ModelCheckpoint DOM
from nltk DOT translate DOT bleu_score import corpus_bleu DOM
import numpy as np DOM
import random DOM
def define_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def define_model_powerful PARELEFT  PARERIGHT  COLON  DOM
    encoder_embedding  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    encoder_embedding  EQUAL  encoder_embedding PARELEFT  PARERIGHT  DOM
    encoder_lstm1  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    encoder_lstm2  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    encoder_outputs COMMA  state_h COMMA  state_c  EQUAL  encoder_lstm2 PARELEFT  PARERIGHT  DOM
    encoder_dropout  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    encoder_outputs  EQUAL  encoder_dropout PARELEFT  PARERIGHT  DOM
    encoder_states  EQUAL  [] DOM
    decoder_inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder_lstm1  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    lstm_output  EQUAL  decoder_lstm1 PARELEFT  PARERIGHT  DOM
    decoder_lstm2  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    decoder_outputs COMMA  _ COMMA  _  EQUAL  decoder_lstm2 PARELEFT  PARERIGHT  DOM
    decoder_dropout  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    decoder_outputs  EQUAL  decoder_dropout PARELEFT  PARERIGHT  DOM
    decoder_dense  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    decoder_outputs  EQUAL  decoder_dense PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    encoder_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    decoder_state_input_h  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder_state_input_c  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder_states_inputs  EQUAL  [] DOM
    temporary_output  EQUAL  decoder_lstm1 PARELEFT  PARERIGHT  DOM
    decoder_outputs COMMA  state_h COMMA  state_c  EQUAL  decoder_lstm2 PARELEFT  PARERIGHT  DOM
    decoder_states  EQUAL  [] DOM
    decoder_outputs  EQUAL  decoder_dense PARELEFT  PARERIGHT  DOM
    decoder_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model COMMA  encoder_model COMMA  decoder_model DOM
def predict_sequence PARELEFT  PARERIGHT  COLON  DOM
    prediction  EQUAL  model DOT predict PARELEFT  PARERIGHT [] DOM
    integers  EQUAL  [] DOM
    target  EQUAL  list PARELEFT  PARERIGHT  DOM
    for i in integers COLON  DOM
        word  EQUAL  data DOT word_for_id PARELEFT  PARERIGHT  DOM
        if word is None COLON  DOM
            break DOM
        target DOT append PARELEFT  PARERIGHT  DOM
    return  QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
def evaluate_model PARELEFT  PARERIGHT  COLON  DOM
    actual COMMA  predicted  EQUAL  list PARELEFT  PARERIGHT  COMMA  list PARELEFT  PARERIGHT  DOM
    for i COMMA  source in enumerate PARELEFT  PARERIGHT  COLON  DOM
        source  EQUAL  source DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        translation  EQUAL  predict_sequence PARELEFT  PARERIGHT  DOM
        raw_target COMMA  raw_src  EQUAL  raw_dataset[] DOM
        if i < 10 COLON  DOM
            print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
        actual DOT append PARELEFT raw_target DOT split PARELEFT  PARERIGHT  PARERIGHT  DOM
        predicted DOT append PARELEFT translation DOT split PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  % corpus_bleu PARELEFT actual COMMA  predicted COMMA  weights EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  % corpus_bleu PARELEFT actual COMMA  predicted COMMA  weights EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  % corpus_bleu PARELEFT actual COMMA  predicted COMMA  weights EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  % corpus_bleu PARELEFT actual COMMA  predicted COMMA  weights EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
def generate_sequence PARELEFT  PARERIGHT  COLON  DOM
    return [] DOM
def get_dataset PARELEFT  PARERIGHT  COLON  DOM
    X1 COMMA  X2 COMMA  y  EQUAL  list PARELEFT  PARERIGHT  COMMA  list PARELEFT  PARERIGHT  COMMA  list PARELEFT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        source  EQUAL  generate_sequence PARELEFT  PARERIGHT  DOM
        target  EQUAL  generate_sequence PARELEFT  PARERIGHT  DOM
        target DOT reverse PARELEFT  PARERIGHT  DOM
        target_in  EQUAL  [] + target[] DOM
        src_encoded  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
        tar_encoded  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
        tar2_encoded  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
        X1 DOT append PARELEFT  PARERIGHT  DOM
        X2 DOT append PARELEFT  PARERIGHT  DOM
        y DOT append PARELEFT  PARERIGHT  DOM
    X1  EQUAL  np DOT squeeze PARELEFT array PARELEFT  PARERIGHT  COMMA  axis EQUAL 1 PARERIGHT  DOM
    X2  EQUAL  np DOT squeeze PARELEFT array PARELEFT  PARERIGHT  COMMA  axis EQUAL 1 PARERIGHT  DOM
    y  EQUAL  np DOT squeeze PARELEFT array PARELEFT  PARERIGHT  COMMA  axis EQUAL 1 PARERIGHT  DOM
    return X1 COMMA  X2 COMMA  yimport pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def build_improved_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_basic_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def build_lstm_model PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  1000 DOM
    word_feature_size            EQUAL  4096 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_lstm  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  2 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_lstm COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
    from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  epochs EQUAL 3 COMMA  batch_size EQUAL 64 PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT import numpy as np DOM
import pandas as pd DOM
from keras DOT layers import Dense COMMA  Activation DOM
from keras DOT layers import LSTM as lstm_m DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import RMSprop DOM
from ML_models DOT OutputLayerModel_I import OutputLayerModel_I DOM
additionalDim  EQUAL  1 DOM
vecLen  EQUAL  115 DOM
def BuildLSTM PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    l EQUAL lstm_m PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT lstm_m PARELEFT 128 COMMA input_shape  EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  + str PARELEFT DSpath DOT split PARELEFT  PARERIGHT [] PARERIGHT  +  QUOTMARK  PARERIGHT  DOM
    NumOfInstances  EQUAL  len PARELEFT  PARERIGHT  DOM
    X  EQUAL  np DOT reshape PARELEFT X COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
    x  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x  EQUAL  X[] DOM
    y  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    x  EQUAL  X[] DOM
    y  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    scores  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    with open PARELEFT str PARELEFT  PARERIGHT  +  QUOTMARK  +  QUOTMARK  COMMA   QUOTMARK  PARERIGHT  as scoresFP COLON  DOM
        for sc in scores COLON  DOM
            scoresFP DOT write PARELEFT str PARELEFT  PARERIGHT  +  QUOTMARK  PARERIGHT  DOM
class LSTM  PARELEFT  PARERIGHT  COLON  DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        thresh EQUAL 1 DOM
        NumOfInstances  EQUAL 1 DOM
        x  EQUAL  [] DOM
        vecLen EQUAL len PARELEFT  PARERIGHT  DOM
        x  EQUAL  np DOT reshape PARELEFT x COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
        y  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    def execute  PARELEFT  PARERIGHT  COLON  DOM
        thresh  EQUAL  1 DOM
        NumOfInstances  EQUAL  1 DOM
        vecLen  EQUAL  len PARELEFT  PARERIGHT  DOM
        x  EQUAL  np DOT reshape PARELEFT x COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
        y  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        scores  EQUAL  self DOT model DOT predict PARELEFT  PARERIGHT  DOM
        return scores[] DOM
        print PARELEFT  PARERIGHT  DOM
    def __init__  PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT lstm_m PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model EQUAL model DOM
        print PARELEFT  PARERIGHT  DOM
BuildLSTM PARELEFT  PARERIGHT  DOM
lstm EQUAL LSTM PARELEFT  PARERIGHT  DOM
lstm DOT train PARELEFT []] PARERIGHT  DOM
lstm DOT execute PARELEFT []] PARERIGHT from keras DOT utils import np_utils DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Embedding COMMA  Input DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU COMMA  Merge COMMA  merge COMMA  Masking DOM
from keras DOT models import Model DOM
from keras DOT callbacks import Callback DOM
from keras DOT callbacks import EarlyStopping DOM
from keras import backend as K DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
import numpy as np DOM
from numpy DOT random import RandomState DOM
from random import shuffle DOM
import datetime DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
        self DOT val_losses  EQUAL  [] DOM
    def on_epoch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT val_losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def train_Bi_LSTM PARELEFT  PARERIGHT  COLON  DOM
    speed_input  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  DOM
    main_output  EQUAL  Bidirectional PARELEFT LSTM PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  output_dim  EQUAL  X DOT shape[] COMMA  return_sequences EQUAL False PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    final_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    final_model DOT summary PARELEFT  PARERIGHT  DOM
    final_model DOT compile PARELEFT  PARERIGHT  DOM
    history  EQUAL  LossHistory PARELEFT  PARERIGHT  DOM
    earlyStopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    final_model DOT fit PARELEFT  PARERIGHT  DOM
    return final_model COMMA  history DOM
def train_2_Bi_LSTM_mask PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Masking PARELEFT mask_value EQUAL 0 DOT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT output_dim  EQUAL  X DOT shape[] COMMA  return_sequences EQUAL True COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT output_dim  EQUAL  X DOT shape[] COMMA  return_sequences EQUAL False COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    history  EQUAL  LossHistory PARELEFT  PARERIGHT  DOM
    earlyStopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    return model COMMA  history DOM
def train_2_Bi_LSTM PARELEFT  PARERIGHT  COLON  DOM
    speed_input  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  DOM
    lstm_output  EQUAL  Bidirectional PARELEFT LSTM PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  output_dim  EQUAL  X DOT shape[] COMMA  return_sequences EQUAL True PARERIGHT  COMMA  merge_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    main_output  EQUAL  LSTM PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  output_dim  EQUAL  X DOT shape[] PARERIGHT  PARELEFT  PARERIGHT  DOM
    final_model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    final_model DOT summary PARELEFT  PARERIGHT  DOM
    final_model DOT compile PARELEFT  PARERIGHT  DOM
    history  EQUAL  LossHistory PARELEFT  PARERIGHT  DOM
    earlyStopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    final_model DOT fit PARELEFT  PARERIGHT  DOM
    return final_model COMMA  historyimport pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM COMMA  Dropout DOM
from keras import backend as K DOM
from keras_tqdm import TQDMNotebookCallback DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  LSTM_model DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 DOM
import tflearn DOM
import numpy as np DOM
from sklearn DOT manifold import TSNE DOM
import matplotlib DOT pyplot as plt DOM
from tflearn DOT layers DOT core import input_data COMMA  dropout COMMA  fully_connected DOM
from tflearn DOT layers DOT conv import conv_1d COMMA  global_max_pool DOM
from tflearn DOT layers DOT merge_ops import merge DOM
from tflearn DOT layers DOT estimator import regression DOM
import tensorflow as tf DOM
import os DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Dropout COMMA  Embedding COMMA  Flatten COMMA  Input COMMA  Convolution1D COMMA  MaxPooling1D COMMA  GlobalMaxPooling1D DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Dense COMMA  Input COMMA  Flatten DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding COMMA  Dropout COMMA  LSTM COMMA  GRU COMMA  Bidirectional DOM
from keras DOT models import Model COMMA Sequential DOM
from keras import backend as K DOM
from keras DOT engine DOT topology import Layer COMMA  InputSpec DOM
from keras import initializers COMMA  optimizers DOM
def lstm_model_bin PARELEFT  PARERIGHT  COLON  DOM
    model_variation  EQUAL   QUOTMARK  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT len PARELEFT  PARERIGHT +1 COMMA  embedding_dim COMMA  input_length EQUAL sequence_length COMMA  trainable EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print  PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model     DOM
def lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model_variation  EQUAL   QUOTMARK  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT len PARELEFT  PARERIGHT +1 COMMA  embedding_dim COMMA  input_length EQUAL sequence_length COMMA  trainable EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print  PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelimport os DOM
from keras DOT layers import Dense COMMA  Flatten COMMA  Dropout COMMA  Activation DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam COMMA  RMSprop COMMA  Adadelta DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D COMMA  GlobalAveragePooling2D DOM
from keras DOT layers import LSTM COMMA  Embedding DOM
class DeepLearningModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        if self DOT saved_model is not None and os DOT path DOT isfile PARELEFT  PARERIGHT  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT mlp_mnist PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT cnn_mnist PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT cnn_cifar10 PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT cnn_cifar100 PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm_imdb PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm_ucf101 PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
    def mlp_mnist PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT 512 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSprop PARELEFT  PARERIGHT  COMMA etrics EQUAL [] PARERIGHT  DOM
        return model DOM
    def cnn_mnist PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL Adadelta PARELEFT  PARERIGHT  COMMA etrics EQUAL [] PARERIGHT  DOM
        return model DOM
    def cnn_cifar10 PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def cnn_cifar10_big PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Conv2D PARELEFT 96 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 96 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 96 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 192 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 192 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 192 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 192 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 192 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 10 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT GlobalAveragePooling2D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def cnn_cifar100 PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def lstm_imdb PARELEFT  PARERIGHT  COLON  DOM
        max_features  EQUAL  20000 DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def lstm_ucf101 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
        from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
import numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
from theano DOT tensor DOT shared_randomstreams import RandomStreams DOM
srng  EQUAL  RandomStreams PARELEFT  PARERIGHT  DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  LSTM COMMA  Dropout DOM
from keras DOT layers DOT embeddings import Embedding DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from keras_helper import load_keras_model as load DOM
from keras_helper import save_keras_model as save DOM
base_dir  EQUAL   QUOTMARK  DOM
def generate_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    if dropout is not None COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if dropout is not None COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
if __name__ EQUAL  EQUAL  QUOTMARK  COLON  DOM
    n_lstm_units  EQUAL  int PARELEFT  PARERIGHT  DOM
    embedding_length  EQUAL  16 DOM
    top_words  EQUAL  3000 DOM
     PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT int PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    hist  EQUAL  model DOT fit PARELEFT X_train COMMA  y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  nb_epoch EQUAL 3 COMMA  batch_size EQUAL 64 PARERIGHT  DOM
    save PARELEFT model COMMA   QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  base_dir EQUAL base_dir PARERIGHT  DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
def get_simple_net PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def get_dropout_net PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM DOM
from keras import backend as K DOM
from keras_tqdm import TQDMNotebookCallback DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
modelLSTM_2a  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT summary PARELEFT  PARERIGHT  DOM
modelLSTM_2a DOT compile PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  modelLSTM_2a DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Flatten COMMA  Dense COMMA  Dropout COMMA  Embedding COMMA  LSTM COMMA  Bidirectional DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
def base PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def conv PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def conv2 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model    DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def lstm2 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom __future__ import print_function DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT convolutional import Convolution1D COMMA  MaxPooling1D DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT models import Graph DOM
from recurrent import Bidirectional DOM
def cnn PARELEFT  PARERIGHT  COLON  DOM
    nb_filter  EQUAL  250 DOM
    filter_length  EQUAL  3 DOM
    hidden_dims  EQUAL  250 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def gru PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def bidirectional_lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Graph PARELEFT  PARERIGHT  DOM
    model DOT add_input PARELEFT name EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL int PARERIGHT  DOM
    model DOT add_node PARELEFT Embedding PARELEFT  PARERIGHT  COMMA ame EQUAL  QUOTMARK  COMMA  input EQUAL  QUOTMARK  PARERIGHT  DOM
    model DOT add_node PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  COMMA  input EQUAL  QUOTMARK  PARERIGHT  DOM
    model DOT add_node PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  COMMA  input EQUAL  QUOTMARK  PARERIGHT  DOM
    model DOT add_node PARELEFT Dropout PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  COMMA  inputs EQUAL [] PARERIGHT  DOM
    model DOT add_node PARELEFT Dense PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  COMMA  input EQUAL  QUOTMARK  PARERIGHT  DOM
    model DOT add_output PARELEFT  PARERIGHT  DOM
    return model DOM
def cnn_lstm PARELEFT  PARERIGHT  COLON  DOM
    nb_filter  EQUAL  64 DOM
    filter_length  EQUAL  3 DOM
    pool_length  EQUAL  2 DOM
    lstm_output_size  EQUAL  64 DOM
    p  EQUAL  0 DOT 25 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def cnn_gru PARELEFT  PARERIGHT  COLON  DOM
    nb_filter  EQUAL  64 DOM
    filter_length  EQUAL  3 DOM
    pool_length  EQUAL  2 DOM
    lstm_output_size  EQUAL  70 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def b_rnn PARELEFT  PARERIGHT  COLON  DOM
    lstm_output_size  EQUAL  64 DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    gru  EQUAL  GRU PARELEFT  PARERIGHT  DOM
    brnn  EQUAL  Bidirectional PARELEFT  PARERIGHT  DOM
    nb_filter  EQUAL  64 DOM
    filter_length  EQUAL  3 DOM
    pool_length  EQUAL  2 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    passfrom keras DOT layers import LSTM COMMA  Dense COMMA  Input COMMA  InputLayer COMMA  Permute COMMA  BatchNormalization COMMA  \ DOM
    GRU COMMA  Conv1D COMMA  MaxPooling1D DOM
from keras DOT models import Sequential DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT model_selection import GridSearchCV DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from collections import defaultdict DOM
from src DOT const import * DOM
import csv DOM
INPUT_SHAPE  EQUAL   PARELEFT  PARERIGHT  DOM
LSTM_SIZE  EQUAL  100 DOM
def get_model PARELEFT  PARERIGHT  COLON  DOM
    lstm_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT InputLayer PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT summary PARELEFT  PARERIGHT  DOM
    lstm_model DOT compile PARELEFT  PARERIGHT  DOM
    return lstm_model DOM
def read_new_csv PARELEFT  PARERIGHT  COLON  DOM
    players_action_dict  EQUAL  defaultdict PARELEFT  PARERIGHT  DOM
    action_dict  EQUAL  {} DOM
    action_max_id  EQUAL  0 DOM
    with open PARELEFT  PARERIGHT  as csvfile COLON  DOM
        reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
        for line_number COMMA  row in enumerate PARELEFT  PARERIGHT  COLON  DOM
            player_id  EQUAL  row[] DOM
            game_list  EQUAL  [] DOM
            for action in row[] COLON  DOM
                if action in action_dict COLON  DOM
                    action_id  EQUAL  action_dict[] DOM
                else COLON  DOM
                    action_id  EQUAL  action_max_id DOM
                    action_dict[]  EQUAL  action_max_id DOM
                    action_max_id + EQUAL  1 DOM
                game_list DOT append PARELEFT  PARERIGHT  DOM
            players_action_dict[] DOT append PARELEFT  PARERIGHT  DOM
    return players_action_dict COMMA  action_max_id DOM
def split_training_set PARELEFT  PARERIGHT  COLON  DOM
    train_dict  EQUAL  {} DOM
    test_dict  EQUAL  {} DOM
    for player_name COMMA  player_game in source_dict DOT items PARELEFT  PARERIGHT  COLON  DOM
        number_of_games  EQUAL  len PARELEFT  PARERIGHT  DOM
        split_index  EQUAL  number_of_games - int PARELEFT  PARERIGHT  - 2 DOM
        train_game  EQUAL  player_game[] DOM
        test_game  EQUAL  player_game[] DOM
        train_dict[]  EQUAL  train_game DOM
        test_dict[]  EQUAL  test_game DOM
    return train_dict COMMA  test_dict DOM
def csv_set_to_keras_batch PARELEFT  PARERIGHT  COLON  DOM
    batch_input  EQUAL  [] DOM
    batch_output  EQUAL  [] DOM
    player_id_to_name_dict  EQUAL  {} DOM
    for i COMMA  t in enumerate PARELEFT csv_dict DOT items PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        player_id_to_name_dict[]  EQUAL  t[] DOM
        for string in t[] COLON  DOM
            output_array  EQUAL  np DOT zeros PARELEFT  PARERIGHT  DOM
            output_array[]  EQUAL  1 DOM
            batch_input DOT append PARELEFT  PARERIGHT  DOM
            batch_output DOT append PARELEFT  PARERIGHT  DOM
    return batch_input COMMA  batch_output COMMA  player_id_to_name_dict DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    top_words  EQUAL  1000 DOM
    value COMMA  top_words  EQUAL  read_new_csv PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    train COMMA  test  EQUAL  split_training_set PARELEFT  PARERIGHT  DOM
    X_train COMMA  y_train COMMA  _  EQUAL  csv_set_to_keras_batch PARELEFT  PARERIGHT  DOM
    X_test COMMA  y_test COMMA  _  EQUAL  csv_set_to_keras_batch PARELEFT  PARERIGHT  DOM
    max_review_length  EQUAL  1000 DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    embedding_vecor_length  EQUAL  32 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    exit PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT np DOT array PARELEFT  PARERIGHT  COMMA np DOT array PARELEFT  PARERIGHT  COMMA nb_epoch EQUAL 3 COMMA batch_size EQUAL 64 PARERIGHT  DOM
    scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT from numpy DOT random import permutation DOM
from keras DOT models import Sequential COMMA  Graph DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Reshape COMMA  Merge DOM
from keras DOT optimizers import SGD DOM
from keras DOT utils import np_utils DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT recurrent import LSTM DOM
from Utils DOT FileProcess import generate_w2i_i2w_dict COMMA  sentence2sequence DOM
from birnn import BiDirectionLSTM DOM
from Utils DOT statistics import * DOM
from LSTM import get_class DOM
def get_data PARELEFT  PARERIGHT  COLON  DOM
    X  EQUAL  [] DOM
    y  EQUAL  [] DOM
    w2i COMMA  i2w  EQUAL  generate_w2i_i2w_dict PARELEFT  PARERIGHT  DOM
    with open PARELEFT  PARERIGHT  as fr COLON  DOM
        for line in fr COLON  DOM
            query1 COMMA  query2 COMMA  label  EQUAL  line DOT split PARELEFT  PARERIGHT [] DOM
            query  EQUAL   PARELEFT sentence2sequence PARELEFT  PARERIGHT  COMMA  sentence2sequence PARELEFT  PARERIGHT  PARERIGHT  DOM
            X DOT append PARELEFT  PARERIGHT  DOM
            y DOT append PARELEFT int PARELEFT  PARERIGHT  PARERIGHT  DOM
    X  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    return X COMMA  y DOM
def blstm_I PARELEFT  PARERIGHT  COLON  DOM
    words_size  EQUAL  13033 DOM
    X  EQUAL  X[] DOM
    y  EQUAL  y[] DOM
    X1  EQUAL  [] for t in X] DOM
    X2  EQUAL  [] for t in X] DOM
    X1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X2  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X1_train COMMA  X1_test  EQUAL  X1[] COMMA  X1[] DOM
    X2_train COMMA  X2_test  EQUAL  X2[] COMMA  X2[] DOM
    y_train COMMA  y_test  EQUAL  y[] COMMA  y[] DOM
    X1_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X1_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X2_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X2_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    left  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    left DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    left DOT add PARELEFT BiDirectionLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    right  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    right DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    right DOT add PARELEFT BiDirectionLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    probas  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
    for threshold in [] COLON  DOM
        classes  EQUAL  get_class PARELEFT  PARERIGHT  DOM
        accuracy  EQUAL  accuracy_score PARELEFT  PARERIGHT  DOM
        precision  EQUAL  precision_score PARELEFT  PARERIGHT  DOM
        recall  EQUAL  recall_score PARELEFT  PARERIGHT  DOM
        f1  EQUAL  f1_score PARELEFT  PARERIGHT  DOM
        print  QUOTMARK  % threshold DOM
        print  QUOTMARK  COMMA  accuracy DOM
        print  QUOTMARK  COMMA  precision DOM
        print  QUOTMARK  COMMA  recall DOM
        print  QUOTMARK  COMMA  f1 DOM
def blstm_I_2layers PARELEFT  PARERIGHT  COLON  DOM
    words_size  EQUAL  13033 DOM
    X  EQUAL  X[] DOM
    y  EQUAL  y[] DOM
    X1  EQUAL  [] for t in X] DOM
    X2  EQUAL  [] for t in X] DOM
    X1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X2  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X1_train COMMA  X1_test  EQUAL  X1[] COMMA  X1[] DOM
    X2_train COMMA  X2_test  EQUAL  X2[] COMMA  X2[] DOM
    y_train COMMA  y_test  EQUAL  y[] COMMA  y[] DOM
    X1_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X1_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X2_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X2_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    left  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    left DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    left DOT add PARELEFT BiDirectionLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    left DOT add PARELEFT BiDirectionLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    right  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    right DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    right DOT add PARELEFT BiDirectionLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    right DOT add PARELEFT BiDirectionLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Reshape PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    probas  EQUAL  model DOT predict_proba PARELEFT  PARERIGHT  DOM
    classes  EQUAL  get_class PARELEFT  PARERIGHT  DOM
    accuracy  EQUAL  accuracy_score PARELEFT  PARERIGHT  DOM
    precision  EQUAL  precision_score PARELEFT  PARERIGHT  DOM
    recall  EQUAL  recall_score PARELEFT  PARERIGHT  DOM
    f1  EQUAL  f1_score PARELEFT  PARERIGHT  DOM
    print  QUOTMARK  % threshold DOM
    print  QUOTMARK  COMMA  accuracy DOM
    print  QUOTMARK  COMMA  precision DOM
    print  QUOTMARK  COMMA  recall DOM
    print  QUOTMARK  COMMA  f1 DOM
    return accuracy COMMA  precision COMMA  recall COMMA  f1 DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    thresholds  EQUAL  [] DOM
    X COMMA  y  EQUAL  get_data PARELEFT  PARERIGHT  DOM
    blstm_I PARELEFT  PARERIGHT import tensorflow as tf DOM
import keras DOM
from keras import backend as K DOM
from keras DOT layers import Dense COMMA Flatten COMMA Dropout COMMA Activation COMMA Input COMMA  GlobalAveragePooling3D DOM
from keras DOT layers import Conv3D COMMA  MaxPooling3D COMMA BatchNormalization COMMA  MaxPool3D DOM
from keras DOT layers import RepeatVector COMMA Permute COMMA Lambda COMMA merge COMMA multiply COMMA Dot DOM
from keras DOT layers DOT recurrent import LSTM COMMA GRU DOM
from keras DOT models import Sequential COMMA  load_model COMMA Model DOM
from keras DOT optimizers import Adam COMMA  RMSprop COMMA  SGD DOM
from keras DOT layers DOT wrappers import TimeDistributed COMMA  Bidirectional DOM
from keras DOT layers DOT advanced_activations import ELU COMMA  LeakyReLU DOM
from surportsPG DOT custom_recurrents import AttentionDecoder DOM
def conv3D PARELEFT  PARERIGHT  COLON  DOM
    input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv3D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL input_shape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv3D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv3D PARELEFT 84 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def Conv3D_Classes PARELEFT  PARERIGHT  COLON  DOM
    input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv3D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL input_shape PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv3D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalAveragePooling3D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
class Models PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT n_hidden        EQUAL  1024 DOM
        self DOT n_hidden2       EQUAL  512 DOM
        self DOT feature_length  EQUAL  args DOT featurelength DOM
        self DOT seq_length      EQUAL  args DOT seqlength DOM
        self DOT dropout         EQUAL  args DOT dropout DOM
        self DOT units           EQUAL  64 DOM
    def LSTM PARELEFT  PARERIGHT  COLON  DOM
        with tf DOT name_scope PARELEFT  PARERIGHT  as scope COLON  DOM
            model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            with tf DOT name_scope PARELEFT  PARERIGHT  as scope COLON  DOM
                model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            with tf DOT name_scope PARELEFT  PARERIGHT  as scope COLON  DOM
                model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def LSTM2 PARELEFT  PARERIGHT  COLON  DOM
        with tf DOT name_scope PARELEFT  PARERIGHT  as scope COLON  DOM
            model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
            with tf DOT name_scope PARELEFT  PARERIGHT  as scope COLON  DOM
                model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            with tf DOT name_scope PARELEFT  PARERIGHT  as scope COLON  DOM
                model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            with tf DOT name_scope PARELEFT  PARERIGHT  as scope COLON  DOM
                model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def attention_3d_block PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        input_dim  EQUAL  int PARELEFT  PARERIGHT   DOM
        a  EQUAL  Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        a  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        a_probs  EQUAL  Permute PARELEFT  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output_attention_mul  EQUAL  multiply PARELEFT  PARERIGHT  DOM
        return output_attention_mul DOM
    def Attention_before_LSTM PARELEFT  PARERIGHT  COLON  DOM
        _input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT   DOM
        drop1  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        attention_mul  EQUAL  self DOT attention_3d_block PARELEFT  PARERIGHT  DOM
        attention_mul  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return model DOM
    def Attention_after_LSTM PARELEFT  PARERIGHT  COLON  DOM
        _input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        drop  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        LSTM_layer  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        attention_mul  EQUAL  self DOT attention_3d_block PARELEFT  PARERIGHT  DOM
        drop2  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return model DOM
    def Attention_LSTM PARELEFT  PARERIGHT  COLON  DOM
        _input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        dropout  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        LSTM_layer  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        attention_mul  EQUAL  self DOT attention_3d_block PARELEFT  PARERIGHT  DOM
        dropout2  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return model DOM
    def simpleNMT PARELEFT  PARERIGHT  COLON  DOM
        input_  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA name EQUAL  QUOTMARK  COMMA rge_mode  EQUAL   QUOTMARK  COMMA trainable EQUAL True PARERIGHT  PARELEFT  PARERIGHT  DOM
        y_hat  EQUAL   TimeDistributed PARELEFT AttentionDecoder PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT models import load_model DOM
from config import * DOM
from MIDIprocessing import loadTrainingData DOM
def generateModel PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
def generateTModel PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT n COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
def trainModel PARELEFT  PARERIGHT  COLON  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        X COMMA  Y  EQUAL  loadTrainingData PARELEFT  PARERIGHT  DOM
        print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT fit PARELEFT  PARERIGHT  DOM
        model DOT save PARELEFT  PARERIGHT import os DOM
import time DOM
import numpy as np DOM
from functools import wraps DOM
from sklearn DOT externals import joblib DOM
from sklearn DOT preprocessing import LabelBinarizer DOM
from sklearn DOT model_selection import cross_val_score DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT models import load_model COMMA  Sequential DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  LSTM DOM
N_FEATURES  EQUAL  10000 DOM
DOC_LEN  EQUAL  60 DOM
N_CLASSES  EQUAL  2 DOM
def timeit PARELEFT  PARERIGHT  COLON  DOM
    @wraps PARELEFT  PARERIGHT  DOM
    def wrapper PARELEFT  PARERIGHT  COLON  DOM
        start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
        result  EQUAL  func PARELEFT  PARERIGHT  DOM
        return result COMMA  time DOT time PARELEFT  PARERIGHT  - start DOM
    return wrapper DOM
def documents PARELEFT  PARERIGHT  COLON  DOM
    return list PARELEFT corpus DOT reviews PARELEFT  PARERIGHT  PARERIGHT  DOM
def continuous PARELEFT  PARERIGHT  COLON  DOM
    return list PARELEFT corpus DOT scores PARELEFT  PARERIGHT  PARERIGHT  DOM
def make_categorical PARELEFT  PARERIGHT  COLON  DOM
    return np DOT digitize PARELEFT continuous PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
def binarize PARELEFT  PARERIGHT  COLON  DOM
    return np DOT digitize PARELEFT continuous PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
def build_nn PARELEFT  PARERIGHT  COLON  DOM
    nn DOT add PARELEFT Dense PARELEFT 500 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    nn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    nn DOT compile PARELEFT  PARERIGHT  DOM
    return nn DOM
def build_lstm PARELEFT  PARERIGHT  COLON  DOM
    lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm DOT compile PARELEFT  PARERIGHT  DOM
    return lstm DOM
@timeit DOM
def train_model PARELEFT  PARERIGHT  COLON  DOM
    corpus  EQUAL  PickledAmazonReviewsReader PARELEFT  PARERIGHT  DOM
    X  EQUAL  documents PARELEFT  PARERIGHT  DOM
    y  EQUAL  binarize PARELEFT  PARERIGHT  DOM
    scores  EQUAL  cross_val_score PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    if saveto COLON  DOM
        model DOT steps[][] DOT model DOT save PARELEFT  PARERIGHT  DOM
        model DOT steps DOT pop PARELEFT  PARERIGHT  DOM
        joblib DOT dump PARELEFT  PARERIGHT  DOM
    return scores DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    from sklearn DOT pipeline import Pipeline DOM
    from sklearn DOT feature_extraction DOT text import TfidfVectorizer DOM
    from reader import PickledReviewsReader DOM
    from am_reader import PickledAmazonReviewsReader DOM
    from transformer import TextNormalizer COMMA  GensimDoc2Vectorizer DOM
    from transformer import KeyphraseExtractor COMMA  GensimTfidfVectorizer DOM
    cpath  EQUAL   QUOTMARK  DOM
    mpath  EQUAL  { DOM
         QUOTMARK    COLON   QUOTMARK  COMMA  DOM
         QUOTMARK   COLON   QUOTMARK  DOM
    } DOM
from  DOT  DOT  DOT model import KerasModel DOM
from  DOT  DOT window_model import FrameModel DOM
class RecurrentModel PARELEFT  PARERIGHT  COLON  DOM
    def _create_model PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers DOT core import Activation COMMA  Dense COMMA  Dropout COMMA  Reshape DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers DOT recurrent import LSTM DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelimport numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
from theano DOT tensor DOT shared_randomstreams import RandomStreams DOM
srng  EQUAL  RandomStreams PARELEFT  PARERIGHT  DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  LSTM COMMA  Dropout DOM
from keras DOT layers DOT embeddings import Embedding DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from keras_helper import load_keras_model as load DOM
from keras_helper import save_keras_model as save DOM
base_dir  EQUAL   QUOTMARK  DOM
def generate_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    if dropout is not None COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if dropout is not None COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
if __name__ EQUAL  EQUAL  QUOTMARK  COLON  DOM
    n_lstm_units  EQUAL  int PARELEFT  PARERIGHT  DOM
    embedding_length  EQUAL  16 DOM
    top_words  EQUAL  3000 DOM
    dropout  EQUAL  0 DOT 2 DOM
     PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT int PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    hist  EQUAL  model DOT fit PARELEFT X_train COMMA  y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  nb_epoch EQUAL 3 COMMA  batch_size EQUAL 64 PARERIGHT  DOM
    save PARELEFT model COMMA   QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  base_dir EQUAL base_dir PARERIGHT  DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import pandas as pd DOM
train  EQUAL pd DOT read_csv PARELEFT  PARERIGHT  DOM
test EQUAL pd DOT read_csv PARELEFT  PARERIGHT  DOM
train DOT head PARELEFT  PARERIGHT  DOM
train EQUAL train DOT drop PARELEFT  PARERIGHT  DOM
test EQUAL test DOT drop PARELEFT  PARERIGHT  DOM
ytest EQUAL test DOT iloc[] DOM
ytrain EQUAL train DOT iloc[] DOM
y_train EQUAL ytrain DOT values DOM
y_test EQUAL ytest DOT values DOM
from keras DOT utils import to_categorical DOM
y_train  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
y_test EQUAL to_categorical PARELEFT  PARERIGHT  DOM
xtrain EQUAL train DOT iloc[] DOM
xtest EQUAL test DOT iloc[] DOM
xtrain EQUAL xtrain DOT values DOM
xtest EQUAL xtest DOT values DOM
x_train  EQUAL xtrain DOT reshape PARELEFT  PARERIGHT  DOM
x_test EQUAL xtest DOT reshape PARELEFT  PARERIGHT  DOM
import tensorflow as tf DOM
import keras as ks DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  LSTM DOM
from numpy DOT random import seed DOM
seed PARELEFT  PARERIGHT  DOM
from tensorflow import set_random_seed DOM
set_random_seed PARELEFT  PARERIGHT  DOM
model EQUAL Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 61 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
y EQUAL model DOT predict_proba PARELEFT  PARERIGHT  DOM
from sklearn import  metrics DOM
j EQUAL metrics DOT roc_auc_score PARELEFT  PARERIGHT  DOM
j EQUAL np DOT array PARELEFT  PARERIGHT  DOM
model EQUAL Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 61 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model1 EQUAL Sequential PARELEFT  PARERIGHT  DOM
model1 DOT add PARELEFT LSTM PARELEFT 61 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
model1 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model1 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model1 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model1 DOT compile PARELEFT  PARERIGHT  DOM
model1 DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model1 DOT evaluate PARELEFT  PARERIGHT  DOM
y EQUAL model1 DOT predict_proba PARELEFT  PARERIGHT  DOM
j EQUAL metrics DOT roc_auc_score PARELEFT  PARERIGHT  DOM
j EQUAL np DOT array PARELEFT  PARERIGHT  DOM
model2 EQUAL Sequential PARELEFT  PARERIGHT  DOM
model2 DOT add PARELEFT LSTM PARELEFT 61 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
model2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model2 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model2 DOT compile PARELEFT  PARERIGHT  DOM
model2 DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model2 DOT evaluate PARELEFT  PARERIGHT  DOM
y EQUAL model2 DOT predict_proba PARELEFT  PARERIGHT  DOM
j EQUAL metrics DOT roc_auc_score PARELEFT  PARERIGHT  DOM
j EQUAL np DOT array PARELEFT  PARERIGHT  DOM
from keras DOT models import model_from_json DOM
model2_json  EQUAL  model2 DOT to_json PARELEFT  PARERIGHT  DOM
import h5py DOM
with open PARELEFT  PARERIGHT  as json_file COLON  DOM
    json_file DOT write PARELEFT  PARERIGHT  DOM
model DOT save_weights PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
json_file  EQUAL  open PARELEFT  PARERIGHT  DOM
loaded_model_json  EQUAL  json_file DOT read PARELEFT  PARERIGHT  DOM
json_file DOT close PARELEFT  PARERIGHT  DOM
loaded_model  EQUAL  model_from_json PARELEFT  PARERIGHT  DOM
loaded_model DOT load_weights PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
filepath EQUAL  QUOTMARK  DOM
heckpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
callbacks_list  EQUAL  [] DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 30 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT from keras DOT layers import Dense COMMA  Activation COMMA  Conv1D COMMA  MaxPooling1D COMMA  GlobalAveragePooling1D COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM COMMA  SimpleRNN DOM
from keras DOT utils DOT np_utils import to_categorical DOM
class ANNModels COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT num_features  EQUAL  num_features DOM
        self DOT num_samples  EQUAL  num_samples DOM
        print PARELEFT  PARERIGHT  DOM
    def create_mlp_model PARELEFT  PARERIGHT  COLON  DOM
        mlp_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        mlp_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        mlp_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        mlp_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        mlp_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        mlp_model DOT compile PARELEFT  PARERIGHT  DOM
        return mlp_model DOM
    def create_simple_rnn_model PARELEFT  PARERIGHT  COLON  DOM
        simple_rnn_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
from __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  5 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT   DOM
import time DOM
import pickle DOM
import numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
from keras DOT callbacks import Callback COMMA  EarlyStopping DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Embedding COMMA  SpatialDropout1D DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU DOM
from keras DOT regularizers import l2 DOM
from keras DOT constraints import maxnorm DOM
from keras DOT datasets import imdb DOM
from qrnn DOT qrnn import QRNN DOM
def regenerate_dataset PARELEFT  PARERIGHT  COLON  DOM
     PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_train COMMA  y_train COMMA  X_test COMMA  y_test  EQUAL  X_train[] COMMA  y_train[] COMMA  X_test[] COMMA  y_test[] DOM
    return X_train COMMA  y_train COMMA  X_test COMMA  y_test DOM
class TimeHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT times  EQUAL  0 DOM
    def on_epoch_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT epoch_time_start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
    def on_epoch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT times  EQUAL  time DOT time PARELEFT  PARERIGHT  - self DOT epoch_time_start DOM
time_callback  EQUAL  TimeHistory PARELEFT  PARERIGHT  DOM
def time_lstm PARELEFT  PARERIGHT  COLON  DOM
    model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    model_lstm DOT fit PARELEFT  PARERIGHT  DOM
    return time_callback DOT times DOM
def time_qrnn PARELEFT  PARERIGHT  COLON  DOM
    model_qrnn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_qrnn DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_qrnn DOT add PARELEFT QRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_qrnn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_qrnn DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_qrnn DOT compile PARELEFT  PARERIGHT  DOM
    model_qrnn DOT fit PARELEFT  PARERIGHT  DOM
    return time_callback DOT times DOM
max_features  EQUAL  20000 DOM
maxlen  EQUAL  256 DOM
batch_size  EQUAL  32 DOM
epochs  EQUAL  1 DOM
padding_mode  EQUAL   QUOTMARK  DOM
truncating_mode  EQUAL   QUOTMARK  DOM
matrice_results  EQUAL  [] DOM
    print PARELEFT  PARERIGHT  DOM
    X_train COMMA  y_train COMMA  X_test COMMA  y_test  EQUAL  regenerate_dataset PARELEFT  PARERIGHT  DOM
    batch_matrice  EQUAL  [] DOM
        print PARELEFT  PARERIGHT  DOM
        t1  EQUAL  time_qrnn PARELEFT batch_size EQUAL batch_size COMMA  train_set EQUAL  PARELEFT  PARERIGHT  COMMA  test_set EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        t2  EQUAL  time_lstm PARELEFT batch_size EQUAL batch_size COMMA  train_set EQUAL  PARELEFT  PARERIGHT  COMMA  test_set EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        batch_matrice DOT append PARELEFT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    matrice_results DOT append PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as file COLON  DOM
    pickle DOT dump PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  LSTM COMMA  Flatten COMMA  TimeDistributed DOM
from keras import optimizers DOM
import numpy as np DOM
import keras DOT backend as K DOM
import os DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  recurrent_activation EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA  units EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT int PARELEFT  PARERIGHT  COMMA  use_bias EQUAL True COMMA  recurrent_activation EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT int PARELEFT  PARERIGHT  COMMA  use_bias EQUAL True COMMA  recurrent_activation EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA  return_sequences EQUAL False PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
class Brain2 PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  recurrent_activation EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  COMMA  use_bias EQUAL True COMMA  return_sequences EQUAL False COMMA  units EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    passfrom keras DOT utils DOT visualize_util import plot DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Lambda DOM
from keras DOT layers DOT pooling import GlobalMaxPooling1D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
import numpy as np DOM
from keras import backend as K DOM
from keras DOT engine DOT topology import Layer DOM
from DSTC2 DOT traindev DOT scripts import myLogger DOM
__author__  EQUAL   QUOTMARK  DOM
def get_LSTM PARELEFT  PARERIGHT  COLON  DOM
    logger DOT info PARELEFT  PARERIGHT  DOM
    hidden_size  EQUAL  32 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GlobalMaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    plot PARELEFT  PARERIGHT  DOM
    logger DOT info PARELEFT  PARERIGHT  DOM
    return model DOM
def get_basic_LSTM PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    plot PARELEFT  PARERIGHT  DOM
    return model DOM
def basic_LSTM_init PARELEFT  PARERIGHT  COLON  DOM
    input_mtr  EQUAL  reduce PARELEFT lambda session1 COMMA  session2 COLON  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  input_mtr PARERIGHT  DOM
    input_mtr  EQUAL  np DOT array PARELEFT map PARELEFT lambda sentence COLON  np DOT array PARELEFT map PARELEFT lambda word COLON  np DOT array PARELEFT  PARERIGHT  COMMA  sentence PARERIGHT  PARERIGHT  COMMA  input_mtr PARERIGHT  PARERIGHT  DOM
    output_mtr  EQUAL  reduce PARELEFT lambda session1 COMMA  session2 COLON  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  output_mtr PARERIGHT  DOM
    bad_input  EQUAL  np DOT zeros PARELEFT [] PARERIGHT  DOM
    bad_output  EQUAL  np DOT zeros PARELEFT [] PARERIGHT  DOM
    bad_input_index  EQUAL  [] DOM
    for n in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        if  PARELEFT  PARERIGHT  DOT all PARELEFT  PARERIGHT  COLON  DOM
            bad_input_index DOT append PARELEFT  PARERIGHT  DOM
    input_mtr  EQUAL  np DOT delete PARELEFT  PARERIGHT  DOM
    output_mtr  EQUAL  np DOT delete PARELEFT  PARERIGHT  DOM
    return input_mtr COMMA  output_mtr DOM
class Thresholded PARELEFT  PARERIGHT  COLON  DOM
        self DOT supports_masking  EQUAL  True DOM
        self DOT theta  EQUAL  K DOT cast_to_floatx PARELEFT  PARERIGHT  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
    def call PARELEFT  PARERIGHT  COLON  DOM
        return 1 * K DOT cast PARELEFT x > self DOT theta COMMA  K DOT floatx PARELEFT  PARERIGHT  PARERIGHT  DOM
    def get_config PARELEFT  PARERIGHT  COLON  DOM
        config  EQUAL  { QUOTMARK  COLON  float PARELEFT  PARERIGHT } DOM
        base_config  EQUAL  super PARELEFT  PARERIGHT  DOT get_config PARELEFT  PARERIGHT  DOM
        return dict PARELEFT list PARELEFT base_config DOT items PARELEFT  PARERIGHT  PARERIGHT  + list PARELEFT config DOT items PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT from __future__ import print_function DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D DOM
from keras DOT datasets import imdb DOM
import pickle DOM
import pandas as pd DOM
max_features  EQUAL  20000 DOM
maxlen  EQUAL  100 DOM
embedding_size  EQUAL  128 DOM
kernel_size  EQUAL  5 DOM
filters  EQUAL  64 DOM
pool_size  EQUAL  4 DOM
lstm_output_size  EQUAL  70 DOM
batch_size  EQUAL  30 DOM
epochs  EQUAL  2 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
print PARELEFT len PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
print PARELEFT  QUOTMARK  PARERIGHT  DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
score COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
filename  EQUAL   QUOTMARK  DOM
pickle DOT dump PARELEFT model COMMA  open PARELEFT  PARERIGHT  PARERIGHT from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Input DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
import numpy as np DOM
import keras DOT preprocessing DOT text as prep DOM
import keras DOT preprocessing DOT sequence as seq DOM
from keras import backend as K DOM
import  sklearn DOT cluster as clu DOM
from matplotlib import pyplot as plt DOM
from keras DOT utils DOT visualize_util import plot DOM
file EQUAL open PARELEFT  PARERIGHT  DOM
text EQUAL file DOT readlines PARELEFT  PARERIGHT  DOM
t1 EQUAL prep DOT Tokenizer PARELEFT  PARERIGHT  DOM
t1 DOT fit_on_texts PARELEFT  PARERIGHT  DOM
words EQUAL t1 DOT word_index DOT keys PARELEFT  PARERIGHT  DOM
wordsReverse EQUAL [] for i in words] DOM
print words DOM
print wordsReverse DOM
import numpy as np DOM
from random import random DOM
from matplotlib import pyplot DOM
from pandas import DataFrame DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Bidirectional DOM
def get_sequence PARELEFT  PARERIGHT  COLON  DOM
    limit  EQUAL  n_timesteps / 4 DOT 0 DOM
    X  EQUAL  np DOT random DOT uniform PARELEFT  PARERIGHT  DOM
    y  EQUAL  np DOT array PARELEFT [] PARERIGHT  DOM
    X  EQUAL  X DOT reshape PARELEFT  PARERIGHT   DOM
    y  EQUAL  y DOT reshape PARELEFT  PARERIGHT  DOM
    return  PARELEFT  PARERIGHT  DOM
def get_lstm_model PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT 20 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True COMMA  go_backwards EQUAL backwards PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def get_bi_lstm_model PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  merge_mode EQUAL mode PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def train_model PARELEFT  PARERIGHT  COLON  DOM
	loss  EQUAL  list PARELEFT  PARERIGHT  DOM
	for _ in range PARELEFT  PARERIGHT  COLON  DOM
		X COMMA  y  EQUAL  get_sequence PARELEFT  PARERIGHT  DOM
		hist  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
		loss DOT append PARELEFT  PARERIGHT  DOM
	return loss DOM
X COMMA  y  EQUAL  get_sequence PARELEFT  PARERIGHT  DOM
n_timesteps  EQUAL  10 DOM
results  EQUAL  DataFrame PARELEFT  PARERIGHT  DOM
model  EQUAL  get_bi_lstm_model PARELEFT  PARERIGHT  DOM
results[]  EQUAL  train_model PARELEFT  PARERIGHT  DOM
model  EQUAL  get_bi_lstm_model PARELEFT  PARERIGHT  DOM
results[]  EQUAL  train_model PARELEFT  PARERIGHT  DOM
model  EQUAL  get_bi_lstm_model PARELEFT  PARERIGHT  DOM
results[]  EQUAL  train_model PARELEFT  PARERIGHT  DOM
model  EQUAL  get_bi_lstm_model PARELEFT  PARERIGHT  DOM
results[]  EQUAL  train_model PARELEFT  PARERIGHT  DOM
results DOT plot PARELEFT  PARERIGHT  DOM
pyplot DOT show PARELEFT  PARERIGHT from __future__ import division DOM
from __future__ import absolute_import DOM
from __future__ import print_function DOM
import pandas as pd DOM
import numpy as np DOM
from tensorflow DOT contrib DOT keras DOT api DOT keras DOT models import Sequential DOM
from tensorflow DOT contrib DOT keras DOT api DOT keras DOT layers import LSTM as _LSTM DOM
from tensorflow DOT contrib DOT keras DOT api DOT keras DOT layers import Dropout DOM
from tensorflow DOT contrib DOT keras DOT api DOT keras DOT layers import Dense DOM
class LSTM PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
            raise TypeError PARELEFT  QUOTMARK  %  PARELEFT type PARELEFT  PARERIGHT  COMMA  type PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT  ! EQUAL  4 COLON  DOM
            raise ValueError PARELEFT  QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT _LSTM PARELEFT layers[] COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA pct_dropout PARERIGHT  PARERIGHT          DOM
        self DOT model DOT add PARELEFT _LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
    def fit PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT predict PARELEFT  PARERIGHT import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Convolution1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from theano DOT tensor DOT shared_randomstreams import RandomStreams DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
srng  EQUAL  RandomStreams PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
test_split  EQUAL  0 DOT 33 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT from tensorflow import keras DOM
from utils DOT ml_utils import MLModel DOM
class SimpleLSTM PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  keras DOT Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
def network_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT tf DOT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT tf DOT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT tf DOT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT tf DOT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return modelfrom sklearn DOT model_selection import train_test_split DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT models import Sequential COMMA Model DOM
from keras DOT layers import Dense COMMA LSTM COMMA Embedding DOM
from keras DOT optimizers import Adam DOM
from keras DOT layers import Bidirectional COMMA Conv1D COMMA GlobalMaxPooling1D COMMA MaxPooling1D COMMA Flatten DOM
from keras DOT callbacks import ModelCheckpoint COMMA  TensorBoard COMMA  Callback COMMA  EarlyStopping DOM
from keras DOT utils import to_categorical DOM
train  EQUAL  load_train_data PARELEFT  PARERIGHT [] DOM
y  EQUAL  train[] DOM
test  EQUAL  load_test_data PARELEFT  PARERIGHT  DOM
max_features  EQUAL  13000 DOM
max_words  EQUAL  50 DOM
batch_size  EQUAL  16 DOM
epochs  EQUAL  5 DOM
num_classes EQUAL 5 DOM
X_train  COMMA  X_val  COMMA  Y_train  COMMA  Y_val  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
Y_train  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
Y_val  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT list PARELEFT  PARERIGHT  PARERIGHT  DOM
X_train  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
X_val  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT   DOM
X_test  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL pad_sequences PARELEFT  PARERIGHT  DOM
X_val  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
model_LSTM EQUAL Sequential PARELEFT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_LSTM DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL Adam PARELEFT  PARERIGHT  COMMA metrics EQUAL [] PARERIGHT  DOM
model_LSTM DOT summary PARELEFT  PARERIGHT  DOM
layer_name  EQUAL   QUOTMARK  DOM
int_layer_model  EQUAL  Model PARELEFT inputs EQUAL model_LSTM DOT input COMMA outputs EQUAL model_LSTM DOT get_layer PARELEFT  PARERIGHT  DOT output PARERIGHT  DOM
int_out  EQUAL  int_layer_model DOT predict PARELEFT  PARERIGHT  DOM
history EQUAL model_LSTM DOT fit PARELEFT X_train COMMA  Y_train COMMA  alidation_data EQUAL  PARELEFT  PARERIGHT  COMMA pochs EQUAL epochs COMMA  atch_size EQUAL batch_size COMMA  verbose EQUAL 1 DOM
from keras DOT layers import LSTM COMMA  Dense COMMA  Input COMMA  InputLayer COMMA  Permute COMMA  BatchNormalization COMMA  \ DOM
    GRU COMMA  Conv1D COMMA  MaxPooling1D DOM
from keras DOT models import Sequential COMMA  save_model DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
from sklearn DOT model_selection import GridSearchCV DOM
from src DOT const import * DOM
from src DOT utils import * DOM
INPUT_SHAPE  EQUAL   PARELEFT  PARERIGHT  DOM
LSTM_SIZE  EQUAL  50 DOM
def get_model PARELEFT  PARERIGHT  COLON  DOM
    lstm_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT InputLayer PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Permute PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_model DOT summary PARELEFT  PARERIGHT  DOM
    lstm_model DOT compile PARELEFT  PARERIGHT  DOM
    return lstm_model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    csv_dict  EQUAL  read_csv_sequence PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    players_dict COMMA  val_players_dict  EQUAL  split_training_set PARELEFT  PARERIGHT  DOM
    batch_input COMMA  batch_input_other_info COMMA  batch_output COMMA  player_id_to_name_dict \ DOM
         EQUAL  csv_sequence_set_to_keras_batch PARELEFT  PARERIGHT  DOM
    val_batch_input COMMA  val_batch_input_other_info COMMA  val_batch_output COMMA  _ \ DOM
         EQUAL  csv_sequence_set_to_keras_batch PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  get_model PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT x EQUAL batch_input COMMA y EQUAL batch_output COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  COMMA epochs EQUAL 500 COMMA batch_size EQUAL 10 COMMA verbose EQUAL 2 PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    save_model PARELEFT  PARERIGHT  DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def build_improved_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_basic_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelimport numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
import sys DOM
sys DOT dont_write_bytecode  EQUAL  True DOM
import sklearn as sk DOM
from sklearn DOT metrics import f1_score DOM
import keras as k DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import LSTM COMMA  Merge DOM
import dataset DOM
import ConfigParser DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  cfg  EQUAL  ConfigParser DOT ConfigParser PARELEFT  PARERIGHT  DOM
  cfg DOT read PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  print  QUOTMARK  COMMA  cfg DOT get PARELEFT  PARERIGHT  DOM
  dataset  EQUAL  \ DOM
    dataset DOT DatasetProvider PARELEFT [] PARERIGHT  DOM
  train_x COMMA  train_y  EQUAL  dataset DOT load PARELEFT cfg DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
  test_x COMMA  test_y  EQUAL  dataset DOT load PARELEFT cfg DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
  maxlen  EQUAL  max PARELEFT [] PARERIGHT  DOM
  train_x  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
  train_y  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
  test_x  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
  test_y  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
  train_y  EQUAL   np DOT array PARELEFT [] PARERIGHT  DOM
  test_y  EQUAL   np DOT array PARELEFT [] PARERIGHT  DOM
  print  QUOTMARK  COMMA  train_x DOT shape DOM
  print  QUOTMARK  COMMA  train_y DOT shape DOM
  print  QUOTMARK  COMMA  test_x DOT shape DOM
  print  QUOTMARK  COMMA  test_y DOT shape DOM
  left  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  left DOT add PARELEFT Embedding PARELEFT input_dim EQUAL len PARELEFT  PARERIGHT  COMMA utput_dim EQUAL cfg DOT getint PARELEFT  PARERIGHT  COMMA input_length EQUAL maxlen COMMA ropout EQUAL cfg DOT getfloat PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  left DOT add PARELEFT LSTM PARELEFT cfg DOT getint PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA go_backwards EQUAL False COMMA pout_W  EQUAL  cfg DOT getfloat PARELEFT  PARERIGHT  COMMA pout_U  EQUAL  cfg DOT getfloat PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  right  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  right DOT add PARELEFT Embedding PARELEFT input_dim EQUAL len PARELEFT  PARERIGHT  COMMA utput_dim EQUAL cfg DOT getint PARELEFT  PARERIGHT  COMMA input_length EQUAL maxlen COMMA ropout EQUAL cfg DOT getfloat PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  right DOT add PARELEFT LSTM PARELEFT cfg DOT getint PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA go_backwards EQUAL True COMMA pout_W  EQUAL  cfg DOT getfloat PARELEFT  PARERIGHT  COMMA pout_U  EQUAL  cfg DOT getfloat PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dropout PARELEFT cfg DOT getfloat PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
  optimizer  EQUAL  RMSprop PARELEFT lr EQUAL cfg DOT getfloat PARELEFT  PARERIGHT  COMMA ho EQUAL 0 DOT 9 COMMA  epsilon EQUAL 1e-08 PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  model DOT fit PARELEFT [] COMMA train_y COMMA b_epoch EQUAL cfg DOT getint PARELEFT  PARERIGHT  COMMA atch_size EQUAL cfg DOT getint PARELEFT  PARERIGHT  COMMA verbose EQUAL 1 COMMA validation_split EQUAL 0 DOT 1 PARERIGHT  DOM
  distribution  EQUAL  \ DOM
    model DOT predict PARELEFT [] COMMA atch_size EQUAL cfg DOT getint PARELEFT  PARERIGHT  PARERIGHT  DOM
  predictions  EQUAL  np DOT argmax PARELEFT  PARERIGHT  DOM
  gold  EQUAL  np DOT argmax PARELEFT  PARERIGHT  DOM
  total_labels  EQUAL  gold DOT shape[] * gold DOT shape[] DOM
  predictions  EQUAL  predictions DOT reshape PARELEFT  PARERIGHT  DOM
  gold  EQUAL  gold DOT reshape PARELEFT  PARERIGHT  DOM
  label_f1  EQUAL  f1_score PARELEFT  PARERIGHT  DOM
  positive_class_index  EQUAL  1 DOM
  print  QUOTMARK  COMMA  label_f1[] DOM
  print  QUOTMARK  COMMA  label_f1import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM COMMA  Dropout DOM
from keras import backend as K DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
import tensorflow as tf DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
tensorboard  EQUAL  TensorBoard PARELEFT  PARERIGHT  DOM
rnn_history  EQUAL  LSTM_model DOT fit PARELEFT  PARERIGHT  DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def build_improved_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_basic_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelimport numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT models import load_model DOM
import h5py DOM
from keras DOT callbacks import ModelCheckpoint DOM
print PARELEFT  PARERIGHT  DOM
y_train  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
x_train  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
in_shape  EQUAL  x_train DOT shape[] DOM
print PARELEFT  PARERIGHT  DOM
model   EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT            DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
filepath  EQUAL   QUOTMARK  DOM
checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
callbacks_list  EQUAL  [] DOM
print PARELEFT  PARERIGHT  DOM
mini_batch_size  EQUAL  64 DOM
print PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM DOM
from keras import backend as K DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
modelLSTM_2a  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM_2a DOT summary PARELEFT  PARERIGHT  DOM
modelLSTM_2a DOT compile PARELEFT  PARERIGHT  DOM
tensorboard  EQUAL  TensorBoard PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  modelLSTM_2a DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 COMMA callbacks EQUAL [] DOM
import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM COMMA  Dropout DOM
from keras import backend as K DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
import tensorflow as tf DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
tensorboard  EQUAL  TensorBoard PARELEFT  PARERIGHT  DOM
rnn_history  EQUAL  LSTM_model DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 1 COMMA batch_size EQUAL 32 COMMA callbacks EQUAL [] COMMA validation_split EQUAL 0 DOT 3 DOM
import os DOM
global_model_version  EQUAL  53 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	adam  EQUAL  keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from random import random DOM
from numpy import array DOM
from numpy import cumsum DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Bidirectional DOM
from keras DOT utils import np_utils DOM
from keras DOT layers import Embedding DOM
from keras DOT optimizers import SGD DOM
from keras DOT layers import Conv1D DOM
from keras DOT layers import MaxPooling1D DOM
import sys DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
	X  EQUAL  X DOT astype PARELEFT  PARERIGHT  DOM
	print X DOT shape DOM
	print  QUOTMARK ; DOM
	y_init   EQUAL  np DOT genfromtxt PARELEFT  PARERIGHT  DOM
	y  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
	num_classes  EQUAL  y DOT shape[] DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  SGD PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	print model DOT summary PARELEFT  PARERIGHT ; DOM
	model DOT fit PARELEFT  PARERIGHT  DOM
	X_test  EQUAL  np DOT genfromtxt PARELEFT  PARERIGHT  DOM
	X_test  EQUAL  X_test DOT astype PARELEFT  PARERIGHT  DOM
	y_test  EQUAL  np DOT genfromtxt PARELEFT  PARERIGHT ; DOM
	y_test  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT ; DOM
	yhat  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
	print yhat[] DOM
	acc  EQUAL  0 DOT  DOM
	count  EQUAL  0 DOM
	for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
		print PARELEFT  QUOTMARK  COMMA  np DOT argmax PARELEFT  PARERIGHT  COMMA   QUOTMARK  COMMA  np DOT argmax PARELEFT  PARERIGHT  PARERIGHT  DOM
		if  PARELEFT int PARELEFT np DOT argmax PARELEFT  PARERIGHT  PARERIGHT   EQUAL  EQUAL  int PARELEFT np DOT argmax PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  COLON  DOM
			count+ EQUAL 1 DOM
	acc  EQUAL  float PARELEFT  PARERIGHT  / len PARELEFT  PARERIGHT  DOM
	print  PARELEFT  PARERIGHT from keras DOT layers import Dense COMMA  Flatten COMMA  Dropout COMMA  ZeroPadding3D DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT optimizers import Adam COMMA  RMSprop DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT convolutional import  PARELEFT  PARERIGHT  DOM
from collections import deque DOM
import sys DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT load_model  EQUAL  load_model DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT nb_classes  EQUAL  nb_classes DOM
        self DOT feature_queue  EQUAL  deque PARELEFT  PARERIGHT  DOM
        metrics  EQUAL  [] DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT lstm PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
    def lstm PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def mlp PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def threedconvolution PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT input_shape PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv3D PARELEFT 512 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelimport numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Flatten DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
class Data_Obj PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT in_data  EQUAL  input_data DOM
        self DOT out_data  EQUAL  output_data DOM
def data_func PARELEFT  PARERIGHT  COLON  DOM
    keras_X  EQUAL  [] DOM
    keras_Y  EQUAL  [] DOM
    temp  EQUAL  [] DOM
    filter_size  EQUAL  3 DOM
    for data in raw_data COLON  DOM
        temp DOT append PARELEFT np DOT asmatrix PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARERIGHT  PARERIGHT  DOM
        if data DOT out_data ! EQUAL  None COLON  DOM
            keras_Y DOT append PARELEFT np DOT asarray PARELEFT  PARERIGHT  PARERIGHT  DOM
    for temp_X in temp COLON  DOM
        real_X  EQUAL  [] DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            real_X DOT append PARELEFT  PARERIGHT  DOM
        keras_X DOT append PARELEFT np DOT asarray PARELEFT  PARERIGHT  PARERIGHT  DOM
    keras_X  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
    keras_Y  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
    return  PARELEFT  PARERIGHT  DOM
    filter_size  EQUAL  3 DOM
    cnn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    cnn DOT add PARELEFT Conv1D PARELEFT filters EQUAL 1 COMMA  kernel_size EQUAL 3 COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    cnn DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    cnn DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT cnn COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import LSTM COMMA  Dense COMMA  Dropout COMMA  Input DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D COMMA  Flatten DOM
from keras DOT layers import concatenate DOM
from keras DOT layers import BatchNormalization DOM
from keras import optimizers DOM
class ThreeLayerLSTM PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT L1  EQUAL  L1 DOM
        self DOT L2  EQUAL  L2 DOM
        self DOT L3  EQUAL  L3 DOM
        self DOT data_dim  EQUAL  data_dim DOM
        self DOT t  EQUAL  t DOM
        self DOT num_classes  EQUAL  num_classes DOM
    def build_network PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT self DOT L1 COMMA  return_sequences EQUAL True COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA activation EQUAL  QUOTMARK  COMMA dropout EQUAL  DOT 4 PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
class ThreeLayerLSTMandCNN PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT L1  EQUAL  L1 DOM
        self DOT L2  EQUAL  L2 DOM
        self DOT L3  EQUAL  L3 DOM
        self DOT data_dim  EQUAL  data_dim DOM
        self DOT t  EQUAL  t DOM
        self DOT num_classes  EQUAL  num_classes DOM
        self DOT imgWidth  EQUAL  imgWidth DOM
        self DOT imgHeight  EQUAL  imgHeight DOM
    def build_network PARELEFT  PARERIGHT  COLON  DOM
        temporal_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        temporal_model DOT add PARELEFT LSTM PARELEFT self DOT L1 COMMA  return_sequences EQUAL True COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA ctivation EQUAL  QUOTMARK  COMMA  dropout EQUAL  DOT 4 PARERIGHT  PARERIGHT  DOM
        temporal_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        temporal_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        temporal_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        temporal_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        temporal_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        encoded_temp  EQUAL  temporal_model PARELEFT  PARERIGHT  DOM
        spat_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT MaxPooling2D PARELEFT  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Conv2D PARELEFT 128 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT MaxPooling2D PARELEFT  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Conv2D PARELEFT 256 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT MaxPooling2D PARELEFT  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        spat_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        spat_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        encoded_spat  EQUAL  spat_model PARELEFT  PARERIGHT  DOM
        merged  EQUAL  concatenate PARELEFT  PARERIGHT  DOM
        output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        adam  EQUAL  optimizers DOT adam PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM COMMA  Dropout DOM
from time import time DOM
from keras DOT callbacks import TensorBoard DOM
import numpy as np DOM
from data import * DOM
import matplotlib DOT pyplot as plt DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT 120 COMMA eturn_sequences EQUAL  True COMMA activation EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    tensorboard  EQUAL  TensorBoard PARELEFT log_dir EQUAL  QUOTMARK  DOT format PARELEFT time PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT x_train COMMA  y_train COMMA  epochs EQUAL 200 COMMA tch_size EQUAL 10 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA erbose EQUAL 1 COMMA  callbacks EQUAL [] PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    vc COMMA  vl COMMA  rpm COMMA  va COMMA  ia  EQUAL  loadData PARELEFT  PARERIGHT  DOM
    data  EQUAL  createFrames PARELEFT  PARERIGHT  DOM
    x_train COMMA  x_test COMMA  y_train COMMA  y_test  EQUAL  dataPreparation PARELEFT  PARERIGHT  DOM
    model  EQUAL  build_model PARELEFT  PARERIGHT  DOM
    print model DOT summary PARELEFT  PARERIGHT  DOM
    yhat  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    y_test  EQUAL  y_test DOT reshape PARELEFT len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT show PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Reshape COMMA  Merge COMMA  Dropout COMMA  Input COMMA  SimpleRNN DOM
from keras DOT layers DOT embeddings import Embedding DOM
from dictionary import Dictionary DOM
from constants import * DOM
from model_base import ModelBase DOM
class RNN PARELEFT  PARERIGHT  COLON  DOM
    rnn_hiden_units  EQUAL  None DOM
    deeper_lstm  EQUAL  None DOM
    dropout  EQUAL  None DOM
    recurrent_dropout  EQUAL  None DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT rnn_hiden_units  EQUAL  rnn_hidden_units DOM
        self DOT deeper_lstm  EQUAL  deeper_lstm DOM
        self DOT dropout  EQUAL  dropout DOM
        self DOT recurrent_dropout  EQUAL  recurrent_dropout DOM
        self DOT model_name  EQUAL   QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  \ DOM
                        + str PARELEFT  PARERIGHT  + QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  + \ DOM
                           QUOTMARK  + str PARELEFT  PARERIGHT  DOM
        self DOT model_type  EQUAL   QUOTMARK  DOM
    def build_visual_model PARELEFT  PARERIGHT  COLON  DOM
        image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        image_dimension  EQUAL  self DOT dictionary DOT pp_data DOT calculateImageDimension PARELEFT  PARERIGHT  DOM
        image_model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        language_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        language_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
    def build_language_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelimport numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Embedding COMMA  LSTM COMMA  Bidirectional DOM
from keras DOT datasets import imdb DOM
from keras DOT callbacks import TensorBoard DOM
max_features  EQUAL  5000 DOM
no_classes  EQUAL  1 DOM
max_length  EQUAL  100 DOM
batch_size  EQUAL  32 DOM
embedding_size  EQUAL  64 DOM
dropout_rate  EQUAL  0 DOT 5 DOM
no_epochs  EQUAL  5 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
x_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
tensorboard  EQUAL  TensorBoard PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
LSTM_model DOT fit PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
Multilayer Perceptron  PARELEFT  PARERIGHT  for multi-class softmax classification DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT optimizers import SGD DOM
import numpy as np DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
VGG-like convnet DOM
import numpy as np DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import SGD DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
Sequence classification with 1D convolutions DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Conv1D COMMA  GlobalAveragePooling1D COMMA  MaxPooling1D DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT 64 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
Sequence classification with LSTM DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
data_dim  EQUAL  16 DOM
timesteps  EQUAL  8 DOM
num_classes  EQUAL  10 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Activation DOM
from keras DOT utils import np_utils DOM
from keras DOT callbacks import ModelCheckpoint DOM
def LSTM_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 1024 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import Callback DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
    def on_batch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def neural_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT rams[] COMMA  init EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if load COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom __future__ import print_function DOM
import numpy as np DOM
from sklearn DOT metrics import  PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader1  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list1  EQUAL  list PARELEFT  PARERIGHT  DOM
testX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y1  EQUAL  testdata DOT iloc[] DOM
y_test1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
testX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  2 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
import os DOM
for file in os DOT listdir PARELEFT  PARERIGHT  COLON  DOM
  model DOT load_weights PARELEFT  PARERIGHT  DOM
  y_pred  EQUAL  model DOT predict_classes PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  accuracy  EQUAL  accuracy_score PARELEFT  PARERIGHT  DOM
  recall  EQUAL  recall_score PARELEFT  PARERIGHT  DOM
  precision  EQUAL  precision_score PARELEFT  PARERIGHT  DOM
  f1  EQUAL  f1_score PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT  DOM
  print PARELEFT  PARERIGHT from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
import numpy as np DOM
from tensorflow DOT python DOT framework import test_util as tf_test_util DOM
from tensorflow DOT python DOT keras DOT _impl import keras DOM
from tensorflow DOT python DOT keras DOT _impl DOT keras import testing_utils DOM
from tensorflow DOT python DOT platform import test DOM
from tensorflow DOT python DOT training DOT rmsprop import RMSPropOptimizer DOM
class LSTMLayerTest PARELEFT  PARERIGHT  COLON  DOM
  @tf_test_util DOT run_in_graph_and_eager_modes PARELEFT  PARERIGHT  DOM
  def test_return_sequences_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA return_sequences' COLON  True} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_static_shape_inference_LSTM PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  keras DOT layers DOT Dense PARELEFT embedding_dim COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  model DOT layers[] DOT output DOM
    self DOT assertEquals PARELEFT outputs DOT get_shape PARELEFT  PARERIGHT  DOT as_list PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
  @tf_test_util DOT run_in_graph_and_eager_modes PARELEFT  PARERIGHT  DOM
  def test_dynamic_behavior_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT RMSPropOptimizer PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
    x  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  @tf_test_util DOT run_in_graph_and_eager_modes PARELEFT  PARERIGHT  DOM
  def test_dropout_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA dropout QUOTMARK  COLON  0 DOT 1} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  @tf_test_util DOT run_in_graph_and_eager_modes PARELEFT  PARERIGHT  DOM
  def test_implementation_mode_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    for mode in [] COLON  DOM
      testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA implementation' COLON  mode} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_statefulness_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT 4 COMMA embedding_dim COMMA mask_zero EQUAL True COMMA input_length EQUAL timesteps COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      out1  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT out1 DOT shape COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      out2  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out1 DOT max PARELEFT  PARERIGHT  COMMA  out2 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      out3  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out2 DOT max PARELEFT  PARERIGHT  COMMA  out3 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT reset_states PARELEFT  PARERIGHT  DOM
      out4  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
      out5  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out4 DOT max PARELEFT  PARERIGHT  COMMA  out5 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      left_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      left_padded_input[]  EQUAL  0 DOM
      left_padded_input[]  EQUAL  0 DOM
      out6  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      right_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      right_padded_input[]  EQUAL  0 DOM
      right_padded_input[]  EQUAL  0 DOM
      out7  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
  def test_regularizers_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL  QUOTMARK  COMMA activity_regularizer EQUAL  QUOTMARK  PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  3 PARERIGHT  DOM
      x  EQUAL  keras DOT backend DOT variable PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT layer DOT get_losses_for PARELEFT  PARERIGHT  PARERIGHT  COMMA  1 PARERIGHT  DOM
  def test_constraints_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      k_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
      r_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
      b_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
      layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL k_constraint COMMA recurrent_constraint EQUAL r_constraint COMMA bias_constraint EQUAL b_constraint PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT  PARERIGHT  DOM
  def test_with_masking_layer_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
      model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      model DOT add PARELEFT layer_class PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      model DOT fit PARELEFT  PARERIGHT  DOM
  def test_from_config_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    for stateful in  PARELEFT  PARERIGHT  COLON  DOM
      l1  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      l2  EQUAL  layer_class DOT from_config PARELEFT l1 DOT get_config PARELEFT  PARERIGHT  PARERIGHT  DOM
      assert l1 DOT get_config PARELEFT  PARERIGHT   EQUAL  EQUAL  l2 DOT get_config PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [] DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
        output  EQUAL  layer PARELEFT  PARERIGHT  DOM
      else COLON  DOM
        output  EQUAL  layer PARELEFT  PARERIGHT  DOM
      assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                       for _ in range PARELEFT  PARERIGHT ] DOM
      targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_non_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [keras DOT backend DOT random_normal_variable PARELEFT  PARERIGHT  COMMA  0 COMMA  1 PARERIGHT  DOM
                       for _ in range PARELEFT  PARERIGHT ] DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_reset_states_with_values PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
      assert layer DOT states[] is not None DOM
      self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT zeros PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
      state_shapes  EQUAL  [] DOM
      values  EQUAL  [] DOM
      if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
        values  EQUAL  values[] DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT ones PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
      with self DOT assertRaises PARELEFT  PARERIGHT  COLON  DOM
        layer DOT reset_states PARELEFT [] *  PARELEFT len PARELEFT  PARERIGHT  + 1 PARERIGHT  PARERIGHT  DOM
  def test_specify_state_with_masking PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      _  EQUAL  keras DOT layers DOT Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
      initial_state  EQUAL  [] DOM
      output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                       for _ in range PARELEFT  PARERIGHT ] DOM
      targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_return_state PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
      state  EQUAL  outputs[] DOM
      assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      state  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA  state COMMA  atol EQUAL 1e-4 PARERIGHT  DOM
  def test_state_reuse PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
      output COMMA  state  EQUAL  outputs[] COMMA  outputs[] DOM
      output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      outputs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  def test_initial_states_as_other_inputs PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    num_states  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      main_inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [] DOM
      inputs  EQUAL  [] + initial_state DOM
      layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
      assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      main_inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                       for _ in range PARELEFT  PARERIGHT ] DOM
      targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  test DOT main PARELEFT  PARERIGHT import keras DOM
from keras DOT layers import Convolution2D COMMA  Activation COMMA  MaxPooling2D COMMA  Flatten COMMA  Dense COMMA  LSTM COMMA  Dropout DOM
from keras DOT models import Sequential DOM
from keras DOT regularizers import l2 DOM
__author__  EQUAL   QUOTMARK  DOM
def create_compile_cnn_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    number_of_time_stamps  EQUAL  20 DOM
    number_of_out_channels  EQUAL  10 DOM
    number_of_in_channels  EQUAL  55 DOM
    model DOT add PARELEFT Convolution2D PARELEFT nb_filter EQUAL 10 COMMA nb_col EQUAL number_of_out_channels COMMA nb_row EQUAL 1 COMMA put_shape EQUAL  PARELEFT  PARERIGHT  COMMA border_mode EQUAL  QUOTMARK  COMMA init EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT olution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_compile_lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT 2 COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    return model_lstm DOM
def create_compile_lstm_model_letter PARELEFT  PARERIGHT  COLON  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT 5 COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    return model_lstm DOM
def create_compile_dense_model PARELEFT  PARERIGHT  COLON  DOM
    model_lstm DOT add PARELEFT keras DOT layers DOT core DOT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT input_dim EQUAL 55 * 100 COMMA  output_dim EQUAL 30 COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    return model_lstm DOM
def create_small_compile_dense_model PARELEFT  PARERIGHT  COLON  DOM
    model_lstm DOT add PARELEFT keras DOT layers DOT core DOT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT output_dim EQUAL 20 COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    return model_lstm DOM
def create_small_compile_dense_model_color PARELEFT  PARERIGHT  COLON  DOM
    model_lstm DOT add PARELEFT keras DOT layers DOT core DOT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT output_dim EQUAL 20 COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    return model_lstm DOM
def create_small_compile_dense_model_color_less_params PARELEFT  PARERIGHT  COLON  DOM
    model_lstm DOT add PARELEFT keras DOT layers DOT core DOT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT output_dim EQUAL 5 COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT compile PARELEFT  PARERIGHT  DOM
    return model_lstmfrom keras DOT models import Sequential DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT optimizers import RMSprop DOM
def lstm_basic PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT hidden COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA  optimizer EQUAL RMSprop PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def lstm_embedding PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA put_dim EQUAL vocab_size + 1 COMMA output_dim EQUAL embeddings COMMA mask_zero EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSprop PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
import keras DOM
from keras DOT layers import Dropout COMMA  LSTM COMMA  Dense COMMA  Activation DOM
from keras DOT models import Sequential DOM
from keras DOT regularizers import l2 DOM
from commons import * DOM
__author__  EQUAL   QUOTMARK  DOM
__version__  EQUAL   QUOTMARK  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    number_of_time_stamps  EQUAL  50 DOM
    data  EQUAL  get_data_list_on_folder PARELEFT  PARERIGHT  DOM
     PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
    hidden_neurons  EQUAL  64 DOM
    batch_size  EQUAL  32 DOM
    model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT fit PARELEFT  PARERIGHT  DOM
    predicted  EQUAL  model_lstm DOT predict PARELEFT  PARERIGHT  DOM
else COLON  DOM
    print PARELEFT  QUOTMARK main QUOTMARK  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense COMMA  Activation DOM
number_epochs  EQUAL  10 DOM
batch_size  EQUAL  1  DOM
verbose  EQUAL  2 DOM
step_size  EQUAL  1 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
def model2 PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT 	return_sequences EQUAL return_seq COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL outdim PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def model1 PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT 	return_sequences EQUAL return_seqnput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL outdim PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
import soundlib DOM
X  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 512 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  return_sequences  EQUAL  True PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
filepath EQUAL  QUOTMARK  DOM
checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
callbacks_list  EQUAL  [] DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  46 DOM
global_batch_size  EQUAL  16 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import yaml DOM
import numpy as np DOM
import pandas as pd DOM
from sklearn DOT cross_validation import KFold DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  LSTM COMMA  Bidirectional COMMA  Convolution1D COMMA  MaxPooling1D DOM
from keras DOT layers DOT advanced_activations import PReLU DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping DOM
from sklearn DOT metrics import f1_score COMMA  confusion_matrix DOM
nfolds  EQUAL  10 DOM
nb_epoch  EQUAL  100 DOM
batch_size  EQUAL  512 DOM
nlabels  EQUAL  8 DOM
nb_filter  EQUAL  512 DOM
filter_length  EQUAL  5 DOM
lstm_timesteps  EQUAL  5 DOM
lstm_input_dim  EQUAL  50 DOM
lstm_units  EQUAL  150 DOM
cfg  EQUAL  yaml DOT load PARELEFT open PARELEFT  PARERIGHT  PARERIGHT  DOM
if cfg[] COLON  DOM
   lstm_timesteps  EQUAL  cfg[] DOM
if cfg[] COLON  DOM
   lstm_input_dim  EQUAL  cfg[] DOM
if cfg[] COLON  DOM
   nlabels  EQUAL  cfg[] DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
def nn_model PARELEFT  PARERIGHT  COLON  DOM
   model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
   model DOT add PARELEFT Convolution1D PARELEFT nb_filter EQUAL nb_filter COMMA filter_length EQUAL filter_length COMMA                     nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT PReLU PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
   model DOT compile PARELEFT  PARERIGHT  DOM
   return PARELEFT  PARERIGHT  DOM
df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
X  EQUAL  df DOT iloc[] DOT values DOM
print PARELEFT  PARERIGHT  DOM
X  EQUAL  X DOT reshape PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOM
y  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
folds  EQUAL  KFold PARELEFT len PARELEFT  PARERIGHT  COMMA  n_folds  EQUAL  nfolds COMMA  shuffle  EQUAL  True PARERIGHT  DOM
currentFold  EQUAL  0 DOM
foldScores  EQUAL  [] DOM
for  PARELEFT  PARERIGHT  in folds COLON  DOM
   xtr  EQUAL  X[] DOM
   ytr  EQUAL  y[] DOM
   xte  EQUAL  X[] DOM
   yte  EQUAL  y[] DOM
   print PARELEFT  PARERIGHT  DOM
   model  EQUAL  nn_model PARELEFT  PARERIGHT  DOM
   callbacks  EQUAL  [ DOM
      EarlyStopping PARELEFT  PARERIGHT  COMMA  DOM
      ModelCheckpoint PARELEFT monitor EQUAL  QUOTMARK  COMMA  filepath EQUAL  PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  COMMA  verbose EQUAL 0 COMMA  save_best_only  EQUAL  True PARERIGHT  DOM
   ] DOM
   model DOT fit PARELEFT xtr COMMA  ytr COMMA  batch_size EQUAL batch_size COMMA  nb_epoch EQUAL nb_epoch COMMA rbose EQUAL 1 COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA callbacks EQUAL callbacks PARERIGHT  DOM
   ypred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
   ypred_max  EQUAL  ypred DOT argmax PARELEFT  PARERIGHT    DOM
   yte_max  EQUAL  yte DOT argmax PARELEFT  PARERIGHT  DOM
   score  EQUAL  f1_score PARELEFT  PARERIGHT     DOM
   foldScores DOT append PARELEFT  PARERIGHT  DOM
   print PARELEFT  QUOTMARK  % confusion_matrix PARELEFT  PARERIGHT  PARERIGHT  DOM
   print PARELEFT  PARERIGHT     DOM
   print PARELEFT  QUOTMARK  COMMA  np DOT mean PARELEFT  PARERIGHT  PARERIGHT  DOM
   currentFold + EQUAL  1 DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  COMMA  np DOT mean PARELEFT  PARERIGHT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  BatchNormalization DOM
from keras DOT layers import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT utils import np_utils DOM
from keras DOT optimizers import adagrad COMMA  adadelta DOM
from keras import regularizers DOM
from keras DOT layers import LSTM DOM
from keras DOT regularizers import l2 DOM
class LSTM_M2 COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 1000 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT Model  EQUAL  modelimport os DOM
global_model_version  EQUAL  47 DOM
global_batch_size  EQUAL  16 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  50 DOM
global_batch_size  EQUAL  16 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 8 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 10 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import load_model DOM
import numpy as np DOM
import data_proc DOM
import os DOM
def lstm_with_generator PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit_generator PARELEFT data_proc DOT generator_from_path PARELEFT  PARERIGHT  COMMA  steps_per_epoch EQUAL 1970 COMMA  epochs EQUAL 15 COMMA  validation_data  EQUAL _proc DOT generator_from_path PARELEFT  PARERIGHT  COMMA  validation_steps  EQUAL  378 PARERIGHT  DOM
    model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
    res  EQUAL  model DOT evaluate_generator PARELEFT data_proc DOT generator_from_path PARELEFT  PARERIGHT  COMMA  steps EQUAL 378 PARERIGHT  DOM
    print  PARELEFT  PARERIGHT  DOM
    print  PARELEFT  PARERIGHT  DOM
def lstm_train PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	model DOT fit PARELEFT X_train COMMA  Y_train COMMA  batch_size EQUAL 16 COMMA  epochs EQUAL 15 COMMA validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
	res  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
	print  PARELEFT  PARERIGHT  DOM
	print  PARELEFT  PARERIGHT  DOM
def lstm_predict PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
	return res DOM
if __name__ EQUAL  EQUAL  QUOTMARK  COLON  DOM
	lstm_with_generator PARELEFT  PARERIGHT  DOM
from __future__ import absolute_import COMMA  division COMMA  print_function DOM
import tensorflow as tf DOM
from tensorflow import keras DOM
from keras DOT layers import LSTM DOM
def build_basic_model PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  keras DOT Sequential PARELEFT [] PARERIGHT  DOM
  optimizer  EQUAL  tf DOT train DOT RMSPropOptimizer PARELEFT  PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  return model DOM
def build_lstm_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT nn_nodes COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
import json DOM
from collections import defaultdict DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT optimizers import SGD DOM
from keras DOT callbacks import LearningRateScheduler DOM
from keras DOT callbacks import EarlyStopping DOM
from keras DOT callbacks import ModelCheckpoint DOM
maxlen  EQUAL  50 DOM
PATH_PN  EQUAL   QUOTMARK  DOM
PATH_TOKENIZER  EQUAL   QUOTMARK  DOM
tokenizer  EQUAL  defaultdict PARELEFT  PARERIGHT  DOM
tokenizer DOT update PARELEFT json DOT load PARELEFT open PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
tokens  EQUAL  list PARELEFT set PARELEFT  PARERIGHT  PARERIGHT  DOM
token_min  EQUAL  min PARELEFT  PARERIGHT  DOM
token_max  EQUAL  max PARELEFT  PARERIGHT  DOM
def tokenize PARELEFT  PARERIGHT  COLON  DOM
    return list PARELEFT map PARELEFT  PARERIGHT  PARERIGHT  DOM
pn  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pn[]  EQUAL  pn[] DOT apply PARELEFT lambda line COLON  list PARELEFT jieba DOT cut PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
pn[]  EQUAL  list PARELEFT sequence DOT pad_sequences PARELEFT  PARERIGHT  PARERIGHT  DOM
x  EQUAL  np DOT array PARELEFT list PARELEFT  PARERIGHT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT list PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
MODEL_LSTM_PATH  EQUAL   QUOTMARK  DOM
model_checkpoint_better_path  EQUAL  MODEL_LSTM_PATH +  QUOTMARK  \ DOM
                                                  QUOTMARK  \ DOM
                                                  QUOTMARK  \ DOM
                                                  QUOTMARK  DOM
model_checkpoint_best_path  EQUAL  MODEL_LSTM_PATH +  QUOTMARK  DOM
sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
checkpoint_better  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
checkpoint_best  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import Callback DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
    def on_batch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def neural_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT rams[] COMMA  init EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if load COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT models import Sequential DOM
def get_lstm PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT units[] COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_gru PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT GRU PARELEFT units[] COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def _get_sae PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_saes PARELEFT  PARERIGHT  COLON  DOM
    sae2  EQUAL  _get_sae PARELEFT  PARERIGHT  DOM
    sae3  EQUAL  _get_sae PARELEFT  PARERIGHT  DOM
    saes  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    models  EQUAL  [] DOM
    return modelsimport keras DOT backend as k DOM
from keras import layers DOM
from keras DOT layers import Input COMMA  Dense COMMA  Reshape COMMA  Flatten COMMA  Embedding COMMA  Dropout COMMA  LSTM DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
from keras DOT layers DOT convolutional import UpSampling2D COMMA  Conv2D DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT optimizers import Adam DOM
from keras DOT utils DOT generic_utils import Progbar  DOM
import numpy as np DOM
import pickle DOM
import datetime DOM
from ml DOT public import * DOM
def ann_build_generator PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  return model DOM
def ann_train_test PARELEFT  PARERIGHT  COLON  DOM
  st  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  model  EQUAL  ann_build_generator PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT fit PARELEFT  PARERIGHT  DOM
  with open PARELEFT  PARERIGHT  as handle COLON  DOM
    pickle DOT dump PARELEFT  PARERIGHT  DOM
  Y_pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  tp COMMA  tn COMMA  fp COMMA  fn  EQUAL  pred_test_lstm PARELEFT  PARERIGHT  DOM
  ed  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
  print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
  return  QUOTMARK  + gen_result_line PARELEFT  PARERIGHT  DOM
def dnn_build_generator PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  return model DOM
def dnn_train_test PARELEFT  PARERIGHT  COLON  DOM
  st  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  model  EQUAL  dnn_build_generator PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT fit PARELEFT  PARERIGHT  DOM
  with open PARELEFT  PARERIGHT  as handle COLON  DOM
    pickle DOT dump PARELEFT  PARERIGHT  DOM
  Y_pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  tp COMMA  tn COMMA  fp COMMA  fn  EQUAL  pred_test_lstm PARELEFT  PARERIGHT  DOM
  ed  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
  print PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT  DOM
  return  QUOTMARK  + gen_result_line PARELEFT  PARERIGHT  DOM
def lstm_build_generator PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  return model DOM
def lstm_build_generator2 PARELEFT  PARERIGHT  COLON  DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT compile PARELEFT  PARERIGHT  DOM
  return model DOM
def lstm_data_gen PARELEFT  PARERIGHT  COLON  DOM
  n_X_train  EQUAL  [] DOM
  cur_X_train  EQUAL  [] DOM
  n_Y_train  EQUAL  [] DOM
  cur_Y_train  EQUAL  [] DOM
  for i in range PARELEFT cnt COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
    n_X_train DOT append PARELEFT  PARERIGHT  DOM
    n_Y_train DOT append PARELEFT  PARERIGHT  DOM
  return np DOT array PARELEFT  PARERIGHT  COMMA  np DOT array PARELEFT  PARERIGHT  DOM
def lstm_train_test PARELEFT  PARERIGHT  COLON  DOM
  st  EQUAL  datetime DOT datetime DOT now PARELEFT  PARERIGHT  DOM
  model  EQUAL  lstm_build_generator PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
  n_X_train COMMA  n_Y_train  EQUAL  lstm_data_gen PARELEFT  PARERIGHT  DOM
  model DOT fit PARELEFT  PARERIGHT  DOM
  n_X_test COMMA  n_Y_test  EQUAL  lstm_data_gen PARELEFT  PARERIGHT  DOM
  Y_pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  tp COMMA  tn COMMA  fp COMMA  fn  EQUAL  pred_test_lstm PARELEFT  PARERIGHT  DOM
  return  QUOTMARK  + gen_result_line PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
import numpy as np DOM
import time DOM
import csv DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA Merge DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
import copy DOM
data_dim  EQUAL  1 DOM
timesteps  EQUAL  13 DOM
model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm_hidden_size  EQUAL  [] DOM
drop_out_rate  EQUAL  [] DOM
model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
in_dimension  EQUAL  3; DOM
nn_hidden_size  EQUAL  [] DOM
nn_drop_rate  EQUAL  [] DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT compile PARELEFT  PARERIGHT  DOM
from keras DOT utils DOT visualize_util import plot COMMA  to_graph DOM
graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
graph DOT write_png PARELEFT  PARERIGHT from utility DOT enums import Processor COMMA  RnnType DOM
def CreateModel PARELEFT  PARERIGHT  COLON  DOM
    keras_impl  EQUAL  __getKerasImplementation PARELEFT  PARERIGHT  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        print PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  RnnType DOT LSTM  COLON  DOM
        if args[]  EQUAL  EQUAL  Processor DOT GPU and args[]  EQUAL  EQUAL  True COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            return __createCUDNN_LSTM_Stateless PARELEFT  PARERIGHT   DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            return __createLSTM_Stateless PARELEFT  PARERIGHT    DOM
    elif args[]  EQUAL  EQUAL  RnnType DOT GRU COLON  DOM
        if args[]  EQUAL  EQUAL  Processor DOT GPU and args[]  EQUAL  EQUAL  True COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            return __createCUDNN_GRU_Stateless PARELEFT  PARERIGHT   DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            return __createGRU_Stateless PARELEFT  PARERIGHT     DOM
    elif args[]  EQUAL  EQUAL  RnnType DOT RNN COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        return __createRNN_Stateless PARELEFT  PARERIGHT   DOM
    else COLON  DOM
        raise ValueError PARELEFT  PARERIGHT  DOM
def CreateCallbacks PARELEFT  PARERIGHT  COLON  DOM
    callbacks  EQUAL  [] DOM
    keras_impl  EQUAL  __getKerasImplementation PARELEFT  PARERIGHT  DOM
    callbacks DOT append PARELEFT keras_impl DOT callbacks DOT EarlyStopping PARELEFT  PARERIGHT  PARERIGHT  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        callbacks DOT append PARELEFT keras_impl DOT callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  PARERIGHT  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        callbacks DOT append PARELEFT keras_impl DOT callbacks DOT ReduceLROnPlateau PARELEFT  PARERIGHT  PARERIGHT  DOM
    callbacks DOT append PARELEFT keras_impl DOT callbacks DOT CSVLogger PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  True COLON  DOM
        callsbacks DOT append PARELEFT tensorboard_cb  EQUAL  TensorBoard PARELEFT  PARERIGHT  PARERIGHT  DOM
    return callbacks DOM
def CreateOptimizer PARELEFT  PARERIGHT  COLON  DOM
    if args[]  EQUAL  EQUAL  Processor DOT TPU COLON  DOM
        import tensorflow as tf  DOM
        return tf DOT contrib DOT opt DOT NadamOptimizer PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        return keras_impl DOT optimizers DOT Nadam PARELEFT  PARERIGHT     DOM
def __getKerasImplementation PARELEFT  PARERIGHT  COLON  DOM
    if PARELEFT  PARERIGHT  COLON  DOM
        import tensorflow DOM
        from tensorflow DOT python import keras as keras_impl DOM
    else COLON  DOM
        import keras as keras_impl DOM
    return keras_impl DOM
def __createCUDNN_LSTM_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT          DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON              DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT                    DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def __createLSTM_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT LSTM PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT  DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT LSTM PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT                  DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT     DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def __createCUDNN_GRU_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON              DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
             model DOT add PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT         DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON              DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON              DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT                    DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT CuDNNGRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def __createGRU_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT GRU PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT          DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT GRU PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT                  DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def __createRNN_Stateless PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  keras_impl DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    if args[]  EQUAL  EQUAL  1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL False COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT          DOM
    if args[] > 1 COLON  DOM
        if args[]  EQUAL  EQUAL  True COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT args[] COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA  kernel_initializer EQUAL  QUOTMARK  COMMA  dropout EQUAL args[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
            if i  EQUAL  EQUAL  args[] - 2 COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT                  DOM
            else COLON  DOM
                if args[]  EQUAL  EQUAL  True COLON   DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT Bidirectional PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
                else COLON  DOM
                    model DOT add PARELEFT keras_impl DOT layers DOT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT keras_impl DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    opt  EQUAL  CreateOptimizer PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport os DOM
global_model_version  EQUAL  42 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 300 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 300 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 300 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 300 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 300 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 300 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
__author__  EQUAL   QUOTMARK  DOM
__author2__  EQUAL   QUOTMARK  DOM
__license__  EQUAL   QUOTMARK  DOM
__version__  EQUAL   QUOTMARK  DOM
__maintainer__  EQUAL   QUOTMARK  DOM
__maintainer2__  EQUAL   QUOTMARK  DOM
__email__  EQUAL   QUOTMARK  DOM
__email2__  EQUAL   QUOTMARK  DOM
__status__  EQUAL   QUOTMARK  DOM
from keras DOT models import Model COMMA  Sequential COMMA  load_model DOM
from keras DOT layers import Input COMMA  Dense DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed COMMA  Bidirectional DOM
from keras DOT layers DOT core import RepeatVector DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT noise import GaussianNoise DOM
from keras DOT layers DOT convolutional import Convolution1D DOM
from keras DOT layers DOT pooling import MaxPooling1D DOM
from scipy DOT spatial DOT distance import cosine DOM
import numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
class Sequence2Sequence COLON  DOM
	@staticmethod DOM
	def decode_one_hot PARELEFT  PARERIGHT  COLON   DOM
		predicted  EQUAL  keras_model DOT predict PARELEFT np DOT array PARELEFT  PARERIGHT  PARERIGHT [] DOM
		res  EQUAL  [] DOM
		for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
			argmax  EQUAL  np DOT argmax PARELEFT  PARERIGHT  DOM
			if argmax EQUAL  EQUAL max_word_index-1 COLON   DOM
				res DOT append PARELEFT  PARERIGHT  ; break DOM
			elif argmax EQUAL  EQUAL max_word_index COLON  pass DOM
			else COLON   DOM
				if reverse_index[]! EQUAL  QUOTMARK  and reverse_index[]! EQUAL  QUOTMARK  COLON  DOM
					res DOT append PARELEFT  PARERIGHT  DOM
				else COLON  DOM
					res DOT append PARELEFT  PARERIGHT ; break DOM
		return  QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
	@staticmethod DOM
	def decode_embedding PARELEFT  PARERIGHT  COLON  DOM
		print PARELEFT  PARERIGHT  DOM
		predicted  EQUAL  keras_model DOT predict PARELEFT np DOT array PARELEFT  PARERIGHT  PARERIGHT [] DOM
		res  EQUAL  [] DOM
		pad  EQUAL  np DOT zeros PARELEFT  PARERIGHT -0 DOT 037 DOM
		for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
			aux  EQUAL  w2v_model DOT most_similar PARELEFT  PARERIGHT [] DOM
			if cosine PARELEFT  PARERIGHT <aux[] COLON  continue DOM
			else COLON  res DOT append PARELEFT  PARERIGHT  DOM
			if res[] EQUAL  EQUAL  QUOTMARK  or res[] EQUAL  EQUAL  QUOTMARK  COLON  break DOM
		return  QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
	@staticmethod DOM
	def get_seq2seq_model_one_hot PARELEFT  PARERIGHT  COLON  DOM
		seq2seq_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT GaussianNoise PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT compile PARELEFT  PARERIGHT  DOM
		return seq2seq_model	 DOM
	@staticmethod	 DOM
	def get_seq2seq_model_embedding PARELEFT  PARERIGHT  COLON  DOM
		seq2seq_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT BatchNormalization PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT compile PARELEFT  PARERIGHT  DOM
		return seq2seq_model	 DOM
	@staticmethod DOM
	def get_attention_seq2seq_model PARELEFT  PARERIGHT  COLON  DOM
		input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
		activations  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
		mask  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
		flat  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
		activations  EQUAL  merge PARELEFT  PARERIGHT  DOM
		activations  EQUAL  AveragePooling1D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
		activations  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
		seq2seq_model DOT compile PARELEFT  PARERIGHT  DOM
		return seq2seq_model DOM
	import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT recurrent import SimpleRNN  COMMA  LSTM DOM
from keras DOT optimizers import SGD  COMMA  Adagrad DOM
def keras_model PARELEFT  PARERIGHT  COLON  DOM
    batch_dim  EQUAL  30 DOM
    LSTM_layers  EQUAL  1  DOM
    LSTM_units   EQUAL  300 DOM
    DNN_units    EQUAL  [] DOM
    question_LSTM  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_q  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    question_LSTM DOT add PARELEFT  PARERIGHT  DOM
    question_LSTM DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_1  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_1  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_1 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_1 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_2  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_2  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_2 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_2 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_3  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_3  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_3 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_3 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_4  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_4  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_4 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_4 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_Mask_5  EQUAL  Masking PARELEFT mask_value EQUAL -999 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_LSTM_5  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    opt_LSTM_5 DOT add PARELEFT  PARERIGHT  DOM
    opt_LSTM_5 DOT add PARELEFT  PARERIGHT  DOM
    image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    image_model DOT add PARELEFT Reshape PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  dims  EQUAL   PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_pre_DNN  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_pre_DNN_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_pre_DNN_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_DNN_1  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_DNN_1_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_DNN_1_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_softmax  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
X  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
Y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print X DOT shape DOM
print Y DOT shape DOM
my_model  EQUAL  keras_model PARELEFT  PARERIGHT  DOM
for t in range PARELEFT  PARERIGHT  COLON  DOM
    print my_model DOT train_on_batch PARELEFT  PARERIGHT  DOM
print my_model DOT predict_on_batch PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout COMMA  Highway DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense COMMA  Embedding DOM
def model PARELEFT  PARERIGHT  COLON  DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT args DOT num_hidden_units_lstm COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelimport numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
numpy DOT random DOT seed PARELEFT  PARERIGHT  DOM
top_words  EQUAL  5000 DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
max_review_length  EQUAL  500 DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
embedding_vecor_length  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
import numpy DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
max_epoch  EQUAL  100 DOM
features  EQUAL  32 DOM
MAX_FEATURE_LEN  EQUAL  32 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 30 COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT   DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
X  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
Y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
X2  EQUAL  np DOT reshape PARELEFT X COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
Y2  EQUAL  np DOT reshape PARELEFT Y COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
plt DOT subplot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT ylim PARELEFT  PARERIGHT  DOM
plt DOT xlim PARELEFT  PARERIGHT  DOM
plt DOT grid PARELEFT  PARERIGHT  DOM
plt DOT subplot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  PARERIGHT  DOM
plt DOT ylabel PARELEFT  PARERIGHT  DOM
plt DOT xlabel PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
plt DOT grid PARELEFT  PARERIGHT  DOM
plt DOT xlim PARELEFT  PARERIGHT  DOM
plt DOT ylim PARELEFT  PARERIGHT  DOM
plt DOT show PARELEFT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Embedding COMMA  LSTM COMMA  Dense COMMA  Dropout COMMA  Bidirectional COMMA  TimeDistributed COMMA  Activation COMMA  Convolution1D COMMA  \ DOM
    MaxPool1D COMMA  GRU COMMA  Permute COMMA  Reshape COMMA  Lambda COMMA  RepeatVector COMMA  merge COMMA  K DOM
from keras DOT models import Model DOM
from keras DOT preprocessing import sequence DOM
use_dropout  EQUAL  True DOM
def LSTM_Model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def LSTM2Layer_Model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def BiLSTM_Model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def CLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def CBiLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    CBiLSTM PARELEFT  PARERIGHT from __future__ import print_function DOM
from keras DOT models import Sequential COMMA  Graph DOM
from keras DOT layers DOT core import Dense COMMA  TimeDistributedDense COMMA  Dropout DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
class nntools PARELEFT  PARERIGHT  COLON  DOM
    @staticmethod DOM
    def get_current_model PARELEFT  PARERIGHT  COLON  DOM
        return nntools DOT build_lstm_network PARELEFT  PARERIGHT  DOM
    @staticmethod DOM
    def build_lstm_network PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributedDense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    @staticmethod DOM
    def build_bidirectional_lstm_network PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Graph PARELEFT  PARERIGHT  DOM
        model DOT add_input PARELEFT name EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add_node PARELEFT Embedding PARELEFT  PARERIGHT  COMMA  input EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
        model DOT add_node PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  COMMA  input EQUAL  QUOTMARK  PARERIGHT  DOM
        model DOT add_node PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  COMMA  input EQUAL  QUOTMARK  PARERIGHT  DOM
        model DOT add_node PARELEFT Dropout PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  COMMA  inputs EQUAL [] PARERIGHT  DOM
        model DOT add_node PARELEFT Dense PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  COMMA  input EQUAL  QUOTMARK  PARERIGHT  DOM
        model DOT add_output PARELEFT  PARERIGHT  DOM
        return modelfrom keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import LSTM COMMA  Embedding COMMA  Dense DOM
from keras DOT optimizers import Adam DOM
def _lstm_model PARELEFT  PARERIGHT  COLON  DOM
    output_dim  EQUAL  16 DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT output_dim COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  return_sequences  EQUAL  True PARERIGHT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def _tokenizer_model PARELEFT  PARERIGHT  COLON  DOM
    output_dim  EQUAL  32 DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Flatten COMMA  RepeatVector DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from util import categorical_accuracy_per_sequence DOM
from keras DOT regularizers import l2 DOM
def build_CNN_LSTM PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT 64 COMMA  3 COMMA  3 COMMA  border_mode EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	a  EQUAL  model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT TimeDistributed PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT summary PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return modelimport tensorflow as tf DOM
import numpy as np DOM
def network_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  tf DOT keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import Callback DOM
import tensorflow as tf DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
    def on_batch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def neural_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT params[] COMMA  init EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if load COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
import pandas as pd DOM
import numpy as np DOM
import os DOM
from keras DOT models import load_model DOM
import math DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import GRU DOM
from keras DOT layers import ConvLSTM2D DOM
from keras DOT layers import Conv2D DOM
from keras DOT layers import Reshape DOM
from keras DOT layers import Conv1D DOM
from keras DOT layers import Multiply DOM
from keras DOT layers import Input DOM
from keras import Model DOM
from sklearn import preprocessing DOM
from sklearn import metrics DOM
from sklearn DOT metrics import mean_absolute_error DOM
from sklearn import svm DOM
import xgboost as xgb DOM
import data_processing DOM
os DOT chdir PARELEFT  PARERIGHT  DOM
string EQUAL [] DOM
class Price_prediction COLON  DOM
    def read_data PARELEFT  PARERIGHT  COLON  DOM
        data  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
        return data DOM
    def load_data PARELEFT  PARERIGHT  COLON  DOM
        data  EQUAL  self DOT read_data PARELEFT  PARERIGHT  DOM
        data  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
        train_data  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        for row in data COLON  DOM
            cut_data  EQUAL  row[] DOM
            train_data  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        return train_data DOM
        y  EQUAL  data_processing DOT close_price PARELEFT  PARERIGHT  DOM
        r  EQUAL  len PARELEFT  PARERIGHT  // 10 DOM
        c  EQUAL  0 DOM
        train_input  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            for j in range PARELEFT  PARERIGHT  COLON  DOM
                for u in range PARELEFT  PARERIGHT  COLON  DOM
                    t  EQUAL  x[][] DOM
                    if x[][] ! EQUAL  0 COLON  DOM
                        s  EQUAL  t / x[][] DOM
                    else COLON  DOM
                        s  EQUAL  1 DOM
                    s  EQUAL  s - 1 DOM
                    train_input[][][]  EQUAL  s DOM
        test_input  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  - 2 * win - r * p COMMA  win COMMA  x DOT shape[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT r * p + win COMMA  len PARELEFT  PARERIGHT  - win PARERIGHT  COLON  DOM
            for j in range PARELEFT  PARERIGHT  COLON  DOM
                for u in range PARELEFT  PARERIGHT  COLON  DOM
                    t  EQUAL  x[][] DOM
                    if x[][] ! EQUAL  0 COLON  DOM
                        s  EQUAL  t / x[][] DOM
                    else COLON  DOM
                        s  EQUAL  1 DOM
                    s  EQUAL  s - 1 DOM
                    test_input[][][]  EQUAL  s DOM
            c  EQUAL  c + 1 DOM
        z  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - win PARERIGHT  COLON  DOM
            z[][]  EQUAL  y[][] / y[][] - 1 DOM
        train_output  EQUAL  z[] DOM
        test_output  EQUAL  z[] DOM
        trainx  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  win * x DOT shape[] PARERIGHT  PARERIGHT  DOM
        testx  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  win * x DOT shape[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            trainx[]  EQUAL  train_input[] DOT flatten PARELEFT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            testx[]  EQUAL  test_input[] DOT flatten PARELEFT  PARERIGHT  DOM
        return trainx COMMA  testx COMMA  train_output COMMA  test_output DOM
        y  EQUAL  data_processing DOT close_price PARELEFT  PARERIGHT  DOM
        r  EQUAL  len PARELEFT  PARERIGHT  // 10 DOM
        c  EQUAL  0 DOM
        train_input  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            for j in range PARELEFT  PARERIGHT  COLON  DOM
                for u in range PARELEFT  PARERIGHT  COLON  DOM
                    t  EQUAL  x[][] DOM
                    if x[][] ! EQUAL  0 COLON  DOM
                        s  EQUAL  t / x[][] DOM
                    else COLON  DOM
                        s  EQUAL  1 DOM
                    s  EQUAL  s - 1 DOM
                    train_input[][][]  EQUAL  s DOM
        test_input  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  - 2 * win - r * p COMMA  win COMMA  x DOT shape[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT r * p + win COMMA  len PARELEFT  PARERIGHT  - win PARERIGHT  COLON  DOM
            for j in range PARELEFT  PARERIGHT  COLON  DOM
                for u in range PARELEFT  PARERIGHT  COLON  DOM
                    t  EQUAL  x[][] DOM
                    if x[][] ! EQUAL  0 COLON  DOM
                        s  EQUAL  t / x[][] DOM
                    else COLON  DOM
                        s  EQUAL  1 DOM
                    s  EQUAL  s - 1 DOM
                    test_input[][][]  EQUAL  s DOM
            c  EQUAL  c + 1 DOM
        z  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - win PARERIGHT  COLON  DOM
            z[][]  EQUAL  y[][] / y[][] - 1 DOM
        train_output  EQUAL  z[] DOM
        test_output  EQUAL  z[] DOM
        trainx  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  win * x DOT shape[] PARERIGHT  PARERIGHT  DOM
        testx  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  win * x DOT shape[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            trainx[]  EQUAL  train_input[] DOT flatten PARELEFT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
            testx[]  EQUAL  test_input[] DOT flatten PARELEFT  PARERIGHT  DOM
        return trainx COMMA  testx COMMA  train_output COMMA  test_output DOM
        y  EQUAL  data_processing DOT close_price PARELEFT  PARERIGHT  DOM
        r  EQUAL  len PARELEFT  PARERIGHT  // 10 DOM
        c  EQUAL  0 DOM
        train_input  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            for j in range PARELEFT  PARERIGHT  COLON  DOM
                for u in range PARELEFT  PARERIGHT  COLON  DOM
                    t  EQUAL  x[][] DOM
                    if x[][] ! EQUAL  0 COLON  DOM
                        s  EQUAL  t / x[][] DOM
                    else COLON  DOM
                        s  EQUAL  1 DOM
                    s  EQUAL  s - 1 DOM
                    train_input[][][]  EQUAL  s DOM
        test_input  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  - 2 * win - r * p COMMA  win COMMA  x DOT shape[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT r * p + win COMMA  len PARELEFT  PARERIGHT  - win PARERIGHT  COLON  DOM
            for j in range PARELEFT  PARERIGHT  COLON  DOM
                for u in range PARELEFT  PARERIGHT  COLON  DOM
                    t  EQUAL  x[][] DOM
                    if x[][] ! EQUAL  0 COLON  DOM
                        s  EQUAL  t / x[][] DOM
                    else COLON  DOM
                        s  EQUAL  1 DOM
                    s  EQUAL  s - 1 DOM
                    test_input[][][]  EQUAL  s DOM
            c  EQUAL  c + 1 DOM
        z  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - win PARERIGHT  COLON  DOM
            z[][]  EQUAL  y[][] / y[][] - 1 DOM
        train_output  EQUAL  z[] DOM
        test_output  EQUAL  z[] DOM
        return train_input COMMA  test_input COMMA  train_output COMMA  test_output DOM
        y  EQUAL  data_processing DOT close_price PARELEFT  PARERIGHT  DOM
        r  EQUAL  len PARELEFT  PARERIGHT  // 10 DOM
        c  EQUAL  0 DOM
        train_input  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            for j in range PARELEFT  PARERIGHT  COLON  DOM
                for u in range PARELEFT  PARERIGHT  COLON  DOM
                    t  EQUAL  x[][] DOM
                    if x[][] ! EQUAL  0 COLON  DOM
                        s  EQUAL  t / x[][] DOM
                    else COLON  DOM
                        s  EQUAL  1 DOM
                    s  EQUAL  s - 1 DOM
                    train_input[][][]  EQUAL  s DOM
        test_input  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  - 2 * win - r * p COMMA  win COMMA  x DOT shape[] PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT r * p + win COMMA  len PARELEFT  PARERIGHT  - win PARERIGHT  COLON  DOM
            for j in range PARELEFT  PARERIGHT  COLON  DOM
                for u in range PARELEFT  PARERIGHT  COLON  DOM
                    t  EQUAL  x[][] DOM
                    if x[][] ! EQUAL  0 COLON  DOM
                        s  EQUAL  t / x[][] DOM
                    else COLON  DOM
                        s  EQUAL  1 DOM
                    s  EQUAL  s - 1 DOM
                    test_input[][][]  EQUAL  s DOM
            c  EQUAL  c + 1 DOM
        z  EQUAL  np DOT zeros PARELEFT  PARELEFT len PARELEFT  PARERIGHT  COMMA  1 PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT 0 COMMA  len PARELEFT  PARERIGHT  - win PARERIGHT  COLON  DOM
            z[][]  EQUAL  y[][] / y[][] - 1 DOM
        train_output  EQUAL  z[] DOM
        test_output  EQUAL  z[] DOM
        return train_input COMMA  test_input COMMA  train_output COMMA  test_output DOM
    def LSTM_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def GRU PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT GRU PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def DEEPSENSE PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 16 COMMA   PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA data_format EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT 8 COMMA  3 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def DEEPSENSE2 PARELEFT  PARERIGHT  COLON  DOM
        inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        x  EQUAL  Conv2D PARELEFT 16 COMMA   PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA dding EQUAL  QUOTMARK  COMMA  data_format EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
        y1  EQUAL  Conv2D PARELEFT 16 COMMA   PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA dding EQUAL  QUOTMARK  COMMA  data_format EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
        y2  EQUAL  Conv2D PARELEFT 16 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
        y3  EQUAL  Conv2D PARELEFT 16 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
        y  EQUAL  Conv2D PARELEFT 16 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Multiply PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        models  EQUAL  Model PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT 8 COMMA  3 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
        dtrain  EQUAL  xgb DOT DMatrix PARELEFT  PARERIGHT  DOM
        dtest  EQUAL  xgb DOT DMatrix PARELEFT  PARERIGHT  DOM
        bst  EQUAL  xgb DOT XGBRegressor PARELEFT  PARERIGHT  DOM
        bst DOT fit PARELEFT  PARERIGHT  DOM
        pred  EQUAL  bst DOT predict PARELEFT  PARERIGHT  DOM
        plt DOT figure PARELEFT figsize EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT legend PARELEFT  PARERIGHT  DOM
        plt DOT show PARELEFT  PARERIGHT  DOM
        print PARELEFT metrics DOT r2_score PARELEFT  PARERIGHT  PARERIGHT  DOM
        clf  EQUAL  svm DOT SVR PARELEFT  PARERIGHT  DOM
        clf DOT fit PARELEFT  PARERIGHT  DOM
        pred  EQUAL  clf DOT predict PARELEFT  PARERIGHT  DOM
        print PARELEFT metrics DOT r2_score PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT figure PARELEFT figsize EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT legend PARELEFT  PARERIGHT  DOM
        plt DOT show PARELEFT  PARERIGHT  DOM
    def LSTM_RUN PARELEFT  PARERIGHT  COLON  DOM
        nn_model  EQUAL  self DOT LSTM_model PARELEFT  PARERIGHT  DOM
        nn_history  EQUAL  nn_model DOT fit PARELEFT  PARERIGHT  DOM
        plt DOT figure PARELEFT figsize EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT plot PARELEFT nn_model DOT predict PARELEFT  PARERIGHT  COMMA  label EQUAL  QUOTMARK  PARERIGHT  DOM
        plt DOT legend PARELEFT  PARERIGHT  DOM
        plt DOT show PARELEFT  PARERIGHT  DOM
        MAE  EQUAL  mean_absolute_error PARELEFT test_output COMMA  nn_model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
        print PARELEFT metrics DOT r2_score PARELEFT test_output COMMA  nn_model DOT predict PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        print PARELEFT  PARERIGHT  DOM
    def GRU_RUN PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT GRU PARELEFT neurons COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        model DOT fit PARELEFT  PARERIGHT  DOM
        pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        print PARELEFT metrics DOT r2_score PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT figure PARELEFT figsize EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT legend PARELEFT  PARERIGHT  DOM
        plt DOT show PARELEFT  PARERIGHT  DOM
    def DEEPSENSE_RUN PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  self DOT DEEPSENSE PARELEFT  PARERIGHT  DOM
        model DOT fit PARELEFT  PARERIGHT  DOM
        pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        print PARELEFT metrics DOT r2_score PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT figure PARELEFT figsize EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT legend PARELEFT  PARERIGHT  DOM
        plt DOT show PARELEFT  PARERIGHT  DOM
        MAE  EQUAL  mean_absolute_error PARELEFT  PARERIGHT  DOM
    def DEEPSENSE2_RUN PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  self DOT DEEPSENSE2 PARELEFT  PARERIGHT  DOM
        model DOT fit PARELEFT  PARERIGHT  DOM
        pred  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
        print PARELEFT metrics DOT r2_score PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT figure PARELEFT figsize EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT plot PARELEFT  PARERIGHT  DOM
        plt DOT legend PARELEFT  PARERIGHT  DOM
        plt DOT show PARELEFT  PARERIGHT  DOM
        MAE  EQUAL  mean_absolute_error PARELEFT  PARERIGHT  DOM
    def LSTM_model_stacking PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 64 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    def stacking_pre PARELEFT  PARERIGHT  COLON  DOM
        epochs  EQUAL  500 DOM
        lstm  EQUAL  self DOT LSTM_model_stacking PARELEFT  PARERIGHT  DOM
        cnn_lstm  EQUAL  self DOT DEEPSENSE PARELEFT  PARERIGHT  DOM
        cnn_am_lstm  EQUAL  self DOT DEEPSENSE2 PARELEFT  PARERIGHT  DOM
        lstm DOT fit PARELEFT  PARERIGHT  DOM
        cnn_lstm DOT fit PARELEFT  PARERIGHT  DOM
        cnn_am_lstm DOT fit PARELEFT  PARERIGHT  DOM
        lstm DOT save_weights PARELEFT  PARERIGHT  DOM
        cnn_lstm DOT save_weights PARELEFT  PARERIGHT  DOM
        cnn_am_lstm DOT save_weights PARELEFT  PARERIGHT  DOM
        lstm_model  EQUAL  self DOT LSTM_model PARELEFT  PARERIGHT  DOM
        cnn_lstm_model  EQUAL  self DOT DEEPSENSE PARELEFT  PARERIGHT  DOM
        cnn_am_lstm_model  EQUAL  self DOT DEEPSENSE2 PARELEFT  PARERIGHT  DOM
        lstm_model DOT load_weights PARELEFT  PARERIGHT  DOM
        cnn_lstm_model DOT load_weights PARELEFT  PARERIGHT  DOM
        cnn_am_lstm_model DOT load_weights PARELEFT  PARERIGHT  DOM
        models  EQUAL  [] DOM
        return models DOM
    def stacking PARELEFT  PARERIGHT  COLON  DOM
        outputs  EQUAL  [] for model in models] DOM
        y  EQUAL  np DOT mean PARELEFT  PARERIGHT [] DOM
        model  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return model DOM
import keras DOM
from keras DOT datasets import mnist DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dropout COMMA  Flatten COMMA  Dense COMMA  LSTM DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D DOM
from keras import backend as K DOM
from keras DOT utils import np_utils DOM
import scipy DOT io DOM
import numpy as np DOM
num_classes  EQUAL  2 DOM
def build_pred_model PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	if loss_weights is not None COLON  DOM
		model DOT compile PARELEFT loss EQUAL keras DOT losses DOT categorical_crossentropy COMMA 			  optimizer EQUAL keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  COMMA 			  metrics EQUAL [] COMMA 			  loss_weights EQUAL loss_weights PARERIGHT  DOM
	else COLON  DOM
		model DOT compile PARELEFT loss EQUAL keras DOT losses DOT categorical_crossentropy COMMA 			  optimizer EQUAL keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  COMMA 			  metrics EQUAL [] PARERIGHT  DOM
	return model DOM
def build_lstm_model PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT loss EQUAL keras DOT losses DOT categorical_crossentropy COMMA 		  optimizer EQUAL keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  COMMA 		  metrics EQUAL [] PARERIGHT  DOM
	return model DOM
def train_pred_model PARELEFT  PARERIGHT  COLON  DOM
	model DOT fit PARELEFT x_train COMMA  y_train COMMA 	  batch_size EQUAL batch_size COMMA 	  epochs EQUAL epochs COMMA 	  verbose EQUAL verbose COMMA   validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
def evaluate_model PARELEFT  PARERIGHT  COLON  DOM
	score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
	print PARELEFT  PARERIGHT  DOM
	print PARELEFT  PARERIGHT import itertools DOM
import unittest DOM
import numpy as np DOM
import os COMMA  shutil DOM
import tempfile DOM
import pytest DOM
from coremltools DOT _deps import HAS_KERAS_TF DOM
from coremltools DOT models DOT utils import macos_version DOM
if HAS_KERAS_TF COLON  DOM
    import keras DOT backend DOM
    from keras DOT models import Sequential COMMA  Model DOM
    from keras DOT layers import Dense COMMA  Activation COMMA  Convolution2D COMMA  AtrousConvolution2D COMMA  LSTM COMMA  \ DOM
        ZeroPadding2D COMMA  Deconvolution2D COMMA  Permute COMMA  Convolution1D COMMA  AtrousConvolution1D COMMA  \ DOM
        MaxPooling2D COMMA  AveragePooling2D COMMA  Flatten COMMA  Dropout COMMA  UpSampling2D COMMA  merge COMMA  Merge COMMA  Input COMMA  GRU COMMA  \ DOM
        GlobalMaxPooling2D COMMA  GlobalMaxPooling1D COMMA  GlobalAveragePooling2D COMMA  GlobalAveragePooling1D COMMA  \ DOM
        Cropping1D COMMA  Cropping2D COMMA  Reshape COMMA  AveragePooling1D COMMA  MaxPooling1D COMMA  RepeatVector COMMA  ELU COMMA  \ DOM
        SimpleRNN COMMA  BatchNormalization COMMA  Embedding COMMA  ZeroPadding1D COMMA  UpSampling1D DOM
    from keras DOT layers DOT wrappers import Bidirectional COMMA  TimeDistributed DOM
    from keras DOT optimizers import SGD DOM
    from coremltools DOT converters import keras as kerasConverter DOM
def _keras_transpose PARELEFT  PARERIGHT  COLON  DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  4 COLON  DOM
        x  EQUAL  np DOT transpose PARELEFT  PARERIGHT  DOM
        return np DOT expand_dims PARELEFT  PARERIGHT  DOM
    elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  3 COLON  DOM
        return np DOT transpose PARELEFT  PARERIGHT  DOM
    elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            return x DOT reshape PARELEFT x DOT shape[] +  PARELEFT  PARERIGHT  PARERIGHT  DOM
    elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            return x DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON   DOM
            return x DOM
    else COLON  DOM
        return x DOM
def _get_coreml_model PARELEFT  PARERIGHT  COLON  DOM
    from coremltools DOT converters import keras as keras_converter DOM
    model  EQUAL  keras_converter DOT convert PARELEFT  PARERIGHT  DOM
    return model DOM
def _generate_data PARELEFT  PARERIGHT  COLON  DOM
        X  EQUAL  np DOT zeros PARELEFT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        X  EQUAL  np DOT ones PARELEFT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        X  EQUAL  np DOT array PARELEFT range PARELEFT np DOT product PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        X  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        X  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT -0 DOT 5 DOM
    return X DOM
def conv2d_bn PARELEFT x COMMA  nb_filter COMMA  nb_row COMMA  nb_col COMMA  border_mode EQUAL  QUOTMARK  COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL None PARERIGHT  COLON  DOM
        bn_name  EQUAL  name +  QUOTMARK  DOM
        conv_name  EQUAL  name +  QUOTMARK  DOM
    else COLON  DOM
        bn_name  EQUAL  None DOM
        conv_name  EQUAL  None DOM
    bn_axis  EQUAL  3 DOM
    x  EQUAL  Convolution2D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    return x DOM
@unittest DOT skipIf PARELEFT  PARERIGHT  DOM
class KerasNumericCorrectnessTest PARELEFT  PARERIGHT  COLON  DOM
            input_blob  EQUAL   QUOTMARK  COMMA  output_blob  EQUAL   QUOTMARK  COMMA  delta  EQUAL  1e-2 COMMA  DOM
            model_dir  EQUAL  None COMMA  transpose_keras_result  EQUAL  True COMMA   DOM
            one_dim_seq_flags  EQUAL  None  PARERIGHT  COLON e_tmp_folder  EQUAL  Falsemodel_dir is None COLON e_tmp_folder  EQUAL  Truedel_dir  EQUAL  tempfile DOT mkdtemp PARELEFT  PARERIGHT el_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT _inputs  EQUAL  len PARELEFT  PARERIGHT nb_inputs > 1 COLON mes  EQUAL  []; input_data  EQUAL  []; coreml_input  EQUAL  {} i in range PARELEFT  PARERIGHT  COLON  EQUAL  []] _generate_data PARELEFT  PARERIGHT ure_name  EQUAL   QUOTMARK  % iinput_names DOT append PARELEFT  PARERIGHT input_data DOT append PARELEFT  PARERIGHT ne_dim_seq_flags is None COLON  reml_input[]  EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOT copy PARELEFT  PARERIGHT lse COLON  eml_input[]  EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOT copy PARELEFT  PARERIGHT else COLON  EQUAL  []put_names  EQUAL  []ut_data  EQUAL  _generate_data PARELEFT  PARERIGHT ne_dim_seq_flags is None COLON  eml_input  EQUAL  { QUOTMARK  COLON  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOT copy PARELEFT  PARERIGHT }lse COLON  ml_input  EQUAL  { QUOTMARK  COLON  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT  DOT copy PARELEFT  PARERIGHT }_names  EQUAL  []l_model  EQUAL  _get_coreml_model PARELEFT  PARERIGHT acos_version PARELEFT  PARERIGHT  > EQUAL   PARELEFT  PARERIGHT  COLON reml_preds  EQUAL  coreml_model DOT predict PARELEFT  PARERIGHT s  EQUAL  [] for name in output_names]ras_preds  EQUAL  model DOT predict PARELEFT  PARERIGHT  EQUAL  keras_preds if type PARELEFT  PARERIGHT  is list else []idx COMMA  k_pred in enumerate PARELEFT  PARERIGHT  COLON f transpose_keras_result COLON   EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT flatten PARELEFT  PARERIGHT else COLON   EQUAL  k_pred DOT flatten PARELEFT  PARERIGHT   EQUAL  c_preds[] DOT flatten PARELEFT  PARERIGHT elf DOT assertEquals PARELEFT len PARELEFT  PARERIGHT  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON den  EQUAL  max PARELEFT  PARERIGHT elf DOT assertAlmostEquals PARELEFT  PARERIGHT use_tmp_folder and os DOT path DOT exists PARELEFT  PARERIGHT  COLON shutil DOT rmtree PARELEFT  PARERIGHT test DOT skipIf PARELEFT  PARERIGHT lass KerasBasicNumericCorrectnessTest PARELEFT  PARERIGHT  COLON ef test_tiny_inner_product_zero_input PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2m_channels  EQUAL  2del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT f DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_inner_product_ones PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2m_channels  EQUAL  2del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT f DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_inner_product_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2m_channels  EQUAL  2del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_inner_product_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  100ut_shape  EQUAL   PARELEFT  PARERIGHT m_channels  EQUAL  100del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_ones PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT AtrousConvolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_atrous_conv_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  8t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_height  EQUAL  3rnel_width  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT AtrousConvolution2D PARELEFT nb_filter EQUAL num_kernels COMMA  nb_row EQUAL kernel_height COMMA  nb_col EQUAL kernel_width COMMA  _shape  EQUAL  input_shape COMMA  atrous_rate  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT st_keras_model PARELEFT  PARERIGHT         ef test_tiny_atrous_conv_rect_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_height  EQUAL  3rnel_width  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT AtrousConvolution2D PARELEFT nb_filter EQUAL num_kernels COMMA  nb_row EQUAL kernel_height COMMA  nb_col EQUAL kernel_width COMMA  _shape  EQUAL  input_shape COMMA  atrous_rate  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_rect_kernel_x PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  1rnel_width  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_rect_kernel_y PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_rect_kernel_xy PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_pseudo_1d_x PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  5_filters  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT nb_filters COMMA  1 COMMA  filter_length COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv1d_same_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv1d_valid_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_atrous_conv1d_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  8ut_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_length  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT AtrousConvolution1D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT _test_keras_model PARELEFT  PARERIGHT      ef test_tiny_deconv_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  13tput_dim  EQUAL  28t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  16rnel_height  EQUAL  3rnel_width  EQUAL  3t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Deconvolution2D PARELEFT num_kernels COMMA  kernel_width COMMA  kernel_height COMMA _shape  EQUAL  input_shape COMMA  output_shape  EQUAL  output_shape COMMA r_mode  EQUAL   QUOTMARK  COMMA  subsample  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_deconv_random_same_padding PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  14tput_dim  EQUAL  28t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  16rnel_height  EQUAL  3rnel_width  EQUAL  3t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Deconvolution2D PARELEFT num_kernels COMMA  kernel_width COMMA  kernel_height COMMA _shape  EQUAL  input_shape COMMA  output_shape  EQUAL  output_shape COMMA r_mode  EQUAL   QUOTMARK  COMMA  subsample  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_upsample_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT el DOT add PARELEFT UpSampling2D PARELEFT size  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_housenet_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m_hidden  EQUAL  2m_features  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_lstm_zeros PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_lstm_zeros_gpu PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_lstm_ones PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_lstm_zeros PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_lstm_ones PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT t_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_simple_rnn_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1m_samples  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_gru_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1m_samples  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_bidir_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1m_samples  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_tiny_no_sequence_bidir_random_gpu PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  1m_channels  EQUAL  1m_samples  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_lstm_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_gru_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_bidir_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_small_no_sequence_simple_rnn_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_no_sequence_lstm_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_no_sequence_bidir_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_bidir_random_return_seq_false PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  7put_length  EQUAL  5m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT lf DOT _test_keras_model PARELEFT  PARERIGHT ef test_medium_bidir_random_return_seq_true PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  7put_length  EQUAL  5m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_lstm_seq PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_lstm_seq_dense PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  5m_hidden  EQUAL  12m_classes  EQUAL  6put_length  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT odel DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_lstm_seq_backwards PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_rnn_seq PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_rnn_seq_backwards PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_gru_seq PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_gru_seq_backwards PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  11put_length  EQUAL  5del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_no_sequence_simple_rnn_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT test_keras_model PARELEFT  PARERIGHT ef test_medium_no_sequence_gru_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10put_length  EQUAL  1m_channels  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT ef test_medium_conv_batchnorm_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  3rnel_height  EQUAL  5rnel_width  EQUAL  5ta_mean  EQUAL  2ta_var  EQUAL  1m keras DOT layers DOT normalization import BatchNormalizationdel  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_elu_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import ELUdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA r  EQUAL  3 COMMA  nb_row  EQUAL  5 COMMA  nb_col  EQUAL  5 PARERIGHT  PARERIGHT model DOT add PARELEFT ELU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_prelu_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import PReLUdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  3 COMMA  nb_row  EQUAL  5 COMMA  nb_col  EQUAL  5 COMMA  border_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT odel DOT add PARELEFT PReLU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_leaky_relu_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import LeakyReLUdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  3 COMMA  nb_row  EQUAL  5 COMMA  nb_col  EQUAL  5 COMMA  border_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT model DOT add PARELEFT LeakyReLU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_parametric_softplus_random PARELEFT  PARERIGHT  COLON m keras DOT layers DOT advanced_activations import ParametricSoftplusdel  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT ParametricSoftplus PARELEFT  PARERIGHT  PARERIGHT pha_per_channel  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT ta_per_channel  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT s  EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARELEFT  PARERIGHT  PARERIGHT   EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARELEFT  PARERIGHT  PARERIGHT odel DOT layers[] DOT set_weights PARELEFT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_parametric_softplus_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT _filters  EQUAL  2tput_shape  EQUAL   PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import ParametricSoftplusdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  nb_filters COMMA  nb_row  EQUAL  3 COMMA  nb_col  EQUAL  3 COMMA  border_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT model DOT add PARELEFT ParametricSoftplus PARELEFT  PARERIGHT  PARERIGHT pha_per_channel  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT ta_per_channel  EQUAL  np DOT random DOT rand PARELEFT  PARERIGHT s  EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARELEFT  PARERIGHT  PARERIGHT   EQUAL  np DOT repeat PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOT transpose PARELEFT  PARELEFT  PARERIGHT  PARERIGHT odel DOT layers[] DOT set_weights PARELEFT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_dense_parametric_softplus_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import ParametricSoftplusdel  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT Dense PARELEFT 10 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT model DOT add PARELEFT ParametricSoftplus PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_thresholded_relu_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m keras DOT layers DOT advanced_activations import ThresholdedReLUdel  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution2D PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  3 COMMA  nb_row  EQUAL  5 COMMA  nb_col  EQUAL  5 COMMA  border_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT model DOT add PARELEFT ThresholdedReLU PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_concat_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_concat_seq_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT x_features  EQUAL  10bedding_dims  EQUAL  4q_len  EQUAL  5m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_add_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_mul_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_cos_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10m_channels  EQUAL  6_tensor  EQUAL  Input PARELEFT shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_zeropad_simple PARELEFT  PARERIGHT  COLON t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT ZeroPadding2D PARELEFT  PARELEFT  PARERIGHT  COMMA input_shape EQUAL input_shape PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_zeropad_fancy PARELEFT  PARERIGHT  COLON t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT ZeroPadding2D PARELEFT  PARELEFT  PARERIGHT  COMMA input_shape EQUAL input_shape PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_crop_simple PARELEFT  PARERIGHT  COLON t_shape  EQUAL   PARELEFT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT Cropping2D PARELEFT cropping EQUAL  PARELEFT  PARELEFT  PARERIGHT  COMMA  PARELEFT  PARERIGHT  PARERIGHT  COMMA input_shape EQUAL input_shape PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_permute PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT  DOT add PARELEFT Permute PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_no_overlap PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT MaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL None COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_overlap_multiple PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT MaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_overlap_odd PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT MaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_overlap_same PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT MaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_global_max_pooling PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT GlobalMaxPooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_max_pooling_1d PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT MaxPooling1D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_length EQUAL 4 PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_global_max_pooling_1d PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT model DOT add PARELEFT GlobalMaxPooling1D PARELEFT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_average_pooling_no_overlap PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT AveragePooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL None COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_average_pooling_inception_config_1 PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT AveragePooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  pool_size EQUAL  PARELEFT  PARERIGHT  COMMA trides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_global_average_pooling PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT GlobalAveragePooling2D PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_average_pooling_1d PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT model DOT add PARELEFT AveragePooling1D PARELEFT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_global_average_pooling_1d PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_dense_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m_samples  EQUAL  1put_dim  EQUAL  8t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_height  EQUAL  5rnel_width  EQUAL  5dden_dim  EQUAL  4m keras DOT layers import Flattendel  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_dense_tanh_fused_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m_samples  EQUAL  1put_dim  EQUAL  3dden_dim  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Dense PARELEFT hidden_dim COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_relu_fused_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT m_samples  EQUAL  1put_dim  EQUAL  8t_shape  EQUAL   PARELEFT  PARERIGHT m_kernels  EQUAL  2rnel_height  EQUAL  5rnel_width  EQUAL  5dden_dim  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_flatten PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT model DOT add PARELEFT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_reshape_3d PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT odel DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOT _test_keras_model PARELEFT  PARERIGHT ef test_embedding PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT m_inputs  EQUAL  10m_outputs  EQUAL  3odel DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_embedding_seq PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT m_inputs  EQUAL  10m_outputs  EQUAL  3del DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_time_distrbuted PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_sequence_lstm PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  1put_length  EQUAL  2m_channels  EQUAL  1del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT est_keras_model PARELEFT  PARERIGHT ef test_tiny_spatial_bn PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT in  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  ZeroPadding2D PARELEFT padding EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT est_keras_model PARELEFT  PARERIGHT ef test_dense_fused_act_in_td PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT in  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT imeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT est_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_upsample_1d_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT  DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length  EQUAL  filter_length COMMA  border_mode  EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT del DOT add PARELEFT UpSampling1D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_crop_1d_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length  EQUAL  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT del DOT add PARELEFT Cropping1D PARELEFT cropping  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_conv_pad_1d_random PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  2put_length  EQUAL  10lter_length  EQUAL  3_filters  EQUAL  4del  EQUAL  Sequential PARELEFT  PARERIGHT l DOT add PARELEFT Convolution1D PARELEFT nb_filters COMMA  filter_length  EQUAL  filter_length COMMA  border_mode EQUAL  QUOTMARK  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT del DOT add PARELEFT ZeroPadding1D PARELEFT padding  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_conv_batch_1d PARELEFT  PARERIGHT  COLON cabulary_size  EQUAL  4bedding_dimension  EQUAL  6put_length  EQUAL  10del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT odel DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT elf DOT _test_keras_model PARELEFT  PARERIGHT ef test_large_channel_gpu PARELEFT  PARERIGHT  COLON t_shape  EQUAL   PARELEFT  PARERIGHT m_channels  EQUAL  2049rnel_size  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT f DOT _test_keras_model PARELEFT  PARERIGHT ytest DOT mark DOT xfail PARELEFT  PARERIGHT ef test_large_batch_gpu PARELEFT  PARERIGHT  COLON tch_size  EQUAL  2049m_channels  EQUAL  4rnel_size  EQUAL  3del  EQUAL  Sequential PARELEFT  PARERIGHT del DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT f DOT _test_keras_model PARELEFT  PARERIGHT test DOT skipIf PARELEFT  PARERIGHT lass KerasTopologyCorrectnessTest PARELEFT  PARERIGHT  COLON ef test_tiny_sequential_merge PARELEFT  PARERIGHT  COLON np DOT random DOT seed PARELEFT  PARERIGHT del1  EQUAL  Sequential PARELEFT  PARERIGHT el1 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT model1 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT del2  EQUAL  Sequential PARELEFT  PARERIGHT el2 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT model2 DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT del3  EQUAL  Sequential PARELEFT  PARERIGHT del3 DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT l3 DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_dangling_merge_left PARELEFT  PARERIGHT  COLON Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_dangling_merge_right PARELEFT  PARERIGHT  COLON Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  name  EQUAL   QUOTMARK  PARERIGHT Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_shared_vision PARELEFT  PARERIGHT  COLON it_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT Convolution2D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT Convolution2D PARELEFT  PARERIGHT  PARELEFT  PARERIGHT t  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT ion_model  EQUAL  Model PARELEFT  PARERIGHT git_a  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT git_b  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT t_a  EQUAL  vision_model PARELEFT  PARERIGHT t_b  EQUAL  vision_model PARELEFT  PARERIGHT atenated  EQUAL  merge PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_tiny_weight_sharing PARELEFT  PARERIGHT  COLON  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT nse  EQUAL  Dense PARELEFT  PARERIGHT   EQUAL  dense PARELEFT  PARERIGHT   EQUAL  dense PARELEFT  PARERIGHT   EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT el  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT  DOT _test_keras_model PARELEFT  PARERIGHT test DOT skipIf PARELEFT  PARERIGHT lass KerasInceptionCorrectnessTest PARELEFT  PARERIGHT  COLON ef test_inception_conv_stage PARELEFT  PARERIGHT  COLON put_shape  EQUAL   PARELEFT  PARERIGHT g_input  EQUAL  Input PARELEFT  PARERIGHT annel_axis  EQUAL  3puts  EQUAL  img_input2d_bn PARELEFT img_input COMMA  32 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT nv2d_bn PARELEFT  PARERIGHT onv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_inception_first_branch PARELEFT  PARERIGHT  COLON put_shape  EQUAL   PARELEFT  PARERIGHT g_input  EQUAL  Input PARELEFT  PARERIGHT annel_axis  EQUAL  3puts  EQUAL  img_input2d_bn PARELEFT img_input COMMA  32 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT nv2d_bn PARELEFT  PARERIGHT onv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_inception_second_branch PARELEFT  PARERIGHT  COLON put_shape  EQUAL   PARELEFT  PARERIGHT g_input  EQUAL  Input PARELEFT  PARERIGHT annel_axis  EQUAL  3puts  EQUAL  img_input2d_bn PARELEFT img_input COMMA  32 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT nv2d_bn PARELEFT  PARERIGHT onv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT 3  EQUAL  conv2d_bn PARELEFT x COMMA  384 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT branch3x3dbl COMMA  96 COMMA  3 COMMA  3 COMMA  DOM
                                 subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h_pool  EQUAL  MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT _pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT _pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT ef test_inception_no_top PARELEFT  PARERIGHT  COLON put_shape  EQUAL   PARELEFT  PARERIGHT g_input  EQUAL  Input PARELEFT  PARERIGHT annel_axis  EQUAL  3puts  EQUAL  img_input2d_bn PARELEFT img_input COMMA  32 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT nv2d_bn PARELEFT  PARERIGHT onv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT nv2d_bn PARELEFT  PARERIGHT axPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h5x5  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT 3  EQUAL  conv2d_bn PARELEFT x COMMA  384 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT branch3x3dbl COMMA  96 COMMA  3 COMMA  3 COMMA  DOM
                                 subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h_pool  EQUAL  MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT _pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT _pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT  PARERIGHT h3x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3  EQUAL  conv2d_bn PARELEFT branch3x3 COMMA  320 COMMA  3 COMMA  3 COMMA  DOM
                              subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h7x7x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h7x7x3  EQUAL  conv2d_bn PARELEFT branch7x7x3 COMMA  192 COMMA  3 COMMA  3 COMMA  DOM
                                subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT h_pool  EQUAL  AveragePooling2D PARELEFT  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT merge PARELEFT  PARERIGHT  i in range PARELEFT  PARERIGHT  COLON h1x1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3_1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3_2  EQUAL  conv2d_bn PARELEFT  PARERIGHT nch3x3  EQUAL  merge PARELEFT [] COMMA  DOM
                              mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                              name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl_1  EQUAL  conv2d_bn PARELEFT  PARERIGHT h3x3dbl_2  EQUAL  conv2d_bn PARELEFT  PARERIGHT nch3x3dbl  EQUAL  merge PARELEFT  PARERIGHT anch_pool  EQUAL  AveragePooling2D PARELEFT  DOM
                 PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT h_pool  EQUAL  conv2d_bn PARELEFT  PARERIGHT erge PARELEFT [] COMMA  DOM
                      mode EQUAL  QUOTMARK  COMMA  concat_axis EQUAL channel_axis COMMA  DOM
                      name EQUAL  QUOTMARK  + str PARELEFT  PARERIGHT  PARERIGHT l  EQUAL  Model PARELEFT  PARERIGHT l DOT set_weights PARELEFT [] PARERIGHT self DOT _test_keras_model PARELEFT  PARERIGHT @pytest DOT mark DOT slowtest DOT skipIf PARELEFT  PARERIGHT lass KerasNumericCorrectnessStressTest PARELEFT  PARERIGHT  COLON model_dir is None COLON e_tmp_folder  EQUAL  Truedel_dir  EQUAL  tempfile DOT mkdtemp PARELEFT  PARERIGHT el_path  EQUAL  os DOT path DOT join PARELEFT  PARERIGHT _inputs  EQUAL  len PARELEFT  PARERIGHT nb_inputs > 1 COLON mes  EQUAL  []; input_data  EQUAL  []; coreml_input  EQUAL  {} i in range PARELEFT  PARERIGHT  COLON  EQUAL  []] EQUAL  _generate_data PARELEFT  PARERIGHT ure_name  EQUAL   QUOTMARK  % iinput_names DOT append PARELEFT  PARERIGHT input_data DOT append PARELEFT  PARERIGHT ne_dim_seq_flags is None COLON  reml_input[]  EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT lse COLON  eml_input[]  EQUAL  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT else COLON  EQUAL  []put_names  EQUAL  []put_data  EQUAL  _generate_data PARELEFT  PARERIGHT ne_dim_seq_flags is None COLON  eml_input  EQUAL  { QUOTMARK  COLON  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT }lse COLON  ml_input  EQUAL  { QUOTMARK  COLON  _keras_transpose PARELEFT  PARERIGHT  DOT astype PARELEFT  PARERIGHT }f transpose_keras_result COLON ras_preds  EQUAL  _keras_transpose PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOT flatten PARELEFT  PARERIGHT else COLON ras_preds  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOT flatten PARELEFT  PARERIGHT l_model  EQUAL  _get_coreml_model PARELEFT  PARERIGHT acos_version PARELEFT  PARERIGHT  > EQUAL   PARELEFT  PARERIGHT  COLON eml_preds  EQUAL  coreml_model DOT predict PARELEFT  PARERIGHT [] DOT flatten PARELEFT  PARERIGHT  f use_tmp_folder COLON shutil DOT rmtree PARELEFT  PARERIGHT elf DOT assertEquals PARELEFT len PARELEFT  PARERIGHT  COMMA  len PARELEFT  PARERIGHT  COMMA  DOM
                    msg  EQUAL   QUOTMARK  %  PARELEFT param COMMA  len PARELEFT  PARERIGHT  COMMA  len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON den  EQUAL  max PARELEFT  PARERIGHT  DOT assertAlmostEquals PARELEFT keras_preds[]/max_den COMMA  coreml_preds[]/max_den COMMA  delta  EQUAL  delta COMMA  DOM
                    msg  EQUAL   QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT @pytest DOT mark DOT slowef test_activation_layer_params PARELEFT  PARERIGHT  COLON tions  EQUAL  dict PARELEFT  PARERIGHT m_channels  EQUAL  10put_dim  EQUAL  10ef build_model PARELEFT  PARERIGHT  COLON del  EQUAL  Sequential PARELEFT  PARERIGHT el DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT odel DOT add PARELEFT Activation PARELEFT **dict PARELEFT zip PARELEFT options DOT keys PARELEFT  PARERIGHT  COMMA  x PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT turn x COMMA  modeloduct  EQUAL  itertools DOT product PARELEFT *options DOT values PARELEFT  PARERIGHT  PARERIGHT  []ng a total of %s cases DOT  This could take a while QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT param COMMA  model in args COLON elf DOT _run_test PARELEFT  PARERIGHT @pytest DOT mark DOT slowef test_upsample_layer_params PARELEFT  PARERIGHT  COLON tions  EQUAL  dict PARELEFT  DOM
            size EQUAL  [] DOM
         PARERIGHT np DOT random DOT seed PARELEFT  PARERIGHT put_dim  EQUAL  10t_shape  EQUAL   PARELEFT  PARERIGHT  np DOT random DOT rand PARELEFT  PARERIGHT ef build_model PARELEFT  PARERIGHT  COLON rgs  EQUAL  dict PARELEFT zip PARELEFT options DOT keys PARELEFT  PARERIGHT  COMMA  x PARERIGHT  PARERIGHT del  EQUAL  Sequential PARELEFT  PARERIGHT  DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT model DOT add PARELEFT UpSampling2D PARELEFT  PARERIGHT  PARERIGHT turn x COMMA  modeloduct  EQUAL  itertools DOT product PARELEFT *options DOT values PARELEFT  PARERIGHT  PARERIGHT  []ng a total of %s cases DOT  This could take a while QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT param COMMA  model in args COLON elf DOT _run_test PARELEFT  PARERIGHT @pytest DOT mark DOT slowef test_dense_elementwise_params PARELEFT  PARERIGHT  COLON tions  EQUAL  dict PARELEFT  DOM
            modes  EQUAL  [] DOM
from keras DOT models import Sequential COMMA  Input COMMA  Model DOM
from keras DOT layers import Dense COMMA  Flatten COMMA  Embedding COMMA  Average COMMA  Activation COMMA  Lambda COMMA  Dropout COMMA  LSTM COMMA  Bidirectional DOM
from keras DOT initializers import Constant DOM
import numpy as np DOM
import keras DOT backend as K DOM
from keras import regularizers DOM
def create_baseline_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT embedding_matrix DOT shape[] COMMA  embedding_matrix DOT shape[] COMMA mbeddings_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA  input_length EQUAL input_len COMMA rainable EQUAL False COMMA  mask_zero EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Lambda PARELEFT lambda x COLON  K DOT mean PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_rnn_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT embedding_matrix DOT shape[] COMMA  embedding_matrix DOT shape[] COMMA mbeddings_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA  input_length EQUAL input_len COMMA rainable EQUAL False COMMA  mask_zero EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_bidir_rnn_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT embedding_matrix DOT shape[] COMMA  embedding_matrix DOT shape[] COMMA mbeddings_initializer EQUAL Constant PARELEFT  PARERIGHT  COMMA  input_length EQUAL input_len COMMA rainable EQUAL False COMMA  mask_zero EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_train_emb_rnn_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport numpy as np DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from utils import transform DOM
class LstmModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT scaler  EQUAL  MinMaxScaler PARELEFT feature_range EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT series  EQUAL  self DOT scaler DOT fit_transform PARELEFT series DOT reshape PARELEFT  PARERIGHT  PARERIGHT  DOM
    def transform_split PARELEFT  PARERIGHT  COLON  DOM
            raise Exception PARELEFT  PARERIGHT  DOM
        train_size  EQUAL  int PARELEFT len PARELEFT  PARERIGHT  * train_composition PARERIGHT  DOM
        train  EQUAL  self DOT series[] DOM
        test  EQUAL  self DOT series[] DOM
        train_x COMMA  train_y  EQUAL  transform DOT series_to_features_matrix PARELEFT  PARERIGHT  DOM
        test_x COMMA  test_y  EQUAL  transform DOT series_to_features_matrix PARELEFT  PARERIGHT  DOM
        train_x  EQUAL  transform DOT features_matrix_to_rnn_matrix PARELEFT  PARERIGHT  DOM
        test_x  EQUAL  transform DOT features_matrix_to_rnn_matrix PARELEFT  PARERIGHT  DOM
        return train_x COMMA  train_y COMMA  test_x COMMA  test_y COMMA  train_size DOM
    @staticmethod DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    @staticmethod DOM
    def build_model2 PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    @staticmethod DOM
    def build_model3 PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
    @staticmethod DOM
    def fit PARELEFT  PARERIGHT  COLON  DOM
                         batch_size EQUAL batch_size COMMA  verbose EQUAL verbose PARERIGHT  predict PARELEFT  PARERIGHT  COLON turn self DOT scaler DOT inverse_transform PARELEFT test_predict DOT reshape PARELEFT  PARERIGHT  PARERIGHT  predict_future PARELEFT  PARERIGHT  COLON ta  EQUAL  np DOT array PARELEFT  PARERIGHT amples COMMA  row COMMA  col  EQUAL  test_x DOT shape i in range PARELEFT  PARERIGHT  COLON w_point  EQUAL  model DOT predict PARELEFT  PARERIGHT _point  EQUAL  self DOT scaler DOT inverse_transform PARELEFT new_point DOT reshape PARELEFT  PARERIGHT  PARERIGHT []test_predict DOT append PARELEFT  PARERIGHT ta  EQUAL  np DOT array PARELEFT  PARERIGHT  EQUAL  np DOT insert PARELEFT  PARERIGHT eturn np DOT array PARELEFT  PARERIGHT ef plot PARELEFT  PARERIGHT  COLON passef summary PARELEFT  PARERIGHT  COLON pass__name__  EQUAL  EQUAL   QUOTMARK  COLON mport mathort matplotlib DOT pyplot as pltm jsc import import_datam sklearn DOT metrics import mean_squared_errorth  EQUAL   QUOTMARK   EQUAL  import_data DOT WaterlevelData PARELEFT  PARERIGHT terlevel_data  EQUAL  RD DOT load_data PARELEFT  PARERIGHT   EQUAL  0 EQUAL  LstmModel PARELEFT  PARERIGHT okBack  EQUAL  3trainY COMMA  testX COMMA  testY COMMA  trainSize  EQUAL  LM DOT transform_split PARELEFT  PARERIGHT print PARELEFT  PARERIGHT m  EQUAL  LM DOT build_model3 PARELEFT  PARERIGHT y  EQUAL  LM DOT fit PARELEFT  PARERIGHT tPredict  EQUAL  LM DOT predict_future PARELEFT  PARERIGHT int PARELEFT  PARERIGHT st_score  EQUAL  math DOT sqrt PARELEFT mean_squared_error PARELEFT  PARERIGHT  PARERIGHT plt DOT plot PARELEFT waterlevel_data[][] COMMA  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import CuDNNLSTM DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import GRU DOM
from keras DOT layers import CuDNNGRU DOM
from keras DOT layers import Activation DOM
from keras DOT layers import Bidirectional COMMA  Flatten DOM
def create_network PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    if mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 256 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 256 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    elif mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        print PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT GRU PARELEFT 256 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        print PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if weights COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return modelimport utils DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
import seaborn as sns DOM
DATASET_DIR  EQUAL   QUOTMARK  DOM
audioFiles  EQUAL  [] DOM
from keras DOT utils import to_categorical DOM
audioFiles  EQUAL  utils DOT findMusic PARELEFT  PARERIGHT  DOM
np DOT random DOT shuffle PARELEFT  PARERIGHT  DOM
labels  EQUAL  []  PARERIGHT  for af in audioFiles ] DOM
labels  EQUAL  np DOT array PARELEFT  np DOT array PARELEFT  PARERIGHT   EQUAL  EQUAL  4 COMMA  dtype EQUAL int  PARERIGHT  DOM
labels  EQUAL  labels DOT reshape PARELEFT  PARERIGHT  DOM
matrixAudioData  EQUAL  utils DOT getAudioData PARELEFT  PARERIGHT  DOM
cantTrain  EQUAL  int PARELEFT  np DOT round PARELEFT  len PARELEFT  PARERIGHT  * 0 DOT 7  PARERIGHT   PARERIGHT  DOM
X_train  EQUAL  matrixAudioData[] DOM
X_test  EQUAL  matrixAudioData[] DOM
y_train  EQUAL  labels[] DOM
y_test  EQUAL  labels[] DOM
from librosa DOT display import specshow DOM
unMFCC  EQUAL  X_train[] DOT reshape PARELEFT   PARELEFT 20 COMMA  int PARELEFT  PARERIGHT  PARERIGHT   PARERIGHT  DOM
plt DOT figure PARELEFT figsize EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
specshow PARELEFT  PARERIGHT  DOM
plt DOT colorbar PARELEFT  PARERIGHT  DOM
plt DOT title PARELEFT  PARERIGHT  DOM
plt DOT tight_layout PARELEFT  PARERIGHT  DOM
matrixAudioDataReshaped  EQUAL  matrixAudioData DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
matrixAudioDataReshaped[] DOT shape DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT optimizers import RMSprop DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT  Dense PARELEFT  PARERIGHT   PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
epochs  EQUAL  1000 DOM
batch_size  EQUAL  100 DOM
history  EQUAL  model DOT fit PARELEFT X_train COMMA  y_train COMMA  epochs  EQUAL  epochs COMMA  batch_size  EQUAL  batch_size COMMA  validation_data EQUAL  PARELEFT  PARERIGHT   PARERIGHT  DOM
plt DOT title PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Input DOM
matrixAudioDataReshaped  EQUAL  matrixAudioData DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
cantTrain  EQUAL  int PARELEFT  np DOT round PARELEFT  len PARELEFT  PARERIGHT  * 0 DOT 7  PARERIGHT   PARERIGHT  DOM
X_train_RNN  EQUAL  matrixAudioDataReshaped[] DOM
X_test_RNN  EQUAL  matrixAudioDataReshaped[] DOM
y_train_RNN  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
y_test_RNN  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
modelLSTM  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modelLSTM DOT add PARELEFT  LSTM PARELEFT 500 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  dropout EQUAL 0 DOT 4 COMMA  recurrent_dropout EQUAL 0 DOT 3 COMMA  return_sequences EQUAL True  PARERIGHT   PARERIGHT  DOM
modelLSTM DOT add PARELEFT  LSTM PARELEFT  PARERIGHT   PARERIGHT  DOM
modelLSTM DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modelLSTM DOT compile PARELEFT  PARERIGHT  DOM
modelLSTM DOT summary PARELEFT  PARERIGHT  DOM
batch_size  EQUAL  100 DOM
modelLSTM DOT fit PARELEFT X_train_RNN COMMA  y_train_RNN COMMA  epochs  EQUAL  epochs COMMA  batch_size  EQUAL  batch_size COMMA  alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT title PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
scores  EQUAL  modelLSTM DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D DOM
matrixAudioDataConv2D  EQUAL  matrixAudioData DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
X_train_Conv2D  EQUAL  matrixAudioDataConv2D[] DOM
X_test_Conv2D  EQUAL  matrixAudioDataConv2D[] DOM
y_train_Conv2D  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
y_test_Conv2D  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
modelConv2D  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modelConv2D DOT add PARELEFT  Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  input_shape EQUAL   PARELEFT  PARERIGHT   PARERIGHT   PARERIGHT  DOM
modelConv2D DOT add PARELEFT  Activation PARELEFT  PARERIGHT   PARERIGHT  DOM
modelConv2D DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
modelConv2D DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modelConv2D DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
modelConv2D DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
modelConv2D DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
modelConv2D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelConv2D DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modelConv2D DOT compile PARELEFT  PARERIGHT  DOM
epochs  EQUAL  200 DOM
batch_size  EQUAL  128 DOM
history  EQUAL  modelConv2D DOT fit PARELEFT X_train_Conv2D COMMA  y_train_Conv2D COMMA  epochs  EQUAL  epochs COMMA  batch_size  EQUAL  batch_size COMMA  alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
plt DOT title PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT plot PARELEFT  PARERIGHT  DOM
plt DOT legend PARELEFT  PARERIGHT  DOM
scores  EQUAL  modelConv2D DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT import os DOM
global_model_version  EQUAL  45 DOM
global_batch_size  EQUAL  16 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def build_improved_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_basic_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
X_train COMMA  y_train COMMA  X_test COMMA  y_test  EQUAL  lstm DOT load_data PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
start  EQUAL  time DOT time PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print  PARELEFT  QUOTMARK  COMMA  time DOT time PARELEFT  PARERIGHT  - start PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
predictions  EQUAL  lstm DOT predict_sequences_multiple PARELEFT  PARERIGHT  DOM
lstm DOT plot_results_multiple PARELEFT  PARERIGHT import tensorflow as tf DOM
import pandas as pd DOM
import numpy as np DOM
import matplotlib DOM
matplotlib DOT use PARELEFT  PARERIGHT  DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  LSTM COMMA  Embedding COMMA  Activation COMMA  Lambda COMMA  Bidirectional DOM
from keras DOT engine import Input COMMA  Model COMMA  InputSpec DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Conv1D DOM
from keras DOT models import Model COMMA  Sequential DOM
from keras DOT utils import to_categorical DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import Concatenate COMMA  LeakyReLU COMMA  concatenate COMMA  MaxPool1D COMMA GlobalMaxPool1D COMMA add DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  Input COMMA  Masking COMMA  Dropout COMMA  MaxPooling1D COMMA Lambda COMMA  BatchNormalization DOM
from keras DOT layers import LSTM COMMA  TimeDistributed COMMA  AveragePooling1D COMMA  Flatten COMMA Activation COMMA ZeroPadding1D COMMA  UpSampling1D DOM
from keras DOT optimizers import Adam COMMA  rmsprop DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA ModelCheckpoint COMMA  CSVLogger DOM
from keras DOT layers import Conv1D COMMA  GlobalMaxPooling1D COMMA  ConvLSTM2D COMMA  Bidirectional COMMA RepeatVector DOM
from keras import regularizers DOM
from keras DOT utils import plot_model COMMA  to_categorical DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT utils import plot_model DOM
from keras DOT utils DOT data_utils import get_file DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import Adam DOM
from keras DOT callbacks import ModelCheckpoint DOM
from sklearn DOT utils import class_weight DOM
from keras import backend as K DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import model_from_json DOM
import os DOM
import pydot DOM
import graphviz DOM
RNN_HIDDEN_DIM  EQUAL  62 DOM
checkpoint_dir  EQUAL  QUOTMARK  DOM
os DOT path DOT exists PARELEFT  PARERIGHT  DOM
input_file  EQUAL   QUOTMARK  DOM
input_file  EQUAL   QUOTMARK  DOM
def letter_to_index PARELEFT  PARERIGHT  COLON  DOM
    _alphabet  EQUAL   QUOTMARK  DOM
    return next PARELEFT  PARELEFT i for i COMMA  _letter in enumerate PARELEFT  PARERIGHT  if _letter  EQUAL  EQUAL  letter PARERIGHT  COMMA  None PARERIGHT  DOM
def load_data PARELEFT  PARERIGHT  COLON  DOM
    print  PARELEFT  PARERIGHT  DOM
    df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
    df DOT columns  EQUAL  [] DOM
    df[]  EQUAL  df[] DOT apply PARELEFT lambda x COLON  [] PARERIGHT  DOM
    df  EQUAL  df DOT reindex PARELEFT np DOT random DOT permutation PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_size  EQUAL  int PARELEFT len PARELEFT  PARERIGHT  *  PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_train  EQUAL  df[] DOT values[] DOM
    y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    y_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT np DOT mean PARELEFT list PARELEFT map PARELEFT  PARERIGHT  PARERIGHT  COMMA  dtype EQUAL int PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT np DOT mean PARELEFT list PARELEFT map PARELEFT  PARERIGHT  PARERIGHT  COMMA  dtype EQUAL int PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return pad_sequences PARELEFT  PARERIGHT  COMMA  y_train COMMA  pad_sequences PARELEFT  PARERIGHT  COMMA  y_test DOM
def create_lstm_rna_seq PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_plots PARELEFT  PARERIGHT  COLON  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT title PARELEFT  PARERIGHT  DOM
    plt DOT ylabel PARELEFT  PARERIGHT  DOM
    plt DOT xlabel PARELEFT  PARERIGHT  DOM
    plt DOT legend PARELEFT  PARERIGHT  DOM
    plt DOT savefig PARELEFT  PARERIGHT  DOM
    plt DOT clf PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT title PARELEFT  PARERIGHT  DOM
    plt DOT ylabel PARELEFT  PARERIGHT  DOM
    plt DOT xlabel PARELEFT  PARERIGHT  DOM
    plt DOT legend PARELEFT  PARERIGHT  DOM
    plt DOT savefig PARELEFT  PARERIGHT  DOM
    plt DOT clf PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    X_train COMMA  y_train COMMA  X_test COMMA  y_test  EQUAL  load_data PARELEFT  PARERIGHT      DOM
    model  EQUAL  create_lstm_rna_seq PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    filepath EQUAL  checkpoint_dir +  QUOTMARK  DOM
    checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
    callbacks_list  EQUAL  [] DOM
    print  PARELEFT  PARERIGHT  DOM
    class_weight  EQUAL  class_weight DOT compute_class_weight PARELEFT  QUOTMARK  COMMA  np DOT unique PARELEFT  PARERIGHT  COMMA  y_train PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
    model_json  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
    with open PARELEFT  PARERIGHT  as json_file COLON  DOM
        json_file DOT write PARELEFT  PARERIGHT  DOM
    model DOT save_weights PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    create_plots PARELEFT  PARERIGHT  DOM
    plot_model PARELEFT  PARERIGHT  DOM
    score COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  RNN DOM
import numpy as np DOM
import pickle DOM
import load_sherlock as sh DOM
import read_write_helpers as rw DOM
import midi_to_data as md DOM
from custom_rnns import MinimalLSTMCell COMMA  MinimalRNNCell DOM
[]  EQUAL  sh DOT load PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT RNN PARELEFT MinimalRNNCell PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT 	X COMMA 	y COMMA 	epochs EQUAL 10 COMMA 	batch_size EQUAL 128 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
rw DOT save PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT RNN PARELEFT MinimalLSTMCell PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT 	X COMMA 	y COMMA 	epochs EQUAL 10 COMMA 	batch_size EQUAL 128 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
rw DOT save PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT SimpleRNN PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT 	X COMMA 	y COMMA 	epochs EQUAL 10 COMMA 	batch_size EQUAL 128 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
rw DOT save PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT 	X COMMA 	y COMMA 	epochs EQUAL 10 COMMA 	batch_size EQUAL 128 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
rw DOT save PARELEFT  PARERIGHT  DOM
[]  EQUAL  md DOT load_midi_prediction PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT RNN PARELEFT MinimalRNNCell PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT 	X COMMA 	y COMMA 	epochs EQUAL 100 COMMA 	batch_size EQUAL 128 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
rw DOT save PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT RNN PARELEFT MinimalLSTMCell PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT 	X COMMA 	y COMMA 	epochs EQUAL 100 COMMA 	batch_size EQUAL 128 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
rw DOT save PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT SimpleRNN PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT 	X COMMA 	y COMMA 	epochs EQUAL 100 COMMA 	batch_size EQUAL 128 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
rw DOT save PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT 256 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT 	X COMMA 	y COMMA 	epochs EQUAL 100 COMMA 	batch_size EQUAL 128 COMMA 	validation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
rw DOT save PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
import numpy as np DOM
import time DOM
import csv DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA Merge DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
import copy DOM
data_dim  EQUAL  1 DOM
timesteps  EQUAL  13 DOM
model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm_hidden_size  EQUAL  [] DOM
drop_out_rate  EQUAL  [] DOM
model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
in_dimension  EQUAL  3; DOM
nn_hidden_size  EQUAL  [] DOM
nn_drop_rate  EQUAL  [] DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT compile PARELEFT  PARERIGHT  DOM
from keras DOT utils DOT visualize_util import plot COMMA  to_graph DOM
graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
graph DOT write_png PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  Merge COMMA  Reshape DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import RMSprop COMMA  SGD DOM
from keras DOT layers DOT recurrent import LSTM DOM
def create_model PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT 64 COMMA  15 COMMA  15 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def create_CNN_LSTM PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT 64 COMMA  15 COMMA  15 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  subsample EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Convolution2D PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model_lstm DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_lstm DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model_lstm DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	rmsprop  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
	model_lstm DOT compile PARELEFT  PARERIGHT  DOM
	return model_lstmfrom keras DOT layers DOT convolutional import Conv2DTranspose  COMMA  Conv1D COMMA  Conv2D COMMA Convolution3D COMMA  MaxPooling2D COMMA UpSampling1D COMMA UpSampling2D COMMA UpSampling3D DOM
from keras DOT layers import Input COMMA Embedding COMMA  Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA    Reshape COMMA  Flatten COMMA  Lambda DOM
from keras DOT layers DOT noise import GaussianDropout COMMA  GaussianNoise DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras import initializers DOM
from keras import regularizers DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
import numpy as np  DOM
import pandas as pd DOM
import os DOM
def create_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_vecor_length  EQUAL  32 DOM
    model1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model1 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model2 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model3 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model4  EQUAL  Model PARELEFT inputs EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  outputs EQUAL a PARERIGHT  DOM
    education  EQUAL  [] DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        JD  EQUAL  JD_ls[] DOM
        education DOT append PARELEFT  PARERIGHT  DOM
    edu_types  EQUAL  list PARELEFT set PARELEFT sum PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    to_categorical PARELEFT  PARERIGHT  DOM
    import pandas as pd DOM
    s  EQUAL  pd DOT Series PARELEFT  PARERIGHT  DOM
    pd DOT get_dummies PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
	model_id  EQUAL   QUOTMARK  DOM
	model  EQUAL  create_LSTM PARELEFT  PARERIGHT  DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout DOM
from keras DOT layers DOT recurrent import SimpleRNN COMMA  LSTM COMMA  GRU DOM
import keras DOM
import pandas as pd DOM
from keras DOT models import load_model DOM
from shutil import copyfile DOM
from datetime import datetime DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Model DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense DOM
  if len PARELEFT  PARERIGHT  EQUAL  EQUAL 0 COLON  raise Exception PARELEFT  QUOTMARK  PARERIGHT  DOM
  out_neurons  EQUAL  1 DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  for i COMMA  dimx in enumerate PARELEFT  PARERIGHT  COLON  DOM
    if i EQUAL  EQUAL 0 COLON  DOM
    else COLON  DOM
      model DOT add PARELEFT LSTM PARELEFT dimx COMMA  return_sequences EQUAL  PARELEFT  PARERIGHT ! EQUAL len PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  return model DOM
  if len PARELEFT  PARERIGHT  EQUAL  EQUAL 0 COLON  raise Exception PARELEFT  QUOTMARK  PARERIGHT  DOM
  out_neurons  EQUAL  1 DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  for i COMMA  dimx in enumerate PARELEFT  PARERIGHT  COLON  DOM
    if i EQUAL  EQUAL 0 COLON  DOM
    else COLON  DOM
      model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  return model DOM
  if len PARELEFT  PARERIGHT  EQUAL  EQUAL 0 COLON  raise Exception PARELEFT  QUOTMARK  PARERIGHT  DOM
  out_neurons  EQUAL  1 DOM
  model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
  for i COMMA  dimx in enumerate PARELEFT  PARERIGHT  COLON  DOM
    if i EQUAL  EQUAL 0 COLON  DOM
      model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
      model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
  return model DOM
from keras DOT utils import np_utils DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
def get_simple_net PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def get_dropout_net PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
from keras DOT callbacks import EarlyStopping DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT models import Sequential DOM
from keras DOT models import load_model DOM
from LSTM_for_Stock DOT unit import get_param_default_value as def_val DOM
import os DOM
from keras DOT backend import clear_session DOM
from keras DOT layers import CuDNNLSTM DOM
class Model PARELEFT  PARERIGHT  COLON  DOM
    pass DOM
class SequentialModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT __model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT __history  EQUAL  None DOM
    @property DOM
    def model PARELEFT  PARERIGHT  COLON  DOM
        return self DOT __model DOM
    @property DOM
    def history PARELEFT  PARERIGHT  COLON  DOM
        return self DOT __history DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
            t  EQUAL  layer DOT pop PARELEFT  PARERIGHT  DOM
            if t  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT __model DOT add PARELEFT Dense DOT from_config PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif t  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT __model DOT add PARELEFT LSTM DOT from_config PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif t  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT __model DOT add PARELEFT Dropout DOT from_config PARELEFT  PARERIGHT  PARERIGHT  DOM
            elif t  EQUAL  EQUAL   QUOTMARK  COLON  DOM
                self DOT __model DOT add PARELEFT CuDNNLSTM DOT from_config PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT __model DOT compile PARELEFT  PARERIGHT  DOM
    def train PARELEFT self COMMA X COMMA Y COMMA train EQUAL {} COMMA callbacks EQUAL [] PARERIGHT  COLON  DOM
        batch_size  EQUAL  train DOT pop PARELEFT  QUOTMARK  COMMA ef_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        verbose  EQUAL  train DOT pop PARELEFT  QUOTMARK  COMMA  def_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        validation_split  EQUAL  train DOT pop PARELEFT alidation_split' COMMA  def_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        validation_data  EQUAL  train DOT pop PARELEFT alidation_data' COMMA  def_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        shuffle  EQUAL  train DOT pop PARELEFT  QUOTMARK  COMMA  def_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        class_weight  EQUAL  train DOT pop PARELEFT  QUOTMARK  COMMA ef_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        sample_weight  EQUAL  train DOT pop PARELEFT  QUOTMARK  COMMA ef_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        initial_epoch  EQUAL  train DOT pop PARELEFT  QUOTMARK  COMMA ef_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        steps_per_epoch  EQUAL  train DOT pop PARELEFT teps_per_epoch' COMMA  def_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        validation_steps  EQUAL  train DOT pop PARELEFT alidation_steps' COMMA  def_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT __history  EQUAL  self DOT __model DOT fit PARELEFT  PARERIGHT  DOM
        return self DOT __history DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        batch_size  EQUAL  predict DOT pop PARELEFT  QUOTMARK  COMMA ef_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        verbose  EQUAL  predict DOT pop PARELEFT  QUOTMARK  COMMA ef_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        return self DOT __model DOT predict PARELEFT  PARERIGHT  DOM
    def evaluate PARELEFT  PARERIGHT  COLON  DOM
        sample_weight  EQUAL  evaluate DOT pop PARELEFT ample_weight' COMMA  def_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        batch_size  EQUAL  evaluate DOT pop PARELEFT  QUOTMARK  COMMA ef_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        verbose  EQUAL  evaluate DOT pop PARELEFT  QUOTMARK  COMMA ef_val PARELEFT  PARERIGHT  PARERIGHT  DOM
        return self DOT __model DOT evaluate PARELEFT  PARERIGHT  DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        os DOT makedirs PARELEFT os DOT path DOT dirname PARELEFT  PARERIGHT  COMMA  exist_ok EQUAL True PARERIGHT  DOM
        self DOT model DOT save PARELEFT  PARERIGHT  DOM
    def load PARELEFT  PARERIGHT  COLON  DOM
        if clear COLON  DOM
            clear_session PARELEFT  PARERIGHT  DOM
        self DOT __model  EQUAL  load_model PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Embedding COMMA  Conv1D COMMA  Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT core import Flatten DOM
def get_simple_cnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT input_dim EQUAL vocab_size COMMA output_dim EQUAL embedding_size COMMA embeddings_initializer EQUAL  QUOTMARK  COMMA trainable EQUAL True COMMA put_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def get_RNN PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
from keras DOT engine import Input DOM
from keras import backend as K DOM
from keras DOT layers import Concatenate DOM
from keras DOT models import Model DOM
def mix_cnn_rnn PARELEFT  PARERIGHT  COLON  DOM
    input_text  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    embedding_vec  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    cnn_config EQUAL [{ QUOTMARK  COLON 1 COMMA  QUOTMARK  COLON 64 COMMA    QUOTMARK  COLON  QUOTMARK } COMMA  DOM
                { QUOTMARK  COLON 2 COMMA  QUOTMARK  COLON 128 COMMA    QUOTMARK  COLON  QUOTMARK } COMMA  DOM
                { QUOTMARK  COLON 3 COMMA  QUOTMARK  COLON 512 COMMA    QUOTMARK  COLON  QUOTMARK } COMMA  DOM
                { QUOTMARK  COLON 4 COMMA  QUOTMARK  COLON 512 COMMA    QUOTMARK  COLON  QUOTMARK }] DOM
    data_aug  EQUAL  [] DOM
    for i COMMA  c_conf in enumerate PARELEFT  PARERIGHT  COLON  DOM
        data_aug DOT append PARELEFT Conv1D PARELEFT kernel_size  EQUAL c_conf[] COMMA lters  EQUAL  c_conf[] COMMA dding  EQUAL  c_conf[] COMMA name EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    concat_data  EQUAL  Concatenate PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    rnn_result  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    rnn_result  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    logist  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport numpy as np DOM
from sklearn DOT manifold import TSNE DOM
import matplotlib DOT pyplot as plt DOM
import tensorflow as tf DOM
import os DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
from tensorflow DOT keras DOT layers import Embedding DOM
from tensorflow DOT keras DOT layers import Dense COMMA  Input COMMA  Flatten DOM
from tensorflow DOT keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding COMMA  Dropout COMMA  LSTM COMMA  GRU COMMA  Bidirectional DOM
from tensorflow DOT keras DOT models import Model COMMA Sequential DOM
from tensorflow DOT keras import backend as K DOM
from tensorflow DOT keras DOT layers import Layer DOM
from tensorflow DOT keras import initializers COMMA  optimizers DOM
def lstm_keras PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def blstm PARELEFT  PARERIGHT  COLON     DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
class AttLayer PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
    def build PARELEFT  PARERIGHT  COLON  DOM
        self DOT W  EQUAL  self DOT add_weight PARELEFT name EQUAL  QUOTMARK  COMMA  shape EQUAL  PARELEFT  PARERIGHT  COMMA initializer EQUAL  QUOTMARK  COMMA trainable EQUAL True PARERIGHT  DOM
    def call PARELEFT  PARERIGHT  COLON  DOM
        eij  EQUAL  K DOT tanh PARELEFT K DOT dot PARELEFT  PARERIGHT  PARERIGHT  DOM
        ai  EQUAL  K DOT exp PARELEFT  PARERIGHT  DOM
        weights  EQUAL  ai/K DOT sum PARELEFT  PARERIGHT  DOT dimshuffle PARELEFT  PARERIGHT  DOM
        weighted_input  EQUAL  x*weights DOT dimshuffle PARELEFT  PARERIGHT  DOM
        return weighted_input DOT sum PARELEFT  PARERIGHT  DOM
    def compute_output_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT  PARERIGHT  DOM
def blstm_atten PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT AttLayer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    adam  EQUAL  optimizers DOT Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def get_model PARELEFT  PARERIGHT  COLON  DOM
    if m_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  lstm_keras PARELEFT  PARERIGHT  DOM
    elif m_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  blstm PARELEFT  PARERIGHT  DOM
    elif m_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  blstm_atten PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        print  QUOTMARK  DOM
        return None DOM
    return modelfrom __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class RestaurantPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return modelimport keras DOM
import numpy as np DOM
from keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential COMMA  load_model DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
TOP_WORDS  EQUAL  3000 DOM
EVL  EQUAL  32 DOM
MAX_WORDS  EQUAL  500 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT fit PARELEFT X_train COMMA  y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  epochs EQUAL 3 COMMA  batch_size EQUAL 64 PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  DOM
scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT import os DOM
global_model_version  EQUAL  67 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from __future__ import print_function DOM
from __future__ import division DOM
from functools import reduce DOM
import re DOM
import tarfile DOM
import math DOM
import numpy as np DOM
from keras DOT utils DOT data_utils import get_file DOM
from keras DOT layers import Merge COMMA  K DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  RepeatVector COMMA  Activation COMMA  Flatten DOM
from keras DOT layers import recurrent COMMA Lambda COMMA merge DOM
from keras DOT models import Sequential DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT layers DOT convolutional import Convolution1D COMMA  MaxPooling1D COMMA  AveragePooling1D DOM
from sklearn DOT metrics import average_precision_score DOM
from keras DOT layers import Bidirectional DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT preprocessing import sequence DOM
from attention import LSTM DOM
from attention_lstm import AttentionLSTM DOM
RNN EQUAL recurrent DOT LSTM DOM
EMBED_SIZE  EQUAL  16 DOM
HIDDEN_SIZE EQUAL  16 DOM
MAX_LEN EQUAL  100 DOM
BATCH_SIZE  EQUAL  16 DOM
EPOCHS  EQUAL  10 DOM
nb_filter  EQUAL  10 DOM
filter_length  EQUAL  5 DOM
def readResult PARELEFT  PARERIGHT  COLON  DOM
    index EQUAL 0 DOM
    p EQUAL n EQUAL tp EQUAL tn EQUAL fp EQUAL fn EQUAL 0 DOM
    for prob in results COLON  DOM
        if prob>0 DOT 5 COLON  DOM
            predLabel EQUAL 1 DOM
        else COLON  DOM
            predLabel EQUAL 0 DOM
        if y_test[]>0 COLON  DOM
            p+ EQUAL 1 DOM
            if predLabel>0 COLON  DOM
                tp+ EQUAL 1 DOM
            else COLON  DOM
                fn+ EQUAL 1 DOM
        else COLON  DOM
            n+ EQUAL 1 DOM
            if predLabel EQUAL  EQUAL 0 COLON  DOM
                tn+ EQUAL 1 DOM
            else COLON  DOM
                fp+ EQUAL 1 DOM
        index+ EQUAL 1 DOM
    acc EQUAL  PARELEFT  PARERIGHT / PARELEFT  PARERIGHT  DOM
    precisionP EQUAL tp/ PARELEFT  PARERIGHT  DOM
    precisionN EQUAL tn/ PARELEFT  PARERIGHT  DOM
    recallP EQUAL tp/ PARELEFT  PARERIGHT  DOM
    recallN EQUAL tn/ PARELEFT  PARERIGHT  DOM
    gmean EQUAL math DOT sqrt PARELEFT  PARERIGHT  DOM
    f_p EQUAL 2*precisionP*recallP/ PARELEFT  PARERIGHT  DOM
    f_n EQUAL 2*precisionN*recallN/ PARELEFT  PARERIGHT  DOM
    print  PARELEFT  QUOTMARK  % PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %average_precision_score PARELEFT  PARERIGHT  PARERIGHT  DOM
    output EQUAL open PARELEFT  PARERIGHT  DOM
    output DOT write PARELEFT  QUOTMARK  DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
def cnn_prediction PARELEFT  PARERIGHT  COLON   DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT   DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL BATCH_SIZE COMMA b_epoch EQUAL EPOCHS COMMA  show_accuracy EQUAL True COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_pred EQUAL model DOT predict PARELEFT  PARERIGHT  DOM
    results EQUAL [] for result in X_pred] DOM
    return readResult PARELEFT  PARERIGHT  DOM
def lstm_prediction PARELEFT  PARERIGHT  COLON   DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT   DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT X_train COMMA  y_train COMMA  batch_size EQUAL BATCH_SIZE COMMA b_epoch EQUAL EPOCHS COMMA  show_accuracy EQUAL True COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_pred EQUAL model DOT predict PARELEFT  PARERIGHT  DOM
    results EQUAL [] for result in X_pred] DOM
    return readResult PARELEFT  PARERIGHT  DOM
def buildModel_max PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model   DOM
def buildLSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model   DOM
def cnn_combined PARELEFT  PARERIGHT  COLON  DOM
    X_new_train_list EQUAL [] DOM
    X_new_test_list EQUAL [] DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        X_new_train_list DOT append PARELEFT  PARERIGHT  DOM
        X_new_test_list DOT append PARELEFT  PARERIGHT      DOM
    print PARELEFT  PARERIGHT  DOM
    firstLayers EQUAL [] DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    X_pred EQUAL model DOT predict PARELEFT  PARERIGHT  DOM
    results EQUAL [] for result in X_pred] DOM
    return readResult PARELEFT  PARERIGHT  DOM
def cnn_combined2 PARELEFT  PARERIGHT  COLON  DOM
    X_new_train_list EQUAL [] DOM
    X_new_test_list EQUAL [] DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        X_new_train_list DOT append PARELEFT  PARERIGHT  DOM
        X_new_test_list DOT append PARELEFT  PARERIGHT      DOM
    print PARELEFT  PARERIGHT  DOM
    preLayer EQUAL None DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        e_layer EQUAL Sequential PARELEFT  PARERIGHT  DOM
        e_layer DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        e_layer DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
        if preLayer! EQUAL None COLON  DOM
            m_layer EQUAL Sequential PARELEFT  PARERIGHT  DOM
            m_layer DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
            m_layer DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
            m_layer DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
            e_layer EQUAL m_layer DOM
        preLayer EQUAL e_layer DOM
    model  EQUAL  e_layer DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    X_pred EQUAL model DOT predict PARELEFT  PARERIGHT  DOM
    results EQUAL [] for result in X_pred] DOM
    return readResult PARELEFT  PARERIGHT  DOM
def cnn_combined3 PARELEFT  PARERIGHT  COLON  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    X_new_train_list EQUAL [] DOM
    X_new_test_list EQUAL [] DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
        X_new_train_list DOT append PARELEFT  PARERIGHT  DOM
        X_new_test_list DOT append PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    lstm_en EQUAL Sequential PARELEFT  PARERIGHT  DOM
    lstm_en DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_en DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_en DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_cn EQUAL Sequential PARELEFT  PARERIGHT  DOM
    lstm_cn DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_cn DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_cn DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_all EQUAL Sequential PARELEFT  PARERIGHT  DOM
    lstm_all DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_all DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_all DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_merge EQUAL Sequential PARELEFT  PARERIGHT  DOM
    lstm_merge DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_merge DOT add PARELEFT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model EQUAL lstm_merge DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    X_pred EQUAL model DOT predict PARELEFT  PARERIGHT  DOM
    results EQUAL [] for result in X_pred] DOM
    return readResult PARELEFT  PARERIGHT  DOM
def lstm_attention PARELEFT  PARERIGHT  COLON   DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT   DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    data  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    embedding EQUAL Embedding PARELEFT  PARERIGHT  DOM
    data_embedding EQUAL embedding PARELEFT  PARERIGHT  DOM
    dropout  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    data_dropout  EQUAL  dropout PARELEFT  PARERIGHT      DOM
    rnn  EQUAL  RNN PARELEFT  PARERIGHT  DOM
    data_rnn  EQUAL  RNN PARELEFT  PARERIGHT  DOM
    maxpool  EQUAL  Lambda PARELEFT lambda x COLON  K DOT max PARELEFT  PARERIGHT  COMMA  output_shape EQUAL lambda x COLON   PARELEFT  PARERIGHT  PARERIGHT  DOM
    data_pool  EQUAL  maxpool PARELEFT  PARERIGHT  DOM
    rnn EQUAL AttentionLSTM PARELEFT  PARERIGHT import pandas as pd DOM
import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense COMMA  Embedding COMMA  SimpleRNN COMMA  LSTM COMMA  Dropout DOM
from keras import backend as K DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT callbacks import TensorBoard DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
imdb_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
pd DOT set_option PARELEFT  PARERIGHT  DOM
num_words  EQUAL  10000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
y  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
max_review_length  EQUAL  552 DOM
pad  EQUAL   QUOTMARK  DOM
X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
from sklearn DOT model_selection import train_test_split DOM
X_train COMMA  X_test COMMA  y_train COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
input_shape  EQUAL  X_train DOT shape DOM
K DOT clear_session PARELEFT  PARERIGHT  DOM
LSTM_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
LSTM_model DOT summary PARELEFT  PARERIGHT  DOM
LSTM_model DOT compile PARELEFT  PARERIGHT  DOM
LSTM_history  EQUAL  LSTM_model DOT fit PARELEFT X_train COMMA y_train COMMA epochs EQUAL 10 COMMA batch_size EQUAL 32 COMMA validation_split EQUAL 0 DOT 3 DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from absl DOT testing import parameterized DOM
import numpy as np DOM
from tensorflow DOT python import keras DOM
from tensorflow DOT python DOT eager import context DOM
from tensorflow DOT python DOT framework import test_util DOM
from tensorflow DOT python DOT keras import keras_parameterized DOM
from tensorflow DOT python DOT keras import testing_utils DOM
from tensorflow DOT python DOT platform import test DOM
from tensorflow DOT python DOT training import adam DOM
from tensorflow DOT python DOT training import gradient_descent DOM
from tensorflow DOT python DOT training DOT rmsprop import RMSPropOptimizer DOM
@keras_parameterized DOT run_all_keras_modes DOM
class LSTMLayerTest PARELEFT  PARERIGHT  COLON  DOM
  def test_return_sequences_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA return_sequences' COLON  True} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_static_shape_inference_LSTM PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  keras DOT layers DOT Dense PARELEFT embedding_dim COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  model DOT layers[] DOT output DOM
    self DOT assertEqual PARELEFT outputs DOT get_shape PARELEFT  PARERIGHT  DOT as_list PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
  def test_dynamic_behavior_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT RMSPropOptimizer PARELEFT  PARERIGHT  COMMA   QUOTMARK  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    x  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_dropout_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA dropout QUOTMARK  COLON  0 DOT 1} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  @parameterized DOT parameters PARELEFT  PARERIGHT  DOM
  def test_implementation_mode_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA implementation' COLON  implementation_mode} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_constraints_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    k_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    r_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    b_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL k_constraint COMMA recurrent_constraint EQUAL r_constraint COMMA bias_constraint EQUAL b_constraint PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT  PARERIGHT  DOM
  def test_with_masking_layer_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT layer_class PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_masking_with_stacking_LSTM PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    lstm_cells  EQUAL  [] DOM
    model DOT add PARELEFT keras DOT layers DOT RNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
  def test_from_config_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    for stateful in  PARELEFT  PARERIGHT  COLON  DOM
      l1  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      l2  EQUAL  layer_class DOT from_config PARELEFT l1 DOT get_config PARELEFT  PARERIGHT  PARERIGHT  DOM
      assert l1 DOT get_config PARELEFT  PARERIGHT   EQUAL  EQUAL  l2 DOT get_config PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    else COLON  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_non_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [keras DOT backend DOT random_normal_variable PARELEFT  PARERIGHT  COMMA  0 COMMA  1 PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_reset_states_with_values PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    assert layer DOT states[] is not None DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT zeros PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    state_shapes  EQUAL  [] DOM
    values  EQUAL  [] DOM
    if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
      values  EQUAL  values[] DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT ones PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
    with self DOT assertRaises PARELEFT  PARERIGHT  COLON  DOM
      layer DOT reset_states PARELEFT [] *  PARELEFT len PARELEFT  PARERIGHT  + 1 PARERIGHT  PARERIGHT  DOM
  def test_specify_state_with_masking PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    _  EQUAL  keras DOT layers DOT Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL RMSPropOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_return_state PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    state  EQUAL  outputs[] DOM
    assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    state  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA  state COMMA  atol EQUAL 1e-4 PARERIGHT  DOM
  def test_state_reuse PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
    output COMMA  state  EQUAL  outputs[] COMMA  outputs[] DOM
    output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    outputs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  def test_initial_states_as_other_inputs PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    num_states  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    main_inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [] DOM
    inputs  EQUAL  [] + initial_state DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    output  EQUAL  layer PARELEFT  PARERIGHT  DOM
    assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
    model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT loss EQUAL  QUOTMARK  COMMA optimizer EQUAL adam DOT AdamOptimizer PARELEFT  PARERIGHT  COMMA run_eagerly EQUAL testing_utils DOT should_run_eagerly PARELEFT  PARERIGHT  PARERIGHT  DOM
    main_inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                     for _ in range PARELEFT  PARERIGHT ] DOM
    targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_regularizers_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL  QUOTMARK  COMMA activity_regularizer EQUAL  QUOTMARK  PARERIGHT  DOM
    layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  3 PARERIGHT  DOM
    x  EQUAL  keras DOT backend DOT variable PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    layer PARELEFT  PARERIGHT  DOM
    if context DOT executing_eagerly PARELEFT  PARERIGHT  COLON  DOM
      self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  4 PARERIGHT  DOM
    else COLON  DOM
      self DOT assertEqual PARELEFT len PARELEFT layer DOT get_losses_for PARELEFT  PARERIGHT  PARERIGHT  COMMA  1 PARERIGHT  DOM
class LSTMLayerV1OnlyTest PARELEFT  PARERIGHT  COLON  DOM
  @test_util DOT run_v1_only PARELEFT  PARERIGHT  DOM
  @test_util DOT run_in_graph_and_eager_modes DOM
  def test_statefulness_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT 4 COMMA embedding_dim COMMA mask_zero EQUAL True COMMA input_length EQUAL timesteps COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT optimizer EQUAL gradient_descent DOT GradientDescentOptimizer PARELEFT  PARERIGHT  COMMA loss EQUAL  QUOTMARK  PARERIGHT  DOM
    out1  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertEqual PARELEFT out1 DOT shape COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    out2  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out1 DOT max PARELEFT  PARERIGHT  COMMA  out2 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    out3  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out2 DOT max PARELEFT  PARERIGHT  COMMA  out3 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT reset_states PARELEFT  PARERIGHT  DOM
    out4  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT  PARERIGHT  DOM
    out5  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    self DOT assertNotEqual PARELEFT out4 DOT max PARELEFT  PARERIGHT  COMMA  out5 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    left_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    left_padded_input[]  EQUAL  0 DOM
    left_padded_input[]  EQUAL  0 DOM
    out6  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    layer DOT reset_states PARELEFT  PARERIGHT  DOM
    right_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    right_padded_input[]  EQUAL  0 DOM
    right_padded_input[]  EQUAL  0 DOM
    out7  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    self DOT assertAllClose PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  test DOT main PARELEFT  PARERIGHT import numpy as np DOM
from readData import * DOM
import keras COMMA os DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten COMMA Input COMMA LSTM COMMA Convolution1D COMMA MaxPooling1D COMMA Merge DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import SGD DOM
from keras DOT models import Model DOM
from keras DOT utils DOT np_utils import to_categorical DOM
def LSTMModel PARELEFT  PARERIGHT  COLON  DOM
    QA_EMBED_SIZE  EQUAL  64 DOM
    BATCH_SIZE  EQUAL  32 DOM
    NBR_EPOCHS  EQUAL  20 DOM
    qenc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    qenc DOT add PARELEFT LSTM PARELEFT QA_EMBED_SIZE COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    qenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    qenc DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    qenc DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    qenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    qenc DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    aenc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    aenc DOT add PARELEFT LSTM PARELEFT QA_EMBED_SIZE COMMA  return_sequences EQUAL True COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    aenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    aenc DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    aenc DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    aenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    aenc DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
import tensorflow as tf DOM
import pandas as pd DOM
import numpy as np DOM
import matplotlib DOM
matplotlib DOT use PARELEFT  PARERIGHT  DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  LSTM COMMA  Embedding COMMA  Activation COMMA  Lambda COMMA  Bidirectional DOM
from keras DOT engine import Input COMMA  Model COMMA  InputSpec DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Conv1D DOM
from keras DOT models import Model COMMA  Sequential DOM
from keras DOT utils import to_categorical DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers import Concatenate COMMA  LeakyReLU COMMA  concatenate COMMA  MaxPool1D COMMA GlobalMaxPool1D COMMA add DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  Input COMMA  Masking COMMA  Dropout COMMA  MaxPooling1D COMMA Lambda COMMA  BatchNormalization DOM
from keras DOT layers import LSTM COMMA  TimeDistributed COMMA  AveragePooling1D COMMA  Flatten COMMA Activation COMMA ZeroPadding1D COMMA  UpSampling1D DOM
from keras DOT optimizers import Adam COMMA  rmsprop DOM
from keras DOT callbacks import ReduceLROnPlateau COMMA  EarlyStopping COMMA ModelCheckpoint COMMA  CSVLogger DOM
from keras DOT layers import Conv1D COMMA  GlobalMaxPooling1D COMMA  ConvLSTM2D COMMA  Bidirectional COMMA RepeatVector DOM
from keras import regularizers DOM
from keras DOT utils import plot_model COMMA  to_categorical DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT utils import plot_model DOM
from keras DOT utils DOT data_utils import get_file DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import Adam DOM
from keras DOT callbacks import ModelCheckpoint DOM
from sklearn DOT utils import class_weight DOM
from keras import backend as K DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import model_from_json DOM
import os DOM
import pydot DOM
import graphviz DOM
RNN_HIDDEN_DIM  EQUAL  62 DOM
checkpoint_dir  EQUAL  QUOTMARK  DOM
os DOT path DOT exists PARELEFT  PARERIGHT  DOM
def letter_to_index PARELEFT  PARERIGHT  COLON  DOM
    _alphabet  EQUAL   QUOTMARK  DOM
    return next PARELEFT  PARELEFT i for i COMMA  _letter in enumerate PARELEFT  PARERIGHT  if _letter  EQUAL  EQUAL  letter PARERIGHT  COMMA  None PARERIGHT  DOM
def load_data PARELEFT  PARERIGHT  COLON  DOM
    print  PARELEFT  PARERIGHT  DOM
    df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    df DOT columns  EQUAL  [] DOM
    df[]  EQUAL  df[] DOT apply PARELEFT lambda x COLON  [] PARERIGHT  DOM
    df  EQUAL  df DOT reindex PARELEFT np DOT random DOT permutation PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_size  EQUAL  int PARELEFT len PARELEFT  PARERIGHT  *  PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_train  EQUAL  df[] DOT values[] DOM
    y_train  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    y_test  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT np DOT mean PARELEFT list PARELEFT map PARELEFT  PARERIGHT  PARERIGHT  COMMA  dtype EQUAL int PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  DOT format PARELEFT np DOT mean PARELEFT list PARELEFT map PARELEFT  PARERIGHT  PARERIGHT  COMMA  dtype EQUAL int PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return pad_sequences PARELEFT  PARERIGHT  COMMA  y_train COMMA  pad_sequences PARELEFT  PARERIGHT  COMMA  y_test DOM
def create_lstm_rna_seq PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def create_conv_rna_seq PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    forward_lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    backward_lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    brnn  EQUAL  Bidirectional PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT      DOM
    return model DOM
def create_plots PARELEFT  PARERIGHT  COLON  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT title PARELEFT  PARERIGHT  DOM
    plt DOT ylabel PARELEFT  PARERIGHT  DOM
    plt DOT xlabel PARELEFT  PARERIGHT  DOM
    plt DOT legend PARELEFT  PARERIGHT  DOM
    plt DOT savefig PARELEFT  PARERIGHT  DOM
    plt DOT clf PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT title PARELEFT  PARERIGHT  DOM
    plt DOT ylabel PARELEFT  PARERIGHT  DOM
    plt DOT xlabel PARELEFT  PARERIGHT  DOM
    plt DOT legend PARELEFT  PARERIGHT  DOM
    plt DOT savefig PARELEFT  PARERIGHT  DOM
    plt DOT clf PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    input_file  EQUAL   QUOTMARK  DOM
    X_train COMMA  y_train COMMA  X_test COMMA  y_test  EQUAL  load_data PARELEFT  PARERIGHT  DOM
    model  EQUAL  create_lstm_rna_seq PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
    filepath EQUAL  checkpoint_dir +  QUOTMARK  DOM
    checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
    callbacks_list  EQUAL  [] DOM
    print  PARELEFT  PARERIGHT  DOM
    class_weight  EQUAL  class_weight DOT compute_class_weight PARELEFT  QUOTMARK  COMMA  np DOT unique PARELEFT  PARERIGHT  COMMA  y_train PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
    model_json  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
    with open PARELEFT  PARERIGHT  as json_file COLON  DOM
        json_file DOT write PARELEFT  PARERIGHT  DOM
    model DOT save_weights PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    create_plots PARELEFT  PARERIGHT  DOM
    plot_model PARELEFT  PARERIGHT  DOM
    score COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT wrappers import TimeDistributed COMMA  Bidirectional DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT import numpy as np DOM
from loop import make_generator DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Dropout COMMA  Flatten DOM
EMBEDDING_DIMS  EQUAL  300 DOM
CONTEXT_LENGTH  EQUAL  700 DOM
QUESTION_LENGTH  EQUAL  40 DOM
ANSWER_LENGTH  EQUAL  1 DOM
cenc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
cenc DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
cenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
qenc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
qenc DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
qenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
aenc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
aenc DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT                     DOM
aenc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
facts  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
facts DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
attn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
attn DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
dev_gen  EQUAL  make_generator PARELEFT  PARERIGHT  DOM
train_gen  EQUAL  make_generator PARELEFT  PARERIGHT  DOM
for cycle in range PARELEFT  PARERIGHT  COLON  DOM
	model DOT save_weights PARELEFT  QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  PARERIGHT  DOM
	model DOT fit_generator PARELEFT  PARERIGHT import os DOM
global_model_version  EQUAL  49 DOM
global_batch_size  EQUAL  16 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 8 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_8 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 512 COMMA  kernel_size EQUAL 10 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_10 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense  COMMA  Concatenate DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    for _ in xrange PARELEFT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Merge COMMA  Dense DOM
from keras DOT layers import concatenate COMMA Concatenate COMMA Dot DOM
from keras DOT layers import Add DOM
from keras DOT models import Model DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    model_image  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_image DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_language DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    x EQUAL concatenate PARELEFT  PARERIGHT  DOM
    for _ in xrange PARELEFT  PARERIGHT  COLON  DOM
        x EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x EQUAL Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model_output EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model_output EQUAL Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    final EQUAL Model PARELEFT  PARERIGHT  DOM
    print final DOT summary PARELEFT  PARERIGHT  DOM
    return final DOM
model EQUAL VQA_MODEL PARELEFT  PARERIGHT  DOM
model_json  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as json_file COLON  DOM
    json_file DOT write PARELEFT  PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  37 DOM
global_batch_size  EQUAL  32 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from __future__ import print_function DOM
import numpy as np DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Lambda DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Convolution1D COMMA MaxPooling1D COMMA  Flatten DOM
from keras DOT datasets import imdb DOM
from keras import backend as K DOM
from sklearn DOT cross_validation import train_test_split DOM
import pandas as pd DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from sklearn DOT preprocessing import Normalizer DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Convolution1D COMMA  Dense COMMA  Dropout COMMA  Flatten COMMA  MaxPooling1D DOM
from keras DOT utils import np_utils DOM
import numpy as np DOM
import h5py DOM
from keras import callbacks DOM
from keras DOT layers import LSTM COMMA  GRU COMMA  SimpleRNN DOM
from keras DOT callbacks import CSVLogger DOM
from keras DOT callbacks import ModelCheckpoint COMMA  EarlyStopping COMMA  ReduceLROnPlateau COMMA  CSVLogger DOM
import csv DOM
from sklearn DOT cross_validation import StratifiedKFold DOM
from sklearn DOT cross_validation import cross_val_score DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list  EQUAL  list PARELEFT  PARERIGHT  DOM
trainX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
traindata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y  EQUAL  traindata DOT iloc[] DOM
y_train1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_train EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
trainX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_train  EQUAL  np DOT reshape PARELEFT trainX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
with open PARELEFT  PARERIGHT  as f COLON  DOM
    reader1  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    your_list1  EQUAL  list PARELEFT  PARERIGHT  DOM
testX  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
testdata  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
Y1  EQUAL  testdata DOT iloc[] DOM
y_test1  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
y_test EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
maxlen  EQUAL  44100 DOM
testX  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
X_test  EQUAL  np DOT reshape PARELEFT testX COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
batch_size  EQUAL  2 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT   DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
checkpointer  EQUAL  callbacks DOT ModelCheckpoint PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
model DOT save PARELEFT  PARERIGHT  import tflearn DOM
import numpy as np DOM
from sklearn DOT manifold import TSNE DOM
import matplotlib DOT pyplot as plt DOM
from tflearn DOT layers DOT core import input_data COMMA  dropout COMMA  fully_connected DOM
from tflearn DOT layers DOT conv import conv_1d COMMA  global_max_pool DOM
from tflearn DOT layers DOT merge_ops import merge DOM
from tflearn DOT layers DOT estimator import regression DOM
import tensorflow as tf DOM
import os DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Dense COMMA  Input COMMA  Flatten DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding COMMA  Merge COMMA  Dropout COMMA  LSTM COMMA  GRU COMMA  Bidirectional DOM
from keras DOT models import Model COMMA Sequential DOM
from keras import backend as K DOM
from keras DOT engine DOT topology import Layer COMMA  InputSpec DOM
from keras import initializers COMMA  optimizers DOM
def lstm_keras PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def cnn PARELEFT  PARERIGHT  COLON  DOM
    tf DOT reset_default_graph PARELEFT  PARERIGHT  DOM
    network  EQUAL  input_data PARELEFT  PARERIGHT  DOM
    network  EQUAL  tflearn DOT embedding PARELEFT  PARERIGHT  DOM
    network  EQUAL  dropout PARELEFT  PARERIGHT  DOM
    branch1  EQUAL  conv_1d PARELEFT  PARERIGHT  DOM
    branch2  EQUAL  conv_1d PARELEFT  PARERIGHT  DOM
    branch3  EQUAL  conv_1d PARELEFT  PARERIGHT  DOM
    network  EQUAL  merge PARELEFT  PARERIGHT  DOM
    network  EQUAL  tf DOT expand_dims PARELEFT  PARERIGHT  DOM
    network  EQUAL  global_max_pool PARELEFT  PARERIGHT  DOM
    network  EQUAL  dropout PARELEFT  PARERIGHT  DOM
    network  EQUAL  fully_connected PARELEFT  PARERIGHT  DOM
    network  EQUAL  regression PARELEFT  PARERIGHT  DOM
    model  EQUAL  tflearn DOT DNN PARELEFT  PARERIGHT  DOM
    return model DOM
def blstm PARELEFT  PARERIGHT  COLON     DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
class AttLayer PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
    def build PARELEFT  PARERIGHT  COLON  DOM
        self DOT W  EQUAL  self DOT add_weight PARELEFT name EQUAL  QUOTMARK  COMMA  shape EQUAL  PARELEFT  PARERIGHT  COMMA initializer EQUAL  QUOTMARK  COMMA trainable EQUAL True PARERIGHT  DOM
    def call PARELEFT  PARERIGHT  COLON  DOM
        eij  EQUAL  K DOT tanh PARELEFT K DOT dot PARELEFT  PARERIGHT  PARERIGHT  DOM
        ai  EQUAL  K DOT exp PARELEFT  PARERIGHT  DOM
        weights  EQUAL  ai/K DOT sum PARELEFT  PARERIGHT  DOT dimshuffle PARELEFT  PARERIGHT  DOM
        weighted_input  EQUAL  x*weights DOT dimshuffle PARELEFT  PARERIGHT  DOM
        return weighted_input DOT sum PARELEFT  PARERIGHT  DOM
    def compute_output_shape PARELEFT  PARERIGHT  COLON  DOM
        return  PARELEFT  PARERIGHT  DOM
def blstm_atten PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT AttLayer PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    adam  EQUAL  optimizers DOT Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return model DOM
def get_model PARELEFT  PARERIGHT  COLON  DOM
    if m_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  cnn PARELEFT  PARERIGHT  DOM
    elif m_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  lstm_keras PARELEFT  PARERIGHT  DOM
    elif m_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  blstm PARELEFT  PARERIGHT  DOM
    elif m_type  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  blstm_atten PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        print  QUOTMARK  DOM
        return None DOM
    return modelimport pandas as pd  DOM
import numpy as np DOM
import datetime DOM
import os DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT layers import Convolution1D COMMA  MaxPooling1D DOM
from keras DOT callbacks import Callback DOM
from sklearn DOT preprocessing import MinMaxScaler DOM
from sklearn DOT metrics import mean_squared_error DOM
def prepare_data PARELEFT  PARERIGHT  COLON  DOM
	df__  EQUAL  df[] DOM
	dataset  EQUAL  df__ DOT values DOM
	dataset  EQUAL  dataset DOT astype PARELEFT  PARERIGHT  DOM
	return dataset DOM
def create_dataset PARELEFT  PARERIGHT  COLON  DOM
	for i in range PARELEFT len PARELEFT  PARERIGHT -look_back-1 PARERIGHT  COLON  DOM
		a  EQUAL  dataset[] DOM
		dataX DOT append PARELEFT  PARERIGHT  DOM
		dataY DOT append PARELEFT  PARERIGHT  DOM
	return np DOT array PARELEFT  PARERIGHT  COMMA  np DOT array PARELEFT  PARERIGHT  DOM
def reshape_dataset PARELEFT  PARERIGHT  COLON  DOM
	if time_series EQUAL False COLON  DOM
	else COLON  DOM
	return data_reshape DOM
class LSTM_model DOM
	def __init__ PARELEFT  PARERIGHT  COLON  DOM
		self DOT trainX  EQUAL  trainX  DOM
		self DOT trainY  EQUAL  trainY DOM
		self DOT look_back  EQUAL  look_back DOM
	def simple_LSTM PARELEFT  PARERIGHT  COLON  DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		model DOT fit PARELEFT  PARERIGHT  DOM
		return model DOM
	def LSTM_model_memory_batch PARELEFT  PARERIGHT  COLON  DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT 4 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		for i in range PARELEFT  PARERIGHT  COLON  DOM
			model DOT fit PARELEFT  PARERIGHT  DOM
			model DOT reset_states PARELEFT  PARERIGHT  DOM
		return model  DOM
	def Stacked_LSTM_model_memory_batch PARELEFT  PARERIGHT  COLON  DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT 4 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT 4 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		for i in range PARELEFT  PARERIGHT  COLON  DOM
			model DOT fit PARELEFT  PARERIGHT  DOM
			model DOT reset_states PARELEFT  PARERIGHT  DOM
		return model  DOM
def Simple_LSTM PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT 4 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	model DOT fit PARELEFT  PARERIGHT  DOM
	return model DOM
def LSTM_model_memory_batch PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT 4 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	for i in range PARELEFT  PARERIGHT  COLON  DOM
		model DOT fit PARELEFT  PARERIGHT  DOM
		model DOT reset_states PARELEFT  PARERIGHT  DOM
	return model  DOM
def Stacked_LSTM_model_memory_batch PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT 4 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT 4 COMMA  batch_input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  stateful EQUAL True PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	for i in range PARELEFT  PARERIGHT  COLON  DOM
		model DOT fit PARELEFT  PARERIGHT  DOM
		model DOT reset_states PARELEFT  PARERIGHT  DOM
	return model  DOM
import os DOM
global_model_version  EQUAL  63 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
def build_improved_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_basic_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA units EQUAL output_dim COMMA return_sequences EQUAL return_sequences PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
from keras DOT callbacks import ModelCheckpoint DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT models import Sequential DOM
from keras DOT models import load_model DOM
from keras DOT models import model_from_json DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import np_utils DOM
def baseModel PARELEFT  PARERIGHT  COLON  DOM
	print PARELEFT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT   DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return modelimport keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT utils import multi_gpu_model DOM
from models import timehistory DOM
from data_generator import generate_text_input_data DOM
if keras DOT backend DOT backend PARELEFT  PARERIGHT   EQUAL  EQUAL   QUOTMARK  COLON  DOM
  from gpu_mode import cntk_gpu_mode_config DOM
class LstmBenchmark PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT test_name  EQUAL   QUOTMARK  DOM
        self DOT sample_type  EQUAL   QUOTMARK  DOM
        self DOT total_time  EQUAL  0 DOM
        self DOT batch_size  EQUAL  128 DOM
        self DOT epochs  EQUAL  2 DOM
        self DOT num_samples  EQUAL  1000 DOM
    def run_benchmark PARELEFT  PARERIGHT  COLON  DOM
        input_dim_1  EQUAL  40 DOM
        input_dim_2  EQUAL  60 DOM
        input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
        x COMMA  y  EQUAL  generate_text_input_data PARELEFT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  DOM
        optimizer  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        if keras DOT backend DOT backend PARELEFT  PARERIGHT  is  QUOTMARK  and gpus > 1 COLON  DOM
            model  EQUAL  multi_gpu_model PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        if keras DOT backend DOT backend PARELEFT  PARERIGHT  is  QUOTMARK  and gpus > 1 COLON  DOM
            start COMMA  end  EQUAL  cntk_gpu_mode_config PARELEFT  PARERIGHT  DOM
            x  EQUAL  x[] DOM
            y  EQUAL  y[] DOM
        time_callback  EQUAL  timehistory DOT TimeHistory PARELEFT  PARERIGHT  DOM
        model DOT fit PARELEFT  PARERIGHT  DOM
        self DOT total_time  EQUAL  0 DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            self DOT total_time + EQUAL  time_callback DOT times[]from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import Callback DOM
import tensorflow as tf DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
    def on_batch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def neural_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT rams[] COMMA  init EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if load COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT layers DOT convolutional import Conv2DTranspose  COMMA  Conv1D COMMA  Conv2D COMMA Convolution3D COMMA  MaxPooling2D COMMA UpSampling1D COMMA UpSampling2D COMMA UpSampling3D DOM
from keras DOT layers import Input COMMA LSTM COMMA Bidirectional COMMA TimeDistributed COMMA Embedding COMMA  Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA    Reshape COMMA  Flatten COMMA  Lambda DOM
from keras DOT layers DOT noise import GaussianDropout COMMA  GaussianNoise DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras import initializers DOM
from keras import regularizers DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers DOT advanced_activations import LeakyReLU DOM
import numpy as np  DOM
import pandas as pd DOM
import os DOM
def create_LSTM PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    if embedding_matrix ! EQUAL  [] COLON  DOM
        embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT 150 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT 150 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    model_id  EQUAL   QUOTMARK  DOM
    model  EQUAL  create_LSTM PARELEFT  PARERIGHT import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import SGD  COMMA  Adagrad DOM
def keras_model PARELEFT  PARERIGHT  COLON  DOM
    LSTM_layers  EQUAL  1  DOM
    LSTM_units   EQUAL  300 DOM
    DNN_layers   EQUAL  3 DOM
    DNN_units    EQUAL  32 DOM
    question_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_q1  EQUAL  LSTM  PARELEFT  LSTM_units  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  return_sequences EQUAL  False  PARERIGHT  DOM
    question_model DOT add PARELEFT  PARERIGHT  DOM
    answer_1_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a1  EQUAL  LSTM  PARELEFT  LSTM_units  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  return_sequences EQUAL  False  PARERIGHT  DOM
    answer_1_model DOT add PARELEFT  PARERIGHT  DOM
    answer_2_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a2  EQUAL  beShared_LSTM PARELEFT layer_a1  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  DOM
    answer_2_model DOT add PARELEFT  PARERIGHT  DOM
    answer_3_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a3  EQUAL  beShared_LSTM PARELEFT layer_a1  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  DOM
    answer_3_model DOT add PARELEFT  PARERIGHT  DOM
    answer_4_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a4  EQUAL  beShared_LSTM PARELEFT layer_a1  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  DOM
    answer_4_model DOT add PARELEFT  PARERIGHT  DOM
    answer_5_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    layer_a5  EQUAL  beShared_LSTM PARELEFT layer_a1  COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  DOM
    answer_5_model DOT add PARELEFT  PARERIGHT  DOM
    image_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    image_model DOT add PARELEFT Reshape PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT   COMMA  dims  EQUAL   PARELEFT  PARERIGHT   PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    layer_DNN_1  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_DNN_1_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_DNN_1_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_DNN_2  EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_DNN_2_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_DNN_2_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_DNN_3      EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_DNN_3_act  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    layer_DNN_3_dro  EQUAL  Dropout PARELEFT  PARERIGHT  DOM
    layer_out      EQUAL  Dense PARELEFT  PARERIGHT  DOM
    layer_softmax  EQUAL  Activation PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Dropout COMMA  Embedding COMMA  LSTM DOM
def createModel PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if use_dropout COLON  model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT import argparse DOM
def softmax_demo PARELEFT  PARERIGHT  COLON  DOM
    import keras DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
    from keras DOT optimizers import SGD DOM
    import numpy as np DOM
    x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
    x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print score DOM
def mlp_demo PARELEFT  PARERIGHT  COLON  DOM
    import numpy as np DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Dropout DOM
    x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_train  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_test  EQUAL  np DOT random DOT randint PARELEFT 2 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
def vgg_demo PARELEFT  PARERIGHT  COLON  DOM
    import numpy as np DOM
    import keras DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Dropout COMMA  Flatten DOM
    from keras DOT layers import Conv2D COMMA  MaxPooling2D DOM
    from keras DOT optimizers import SGD DOM
    x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
    x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    print model DOT summary PARELEFT  PARERIGHT  DOM
    print model DOT to_json PARELEFT  PARERIGHT  DOM
    score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
def stack_lstm_demo PARELEFT  PARERIGHT  COLON  DOM
    import numpy as np DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Dropout DOM
    from keras DOT layers import Embedding DOM
    from keras DOT layers import LSTM DOM
    data_dim  EQUAL  16 DOM
    timesteps  EQUAL  8 DOM
    num_classes  EQUAL  10 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 32 COMMA  return_sequences EQUAL True COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT x_train COMMA  y_train COMMA atch_size EQUAL 64 COMMA  epochs EQUAL 5 COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
def stateful_lstm_demo PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import LSTM COMMA  Dense DOM
    import numpy as np DOM
    data_dim  EQUAL  16 DOM
    timesteps  EQUAL  8 DOM
    num_classes  EQUAL  10 DOM
    batch_size  EQUAL  32 DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 32 COMMA  return_sequences EQUAL True COMMA  stateful EQUAL True COMMA tch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    x_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y_val  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT x_train COMMA  y_train COMMA tch_size EQUAL batch_size COMMA  epochs EQUAL 5 COMMA  shuffle EQUAL False COMMA alidation_data EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
    parser DOT add_argument PARELEFT  PARERIGHT  DOM
    args  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
    print args DOM
    if args DOT model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        softmax_demo PARELEFT  PARERIGHT  DOM
    elif args DOT model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        mlp_demo PARELEFT  PARERIGHT  DOM
    elif args DOT model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        vgg_demo PARELEFT  PARERIGHT  DOM
    elif args DOT model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        stack_lstm_demo PARELEFT  PARERIGHT  DOM
    elif args DOT model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        stateful_lstm_demo PARELEFT  PARERIGHT from sklearn DOT feature_extraction DOT text import CountVectorizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from sklearn DOT model_selection import train_test_split DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT layers import Dense COMMA  Embedding COMMA  LSTM COMMA Dropout COMMA  BatchNormalization DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from keras DOT models import model_from_json DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import Adam DOM
import tensorflow as tf DOM
import numpy as np DOM
import pandas as pd DOM
import random DOM
class modeler COLON  DOM
	def __init__ PARELEFT  PARERIGHT  COLON  DOM
		self DOT dataset_main  EQUAL  self DOT load_dataset PARELEFT  PARERIGHT  DOM
		self DOT max_features  EQUAL 5000 DOM
	def load_dataset PARELEFT  PARERIGHT  COLON  DOM
		data  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
		data  EQUAL  data[]] DOM
		return data DOM
	def train_data PARELEFT  PARERIGHT  COLON  DOM
		tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
		tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
		X  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
		X  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
		Y  EQUAL  pd DOT get_dummies PARELEFT  PARERIGHT  DOT values DOM
		X_train COMMA  X_test COMMA  Y_train COMMA  Y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
		return X_train COMMA  X_test COMMA  Y_train COMMA  Y_test COMMA X COMMA Y DOM
	def build_model PARELEFT  PARERIGHT  COLON  DOM
		embed_dim  EQUAL  128 DOM
		lstm_out  EQUAL  192 DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT compile PARELEFT loss  EQUAL   QUOTMARK  COMMA  optimizer EQUAL Adam PARELEFT  PARERIGHT  COMMA metrics  EQUAL  [] PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		return model DOM
	def start_train PARELEFT  PARERIGHT  COLON  DOM
		batch_size  EQUAL  32 DOM
		X_train COMMA  X_test COMMA  Y_train COMMA  Y_test COMMA  X COMMA  Y  EQUAL  self DOT train_data PARELEFT  PARERIGHT  DOM
		model  EQUAL  self DOT build_model PARELEFT  PARERIGHT  DOM
		model DOT fit PARELEFT  PARERIGHT  DOM
		self DOT save PARELEFT  PARERIGHT  DOM
	def save PARELEFT  PARERIGHT  COLON  DOM
		model_json  EQUAL  model DOT to_json PARELEFT  PARERIGHT  DOM
		with open PARELEFT  PARERIGHT  as json_file COLON  DOM
			json_file DOT write PARELEFT  PARERIGHT  DOM
		model DOT save_weights PARELEFT  PARERIGHT  DOM
		print PARELEFT  PARERIGHT  DOM
model  EQUAL  modeler PARELEFT  PARERIGHT  DOM
model DOT start_train PARELEFT  PARERIGHT from keras DOT layers import Embedding COMMA  LSTM COMMA  TimeDistributed COMMA  Dense COMMA  Dropout DOM
from keras DOT layers DOT wrappers import Bidirectional DOM
from keras DOT optimizers import Adam DOM
import constant DOM
class Model PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  modelfrom keras DOT models import Sequential DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
import keras DOT preprocessing DOT sequence as S DOM
from keras DOT utils import to_categorical DOM
from keras DOT layers import Embedding COMMA  Bidirectional COMMA  LSTM COMMA  Dropout COMMA  Dense DOM
import jieba DOM
import json DOM
import numpy as np DOM
vocab_size  EQUAL  350000 DOM
sentence_max_len  EQUAL  100 DOM
model_path  EQUAL   QUOTMARK  DOM
class SentimentLSTM COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
        self DOT stop_words  EQUAL  [] DOM
        self DOT model  EQUAL  None DOM
    def load_stop_word PARELEFT  PARERIGHT  COLON  DOM
        with open PARELEFT  PARERIGHT  as f COLON  DOM
            for line in f COLON  DOM
                content  EQUAL  line DOT strip PARELEFT  PARERIGHT  DOM
                self DOT stop_words DOT append PARELEFT content DOT decode PARELEFT  PARERIGHT  PARERIGHT  DOM
    def jieba_cut PARELEFT  PARERIGHT  COLON  DOM
        lcut  EQUAL  jieba DOT lcut PARELEFT  PARERIGHT  DOM
        cut  EQUAL  [] DOM
        cut  EQUAL   QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
        return cut DOM
    def load_cuted_corpus PARELEFT  PARERIGHT  COLON  DOM
        f  EQUAL  open PARELEFT  PARERIGHT  DOM
        lines  EQUAL  f DOT readlines PARELEFT  PARERIGHT  DOM
        texts  EQUAL  [] DOM
        labels  EQUAL  [] DOM
        for line in lines COLON  DOM
            fields  EQUAL  line DOT split PARELEFT  PARERIGHT  DOM
            rate  EQUAL  int PARELEFT  PARERIGHT  DOM
            if rate EQUAL  EQUAL 0 or rate EQUAL  EQUAL 3 COLON  DOM
                continue DOM
            elif rate < 3 COLON  DOM
                rate  EQUAL  0 DOM
            else COLON  DOM
                rate  EQUAL  1 DOM
            cont  EQUAL  fields[] DOM
            cont  EQUAL   QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
            texts DOT append PARELEFT  PARERIGHT  DOM
            labels DOT append PARELEFT  PARERIGHT  DOM
        self DOT tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
        f DOT close PARELEFT  PARERIGHT  DOM
        return texts COMMA labels DOM
    def load_data PARELEFT  PARERIGHT  COLON  DOM
        x COMMA y  EQUAL  self DOT load_cuted_corpus PARELEFT  PARERIGHT  DOM
        x  EQUAL  self DOT tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
        x  EQUAL  S DOT pad_sequences PARELEFT  PARERIGHT  DOM
        y  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
        return  PARELEFT  PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
    def train PARELEFT  PARERIGHT  COLON  DOM
        print  QUOTMARK  DOM
        self DOT model  EQUAL  SentimentLSTM DOT build_model PARELEFT  PARERIGHT  DOM
        print  QUOTMARK  DOM
         PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  self DOT load_data PARELEFT  PARERIGHT  DOM
        print  QUOTMARK  DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
        self DOT model DOT save PARELEFT  PARERIGHT  DOM
        score  EQUAL  self DOT model DOT evaluate PARELEFT  PARERIGHT  DOM
        print score DOM
    def load_trained_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  SentimentLSTM DOT build_model PARELEFT  PARERIGHT  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
        return model DOM
    def predict_text PARELEFT  PARERIGHT  COLON  DOM
        if self DOT model  EQUAL  EQUAL  None COLON  DOM
            self DOT model  EQUAL  self DOT load_trained_model PARELEFT  PARERIGHT  DOM
            self DOT load_stop_word PARELEFT  PARERIGHT  DOM
            self DOT load_cuted_corpus PARELEFT  PARERIGHT  DOM
        vect  EQUAL  self DOT jieba_cut PARELEFT  PARERIGHT  DOM
        vect  EQUAL  vect DOT encode PARELEFT  PARERIGHT  DOM
        vect  EQUAL  self DOT tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
        print vect DOM
        return self DOT model DOT predict_classes PARELEFT S DOT pad_sequences PARELEFT np DOT array PARELEFT  PARERIGHT  COMMA 100 PARERIGHT  PARERIGHT  DOM
    @staticmethod DOM
    def build_model PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        return model DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    lstm  EQUAL  SentimentLSTM PARELEFT  PARERIGHT  DOM
    lstm DOT train PARELEFT  PARERIGHT  DOM
    while True COLON  DOM
        input  EQUAL  raw_input PARELEFT  PARERIGHT  DOM
        if input  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            break DOM
        print lstm DOT predict_text PARELEFT  PARERIGHT  DOM
if __name__ EQUAL  EQUAL  QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA Flatten COMMA Concatenate COMMA Input DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT layers DOT convolutional import Conv2D DOM
from keras DOT layers DOT pooling import MaxPooling2D DOM
from keras DOT models import Sequential COMMA Model DOM
from keras DOT utils DOT vis_utils import plot_model DOM
def get_lstm PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT units[] COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_gru PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT GRU PARELEFT units[] COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def _get_sae PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_saes PARELEFT  PARERIGHT  COLON  DOM
    sae2  EQUAL  _get_sae PARELEFT  PARERIGHT  DOM
    sae3  EQUAL  _get_sae PARELEFT  PARERIGHT  DOM
    saes  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    saes DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    models  EQUAL  [] DOM
    return models DOM
def get_cnn PARELEFT  PARERIGHT  COLON  DOM
    model EQUAL Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA filters EQUAL unit[] COMMA padding EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  COMMA data_format EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA filters EQUAL unit[] COMMA padding EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA filters EQUAL unit[] COMMA padding EQUAL  QUOTMARK  COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def merge_lstm PARELEFT  PARERIGHT  COLON  DOM
    input_min EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_min EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_min EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_min EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_min EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    input_day EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_day EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_day EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_day EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_day EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    input_week EQUAL Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm_week EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_week EQUAL LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_week EQUAL Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm_week EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    merge EQUAL Concatenate PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    merge EQUAL Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model EQUAL Model PARELEFT  PARERIGHT  DOM
    return model DOM
import os DOM
import numpy as np DOM
import keras DOM
import donkeycar as dk DOM
from donkeycar DOT parts DOT keras import KerasPilot DOM
class KerasRNN_LSTM PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        super PARELEFT  PARERIGHT  DOT __init__ PARELEFT  PARERIGHT  DOM
        self DOT model  EQUAL  rnn_lstm PARELEFT  PARERIGHT  DOM
        self DOT seq_length  EQUAL  seq_length DOM
        self DOT img_seq  EQUAL  [] DOM
    def run PARELEFT  PARERIGHT  COLON  DOM
        while len PARELEFT  PARERIGHT  < self DOT seq_length COLON  DOM
            self DOT img_seq DOT append PARELEFT  PARERIGHT  DOM
        self DOT img_seq  EQUAL  self DOT img_seq[] DOM
        self DOT img_seq DOT append PARELEFT  PARERIGHT  DOM
        img_arr  EQUAL  np DOT array PARELEFT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  DOM
        outputs  EQUAL  self DOT model DOT predict PARELEFT  PARERIGHT  DOM
        steering  EQUAL  outputs[][] DOM
        throttle  EQUAL  outputs[][] DOM
        return steering COMMA  throttle DOM
def rnn_lstm_one PARELEFT seq_length EQUAL 3 COMMA  num_outputs EQUAL 2 COMMA  image_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
    from numpy DOT random import seed DOM
    seed PARELEFT  PARERIGHT  DOM
    from tensorflow import set_random_seed DOM
    set_random_seed PARELEFT  PARERIGHT  DOM
    from keras DOT layers import Input COMMA  Dense DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Convolution2D COMMA  MaxPooling2D COMMA  Reshape COMMA  BatchNormalization COMMA  Merge DOM
    from keras DOT layers import Activation COMMA  Dropout COMMA  Flatten COMMA  Cropping2D COMMA  Lambda DOM
    from keras DOT layers DOT merge import concatenate DOM
    from keras DOT layers import LSTM DOM
    from keras DOT layers DOT wrappers import TimeDistributed as TD DOM
    img_seq_shape  EQUAL   PARELEFT  PARERIGHT  + image_shape    DOM
    img_in  EQUAL  Input PARELEFT  PARERIGHT  DOM
    x  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Convolution2D PARELEFT 24 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Convolution2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Convolution2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Convolution2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT x DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return x DOM
def rnn_lstm PARELEFT seq_length EQUAL 3 COMMA  num_outputs EQUAL 2 COMMA  image_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
    from keras DOT layers import Input COMMA  Dense DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Convolution2D COMMA  MaxPooling2D COMMA  Reshape COMMA  BatchNormalization COMMA  Merge DOM
    from keras DOT layers import Activation COMMA  Dropout COMMA  Flatten COMMA  Cropping2D COMMA  Lambda DOM
    from keras DOT layers DOT merge import concatenate DOM
    from keras DOT layers import LSTM DOM
    from keras DOT layers DOT wrappers import TimeDistributed as TD DOM
    img_seq_shape  EQUAL   PARELEFT  PARERIGHT  + image_shape    DOM
    img_in  EQUAL  Input PARELEFT  PARERIGHT  DOM
    x  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Convolution2D PARELEFT 24 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Convolution2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Convolution2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Convolution2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT TD PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    x DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT x DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    return x DOM
from keras import backend as K DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Conv1D COMMA  MaxPooling1D COMMA  Dropout COMMA  CuDNNLSTM COMMA  SimpleRNN DOM
from keras DOT layers DOT embeddings import Embedding DOM
import numpy as np DOM
import pandas as pd DOM
import os DOM
os DOT environ[]  EQUAL   QUOTMARK  DOM
os DOT environ[]  EQUAL   QUOTMARK  DOM
os DOT environ[]  EQUAL   QUOTMARK  DOM
os DOT environ[]  EQUAL   QUOTMARK  DOM
file  EQUAL   QUOTMARK  DOM
df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
df  EQUAL  df DOT dropna PARELEFT  PARERIGHT  DOM
df  EQUAL  df[] DOM
df  EQUAL  df[] DOM
df DOT head PARELEFT  PARERIGHT  DOM
df DOT groupby PARELEFT  PARERIGHT  DOT count PARELEFT  PARERIGHT  DOM
labels  EQUAL  df[] DOT map PARELEFT lambda x COLON  1 if int PARELEFT  PARERIGHT  > 3 else 0 PARERIGHT  DOM
K DOT set_session PARELEFT K DOT tf DOT Session PARELEFT config EQUAL K DOT tf DOT ConfigProto PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
vocabulary_size  EQUAL  1000 DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
data  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model_rnn  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_rnn DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model_rnn DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
model_rnn DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_rnn DOT compile PARELEFT  PARERIGHT  DOM
model_rnn DOT fit PARELEFT data COMMA  np DOT array PARELEFT  PARERIGHT  COMMA  validation_split EQUAL 0 DOT 4 COMMA  epochs EQUAL 2 PARERIGHT  DOM
model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model_lstm DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_lstm DOT compile PARELEFT  PARERIGHT  DOM
model_lstm DOT fit PARELEFT data COMMA  np DOT array PARELEFT  PARERIGHT  COMMA  validation_split EQUAL 0 DOT 4 COMMA  epochs EQUAL 2 PARERIGHT  DOM
def create_conv_model PARELEFT  PARERIGHT  COLON  DOM
    model_conv  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_conv DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_conv DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_conv DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_conv DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_conv DOT add PARELEFT CuDNNLSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_conv DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_conv DOT compile PARELEFT  PARERIGHT  DOM
    return model_conv DOM
model_conv  EQUAL  create_conv_model PARELEFT  PARERIGHT  DOM
model_conv DOT fit PARELEFT data COMMA  np DOT array PARELEFT  PARERIGHT  COMMA  validation_split EQUAL 0 DOT 4 COMMA  epochs  EQUAL  2 PARERIGHT from keras DOT layers import Dense COMMA  LSTM COMMA  Activation COMMA  BatchNormalization COMMA  Dropout COMMA  initializers COMMA  Input DOM
from keras DOT models import Sequential DOM
from keras DOT optimizers import SGD COMMA  RMSprop DOM
from keras DOT models import load_model DOM
from keras DOT initializers import Constant DOM
import keras DOT backend as K DOM
from keras DOT utils DOT generic_utils import get_custom_objects DOM
from keras DOT backend DOT tensorflow_backend import _to_tensor DOM
    return K DOT relu PARELEFT  PARERIGHT  DOM
get_custom_objects PARELEFT  PARERIGHT  DOT update PARELEFT { QUOTMARK  COLON  Activation PARELEFT  PARERIGHT } PARERIGHT  DOM
    return -100 DOT  * K DOT mean PARELEFT  PARELEFT  PARERIGHT  * y_pred PARERIGHT  DOM
class WindPuller PARELEFT  PARERIGHT  COLON  DOM
        print PARELEFT  QUOTMARK  % PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dropout PARELEFT rate EQUAL rate_dropout COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT 1 COMMA  kernel_initializer EQUAL initializers DOT glorot_uniform PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
    def fit PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT fit PARELEFT  PARERIGHT  DOM
    def save PARELEFT  PARERIGHT  COLON  DOM
        self DOT model DOT save PARELEFT  PARERIGHT  DOM
    def load_model PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        return self DOM
    def evaluate PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT evaluate PARELEFT  PARERIGHT  DOM
    def predict PARELEFT  PARERIGHT  COLON  DOM
        return self DOT model DOT predict PARELEFT  PARERIGHT  DOM
import numpy as np  DOM
import pandas as pd DOM
from nltk DOT corpus import stopwords DOM
from nltk import word_tokenize COMMA  ngrams DOM
from keras DOT preprocessing import text DOM
from sklearn DOT model_selection import train_test_split DOM
train_df  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOT fillna PARELEFT  PARERIGHT  DOM
train_df DOT head PARELEFT  PARERIGHT  DOM
X  EQUAL  train_df[]] DOM
y  EQUAL  train_df[] DOM
X_train  EQUAL  X DOT copy PARELEFT  PARERIGHT  DOM
q1s  EQUAL  list PARELEFT X_train[] DOT apply PARELEFT lambda x COLON  x DOT encode PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT   DOM
q2s  EQUAL  list PARELEFT X_train[] DOT apply PARELEFT lambda x COLON  x DOT encode PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
all_questions  EQUAL  q1s + q2s DOM
tok  EQUAL  text DOT Tokenizer PARELEFT  PARERIGHT  DOM
tok DOT fit_on_texts PARELEFT  PARERIGHT  DOM
q1s_tok  EQUAL  tok DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
q2s_tok  EQUAL  tok DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
q1s_tok[] DOM
maxlen  EQUAL  max PARELEFT [] PARERIGHT  DOM
maxlen DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Activation COMMA  Embedding DOM
from keras DOT layers import LSTM DOM
from keras DOT datasets import imdb DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT engine DOT topology import Merge DOM
from keras import backend as K DOM
def log_loss PARELEFT  PARERIGHT  COLON  DOM
	first_log  EQUAL  K DOT log PARELEFT K DOT clip PARELEFT y_pred COMMA  K DOT epsilon PARELEFT  PARERIGHT  COMMA  None PARERIGHT  PARERIGHT  DOM
	second_log  EQUAL  K DOT log PARELEFT K DOT clip PARELEFT 1 DOT -y_pred COMMA  K DOT epsilon PARELEFT  PARERIGHT  COMMA  None PARERIGHT  PARERIGHT  DOM
	return K DOT mean PARELEFT -y_true * first_log -  PARELEFT  PARERIGHT  * second_log PARERIGHT  DOM
yt  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
yp  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
q1s_tok  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
q2s_tok  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
model1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model1 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model2 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
merged_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
merged_model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
merged_model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
merged_model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
merged_model DOT compile PARELEFT  PARERIGHT  DOM
merged_model DOT fit PARELEFT  PARERIGHT  DOM
merged_model DOT save PARELEFT  PARERIGHT from __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
from __future__ import unicode_literals DOM
import logging DOM
from rasa_core DOT policies DOT keras_policy import KerasPolicy DOM
logger  EQUAL  logging DOT getLogger PARELEFT  PARERIGHT  DOM
class RestaurantPolicy PARELEFT  PARERIGHT  COLON  DOM
    def model_architecture PARELEFT  PARERIGHT  COLON  DOM
        from keras DOT layers import LSTM COMMA  Activation COMMA  Masking COMMA  Dense DOM
        from keras DOT models import Sequential DOM
        from keras DOT models import Sequential DOM
        from keras DOT layers import \ DOM
            Masking COMMA  LSTM COMMA  Dense COMMA  TimeDistributed COMMA  Activation DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        elif len PARELEFT  PARERIGHT   EQUAL  EQUAL  2 COLON  DOM
            model DOT add PARELEFT Masking PARELEFT mask_value EQUAL -1 COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
            model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            raise ValueError PARELEFT  QUOTMARK th of output_shape  EQUAL  {}  QUOTMARK  QUOTMARK  DOT format PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
        logger DOT debug PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
        return model DOM
from rasa_core DOT policies DOT fallback import FallbackPolicy DOM
fallback  EQUAL  FallbackPolicy PARELEFT fallback_action_name EQUAL  QUOTMARK  COMMA core_threshold EQUAL 0 DOT 3 COMMA nlu_threshold EQUAL 0 DOT 3 DOM
import common DOM
import matplotlib DOT pyplot as plt DOM
import numpy as np DOM
import pandas as pd DOM
from keras import optimizers DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import BatchNormalization DOM
from keras DOT layers DOT core import Dense DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
from scipy DOT ndimage DOT interpolation import shift DOM
from sklearn import preprocessing DOM
def getModel PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential  PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 1000  COMMA  activation  EQUAL   QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense  PARELEFT  PARERIGHT  PARERIGHT  DOM
    rmsprop  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile  PARELEFT  PARERIGHT  DOM
    return model  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    file  EQUAL  common DOT readData PARELEFT  PARERIGHT  DOM
    scaler  EQUAL  preprocessing DOT MinMaxScaler PARELEFT feature_range EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    data  EQUAL  common DOT preprocessData PARELEFT  PARERIGHT  DOM
    train_data COMMA  test_data  EQUAL  common DOT splitData PARELEFT  PARERIGHT  DOM
    common DOT plotTestAndTrain PARELEFT  PARERIGHT  DOM
    x_train COMMA  y_train COMMA  x_test COMMA  y_test  EQUAL  common DOT prepareForTraining PARELEFT  PARERIGHT  DOM
    model  EQUAL  getModel PARELEFT  PARERIGHT  DOM
    common DOT train PARELEFT  PARERIGHT  DOM
    common DOT test PARELEFT  PARERIGHT  DOM
    common DOT predict PARELEFT  PARERIGHT  DOM
    import numpy as np DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
import keras DOM
def window_transform_series PARELEFT  PARERIGHT  COLON  DOM
    X  EQUAL  [] DOM
    y  EQUAL  [] DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT -window_size PARERIGHT  COLON  DOM
        X DOT append PARELEFT  PARERIGHT  DOM
        y DOT append PARELEFT  PARERIGHT  DOM
    X  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
    X DOT shape  EQUAL   PARELEFT np DOT shape PARELEFT  PARERIGHT [] PARERIGHT  DOM
    y  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
    y DOT shape  EQUAL   PARELEFT len PARELEFT  PARERIGHT  COMMA 1 PARERIGHT  DOM
    return X COMMA y DOM
def build_part1_RNN PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense DOM
    from keras DOT layers import LSTM DOM
    import keras DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 5 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def cleaned_text PARELEFT  PARERIGHT  COLON  DOM
    import string DOM
    punctuation  EQUAL  [] DOM
    alphabet  EQUAL  list PARELEFT  PARERIGHT  DOM
    empty  EQUAL  [] DOM
    meaningful_chars  EQUAL  alphabet + punctuation + empty DOM
    meanless_list  EQUAL  list PARELEFT set PARELEFT  PARERIGHT  - set PARELEFT  PARERIGHT  PARERIGHT  DOM
    for meanless_char in meanless_list COLON  DOM
        text  EQUAL  text DOT replace PARELEFT  PARERIGHT  DOM
    return text DOM
def window_transform_text PARELEFT  PARERIGHT  COLON  DOM
    inputs  EQUAL  [] DOM
    outputs  EQUAL  [] DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT -window_size PARERIGHT  COLON  DOM
        inputs DOT append PARELEFT  PARERIGHT  DOM
        outputs DOT append PARELEFT  PARERIGHT  DOM
    return inputs COMMA outputs DOM
def build_part2_RNN PARELEFT  PARERIGHT  COLON  DOM
    from keras DOT models import Sequential DOM
    from keras DOT layers import Dense COMMA  Activation DOM
    from keras DOT layers import LSTM DOM
    import keras DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 200 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    return modelfrom keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT callbacks import Callback DOM
class LossHistory PARELEFT  PARERIGHT  COLON  DOM
    def on_train_begin PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses  EQUAL  [] DOM
    def on_batch_end PARELEFT  PARERIGHT  COLON  DOM
        self DOT losses DOT append PARELEFT logs DOT get PARELEFT  PARERIGHT  PARERIGHT  DOM
def neural_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT rams[] COMMA  init EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    rms  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    if load COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    return model DOM
def lstm_net PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport pandas as pd DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT models import Input DOM
from keras DOT models import Model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Merge DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT models import model_from_json DOM
from keras DOT callbacks import ModelCheckpoint DOM
from MyModule import data DOM
from MyModule import evaluate DOM
import os DOM
def build_lstm_models PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA output_dim EQUAL lstm_config[][] COMMA ctivation EQUAL lstm_config[] COMMA  recurrent_activation EQUAL lstm_config[] COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    for i in range PARELEFT 1 COMMA  len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def add_multi_dense PARELEFT  PARERIGHT  COLON  DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    if os DOT path DOT exists PARELEFT  PARERIGHT  COLON  DOM
        json_string  EQUAL  open PARELEFT  PARERIGHT  DOT read PARELEFT  PARERIGHT  DOM
        model  EQUAL  model_from_json PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        lstm_models  EQUAL  [] DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            lstm_models DOT append PARELEFT build_lstm_models PARELEFT  PARERIGHT  PARERIGHT  DOM
        sum_lstm_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        sum_lstm_model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        sum_lstm_model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        sum_lstm_model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        date_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        date_model DOT add PARELEFT ense PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  COMMA nits EQUAL dense_config[][] COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
        model  EQUAL  add_multi_dense PARELEFT  PARERIGHT  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
        open PARELEFT  PARERIGHT  DOT write PARELEFT model DOT to_json PARELEFT  PARERIGHT  PARERIGHT  DOM
    if os DOT path DOT exists PARELEFT  PARERIGHT  COLON  DOM
        model DOT load_weights PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def train PARELEFT  PARERIGHT  COLON  DOM
    df_date  EQUAL  df_raw DOT pop PARELEFT  PARERIGHT  DOM
    df_date  EQUAL  pd DOT concat PARELEFT [] COMMA  axis EQUAL 1 PARERIGHT  DOM
    df_date  EQUAL  pd DOT concat PARELEFT [] COMMA  axis EQUAL 1 PARERIGHT  DOM
    df_date  EQUAL  df_date DOT loc[] DOM
    df_raw  EQUAL  data DOT process_sequence_features PARELEFT  PARERIGHT  DOM
    df_date_encode  EQUAL  data DOT encoding_features PARELEFT  PARERIGHT  DOM
    y_scaled COMMA  y_scaler  EQUAL  data DOT min_max_scale PARELEFT np DOT array PARELEFT df_raw DOT pop PARELEFT  PARERIGHT  PARERIGHT  DOT reshape PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_scaled COMMA  X_scaler  EQUAL  data DOT min_max_scale PARELEFT  PARERIGHT  DOM
    date_encode  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
    train_y  EQUAL  y_scaled[] DOM
    test_y  EQUAL  y_scaled[] DOM
    train_y  EQUAL  train_y DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    test_y  EQUAL  test_y DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    X_scaled  EQUAL  X_scaled DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    date_encode  EQUAL  date_encode DOT reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    train_X  EQUAL  [] DOM
    test_X  EQUAL  [] DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        train_X DOT append PARELEFT X_scaled[] PARERIGHT  DOM
        test_X DOT append PARELEFT X_scaled[] PARERIGHT  DOM
    train_X DOT append PARELEFT date_encode[] PARERIGHT  DOM
    test_X DOT append PARELEFT date_encode[] PARERIGHT  DOM
    model  EQUAL  build_model PARELEFT  PARERIGHT  DOM
    checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
    callbacks_list  EQUAL  [] DOM
    history  EQUAL  model DOT fit PARELEFT train_X COMMA  train_y COMMA  epochs EQUAL epochs COMMA  batch_size EQUAL batch_size COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA rbose EQUAL 1 COMMA  callbacks EQUAL callbacks_list COMMA  shuffle EQUAL False PARERIGHT  DOM
    plt DOT figure PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    plt DOT plot PARELEFT  PARERIGHT  DOM
    pred_y  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
    test_y  EQUAL  data DOT inverse_to_original_data PARELEFT train_y DOT reshape PARELEFT  PARERIGHT  COMMA  test_y DOT reshape PARELEFT  PARERIGHT  COMMA  scaler EQUAL y_scaler COMMA n_num EQUAL int PARELEFT len PARELEFT  PARERIGHT  *  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    pred_y  EQUAL  data DOT inverse_to_original_data PARELEFT train_y DOT reshape PARELEFT  PARERIGHT  COMMA  pred_y DOT reshape PARELEFT  PARERIGHT  COMMA  scaler EQUAL y_scaler COMMA n_num EQUAL int PARELEFT len PARELEFT  PARERIGHT  *  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return test_y COMMA  pred_y DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pd DOT set_option PARELEFT  PARERIGHT  DOM
    cols  EQUAL  [] DOM
    df_raw_data  EQUAL  pd DOT read_csv PARELEFT  PARERIGHT  DOM
    epoch  EQUAL  1000 DOM
    batch  EQUAL  1024 DOM
    time_step  EQUAL  4 DOM
    test_split  EQUAL  0 DOT 4 DOM
    model_path  EQUAL   QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  DOM
    weight_path  EQUAL   QUOTMARK  + str PARELEFT  PARERIGHT  +  QUOTMARK  DOM
    lstm_num  EQUAL  6 DOM
    lstm_layers  EQUAL  [] DOM
    lstm_activation  EQUAL   QUOTMARK  DOM
    lstm_recurrent_activation  EQUAL   QUOTMARK  DOM
    lstm_input_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    lstm_dropout  EQUAL  0 DOT 3 DOM
    dense_layers  EQUAL  [] DOM
    dense_activation  EQUAL   QUOTMARK  DOM
    date_features_shape  EQUAL   PARELEFT  PARERIGHT  DOM
    dense_dropout  EQUAL  0 DOT 5 DOM
    lstm_conf  EQUAL  { DOM
         QUOTMARK  COLON  lstm_num COMMA  DOM
         QUOTMARK  COLON  lstm_input_shape COMMA  DOM
         QUOTMARK  COLON  lstm_layers COMMA  DOM
         QUOTMARK  COLON  lstm_activation COMMA  DOM
         QUOTMARK  COLON  lstm_recurrent_activation COMMA  DOM
         QUOTMARK  COLON  lstm_dropout DOM
    } DOM
    dense_conf  EQUAL  { DOM
         QUOTMARK  COLON  date_features_shape COMMA  DOM
         QUOTMARK  COLON  dense_layers COMMA  DOM
         QUOTMARK  COLON  dense_activation COMMA  DOM
         QUOTMARK  COLON  dense_dropout DOM
    } DOM
    y_true COMMA  y_pred  EQUAL  train PARELEFT  PARERIGHT  DOM
    metrics  EQUAL  evaluate DOT print_metrics PARELEFT  PARERIGHT  DOM
    evaluate DOT print_curve PARELEFT  PARERIGHT from keras DOT preprocessing DOT image import ImageDataGenerator DOM
from keras DOT models import Sequential COMMA Model DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D COMMA  Reshape DOM
from keras DOT layers import Activation COMMA  Dropout COMMA  Flatten COMMA  Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT applications DOT vgg16 import VGG16 DOM
class ModelBuilder COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        pass DOM
    @staticmethod DOM
    def build_custom PARELEFT  PARERIGHT  COLON  DOM
        model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  input_shape EQUAL input_shape COMMA  padding  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 32 COMMA   PARELEFT  PARERIGHT  COMMA  padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Conv2D PARELEFT 1 COMMA   PARELEFT  PARERIGHT  COMMA padding EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT MaxPooling2D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT summary PARELEFT  PARERIGHT  DOM
        return model DOM
    @staticmethod DOM
    def build_vgg16 PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT   PARERIGHT  COLON  DOM
        vgg  EQUAL  VGG16 PARELEFT  PARERIGHT  DOM
        lstm_input  EQUAL  Reshape PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        lstm_output  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        model_output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        modified_vgg_model  EQUAL  Model PARELEFT  PARERIGHT   DOM
        vgg DOT summary PARELEFT  PARERIGHT  DOM
        return modified_vgg_model DOM
import tensorflow as tf DOM
from tensorflow DOT keras DOT models import Sequential DOM
from tensorflow DOT keras DOT layers import Dense COMMA  Dropout COMMA  LSTM DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
	mnist  EQUAL  tf DOT keras DOT datasets DOT mnist DOM
	 PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  mnist DOT load_data PARELEFT  PARERIGHT  DOM
	x_train  EQUAL  x_train/255 DOT 0 DOM
	x_test  EQUAL  x_test/255 DOT 0 DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT 128 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA 		activation  EQUAL   QUOTMARK  COMMA 		return_sequences  EQUAL  True PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  tf DOT keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	model DOT fit PARELEFT x_train COMMA  y_train COMMA epochs  EQUAL  3 COMMA alidation_data  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  DOM
from __future__ import print_function DOM
import os DOM
from keras DOT models import Sequential DOM
from keras DOT models import load_model DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Activation DOM
from keras DOT layers import LSTM DOM
from getdata import GetData DOM
from logger import Logger DOM
log  EQUAL  Logger PARELEFT  PARERIGHT  DOM
class Model PARELEFT  PARERIGHT  COLON  DOM
    gd DOT get_dataset PARELEFT  PARERIGHT  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT maxlen  EQUAL  self DOT gd DOT preprocess DOT __defaults__[] DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    def lstm_ PARELEFT  PARERIGHT  COLON  DOM
            log DOT info PARELEFT  PARERIGHT  DOM
            os DOT mkdir PARELEFT  PARERIGHT  DOM
            log DOT info PARELEFT  PARERIGHT  DOM
        if os DOT path DOT exists PARELEFT  PARERIGHT  COLON  DOM
            if os DOT path DOT exists PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
                log DOT info PARELEFT  PARERIGHT  DOM
                self DOT model  EQUAL  load_model PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
                self DOT model DOT summary PARELEFT  PARERIGHT  DOM
                return self DOT model DOM
            else COLON  DOM
                log DOT info PARELEFT  PARERIGHT  DOM
import numpy as np DOM
import pandas as pd DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import Dropout DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from sklearn DOT model_selection import train_test_split DOM
from keras DOT utils import to_categorical DOM
from sklearn DOT model_selection import GridSearchCV DOM
from keras DOT wrappers DOT scikit_learn import KerasClassifier DOM
def _clstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    if not embedding_length COLON  DOM
        model DOT pop PARELEFT  PARERIGHT  DOM
        model DOT pop PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT filters EQUAL cnn_filters COMMA  kernel_size EQUAL filter_length COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if not categorical COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def _lstm PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if not embedding_length COLON  DOM
        model DOT pop PARELEFT  PARERIGHT  DOM
        model DOT pop PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT LSTM PARELEFT nodes COMMA  dropout EQUAL dropout COMMA recurrent_dropout EQUAL lstm_drop COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    if not categorical COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def _cnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    if not embedding_length COLON  DOM
        model DOT pop PARELEFT  PARERIGHT  DOM
        model DOT pop PARELEFT  PARERIGHT  DOM
        model DOT add PARELEFT Conv1D PARELEFT filters EQUAL cnn_filters COMMA  kernel_size EQUAL filter_length COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    if not categorical COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    else COLON  DOM
        model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def train_model PARELEFT  PARERIGHT  COLON  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    if test_fraction COLON  DOM
        x COMMA  x_test COMMA  y COMMA  y_test  EQUAL  train_test_split PARELEFT  PARERIGHT  DOM
    kwargs[]  EQUAL  int PARELEFT x DOT max PARELEFT  PARERIGHT  + 1 PARERIGHT  DOM
    if skip_embedding COLON  DOM
        kwargs[]  EQUAL  False DOM
        x  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
        if test_fraction COLON  DOM
            x_test  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    kwargs[]  EQUAL  int PARELEFT  PARERIGHT  DOM
    if not np DOT isscalar PARELEFT  PARERIGHT  COLON  DOM
        kwargs[]  EQUAL  y DOT shape[] DOM
    if architecture  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  _clstm PARELEFT  PARERIGHT  DOM
    elif architecture  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  _lstm PARELEFT  PARERIGHT  DOM
    elif architecture  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  _cnn PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    fit_args  EQUAL  { DOM
         QUOTMARK  COLON  epochs COMMA  DOM
         QUOTMARK  COLON  batch_size COMMA  DOM
         QUOTMARK  COLON  verbose DOM
    } DOM
    if test_fraction COLON  DOM
        fit_args[]  EQUAL   PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    if test_fraction COLON  DOM
        scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
        print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    if save_file COLON  DOM
        model DOT save PARELEFT  PARERIGHT  DOM
    return model DOM
def cross_validate PARELEFT  PARERIGHT  COLON  DOM
    np DOT random DOT seed PARELEFT  PARERIGHT  DOM
    params[]  EQUAL  [] DOM
    if skip_embedding COLON  DOM
        params[]  EQUAL  [] DOM
        x  EQUAL  to_categorical PARELEFT  PARERIGHT  DOM
    params[]  EQUAL  [] DOM
    if not np DOT isscalar PARELEFT  PARERIGHT  COLON  DOM
        params[]  EQUAL  []] DOM
    if architecture  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  KerasClassifier PARELEFT  PARERIGHT  DOM
    if architecture  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  KerasClassifier PARELEFT  PARERIGHT  DOM
    if architecture  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        model  EQUAL  KerasClassifier PARELEFT  PARERIGHT  DOM
    grid_result  EQUAL  grid DOT fit PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    if save_file COLON  DOM
        grid_df  EQUAL  pd DOT DataFrame PARELEFT  PARERIGHT  DOM
        grid_df[]  EQUAL  grid_result DOT cv_results_[] DOM
        grid_df[]  EQUAL  grid_result DOT cv_results_[] DOM
        grid_df DOT to_csv PARELEFT  PARERIGHT  DOM
    returnimport keras DOM
import Data DOM
def Model1 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT input_shape*5 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def Model2 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT 		1 COMMA  		input_shape EQUAL  PARELEFT  PARERIGHT  COMMA 			recurrent_dropout EQUAL 0 DOT 2 COMMA 			dropout EQUAL 0 DOT 2 COMMA 			return_sequences EQUAL True			 PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
def Model3 PARELEFT  PARERIGHT  COLON  DOM
	model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
	LSTM_num  EQUAL  5 DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT 		LSTM_num COMMA  		input_shape EQUAL  PARELEFT  PARERIGHT  COMMA 			recurrent_dropout EQUAL 0 DOT 2 COMMA 			dropout EQUAL 0 DOT 2 COMMA 			return_sequences EQUAL True			 PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT 		keras DOT layers DOT LSTM PARELEFT  PARERIGHT 		 PARERIGHT  DOM
	model DOT add PARELEFT keras DOT layers DOT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	return model DOM
import os DOM
import numpy as np DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT utils DOT np_utils import to_categorical DOM
from keras DOT layers import Dense COMMA  Input COMMA  Flatten COMMA  Dropout COMMA  Activation COMMA Masking COMMA Merge COMMA Lambda DOM
from keras DOT layers import Conv1D COMMA  MaxPooling1D COMMA  Embedding COMMA TimeDistributed COMMA AveragePooling1D DOM
from keras DOT models import Model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU COMMA Bidirectional DOM
from keras DOT callbacks import EarlyStopping DOM
import keras DOT backend as K DOM
from keras DOT utils import np_utils DOM
import get_data DOM
import sys DOM
MAX_LEN  EQUAL  79 DOM
WORD_DIM  EQUAL  50 DOM
def train_eoe_model_of_lstm PARELEFT  PARERIGHT  COLON  DOM
    train_X COMMA train_Y COMMA test_X COMMA test_Y  EQUAL  get_data DOT return_eoa_data PARELEFT  PARERIGHT  DOM
    print train_X DOT shape COMMA train_Y DOT shape COMMA test_X DOT shape COMMA test_Y DOT shape DOM
    mymodel  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    mymodel DOT add PARELEFT LSTM PARELEFT 100 COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT summary PARELEFT  PARERIGHT  DOM
    mymodel DOT compile PARELEFT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    mymodel DOT fit PARELEFT  PARERIGHT  DOM
    mymodel DOT save PARELEFT  PARERIGHT  DOM
def train_eoe_model_of_GRU PARELEFT  PARERIGHT  COLON  DOM
    train_X COMMA  train_Y COMMA  test_X COMMA  test_Y  EQUAL  get_data DOT return_eoa_data PARELEFT  PARERIGHT  DOM
    print train_X DOT shape COMMA  train_Y DOT shape COMMA  test_X DOT shape COMMA  test_Y DOT shape DOM
    mymodel  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    mymodel DOT add PARELEFT GRU PARELEFT 100 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  return_sequences EQUAL True PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT summary PARELEFT  PARERIGHT  DOM
    mymodel DOT compile PARELEFT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    mymodel DOT fit PARELEFT  PARERIGHT  DOM
    mymodel DOT save PARELEFT  PARERIGHT  DOM
def train_eoe_model_of_Blstm PARELEFT  PARERIGHT  COLON  DOM
    train_X COMMA  train_Y COMMA  test_X COMMA  test_Y  EQUAL  get_data DOT return_eoa_data PARELEFT  PARERIGHT  DOM
    print train_X DOT shape COMMA  train_Y DOT shape COMMA  test_X DOT shape COMMA  test_Y DOT shape DOM
    mymodel  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    mymodel DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    mymodel DOT summary PARELEFT  PARERIGHT  DOM
    mymodel DOT compile PARELEFT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    mymodel DOT fit PARELEFT  PARERIGHT  DOM
    mymodel DOT save PARELEFT  PARERIGHT  DOM
def train_eosc_model_of_lstm PARELEFT  PARERIGHT  COLON  DOM
    train_X_F COMMA  train_X_B COMMA  train_Y COMMA  test_X_F COMMA  test_X_B COMMA  test_Y  EQUAL  get_data DOT get_eosc_data PARELEFT  PARERIGHT  DOM
    encoder_a  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    encoder_a DOT add PARELEFT Masking PARELEFT mask_value EQUAL 0 DOT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    encoder_a DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    encoder_a DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    encoder_b  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    encoder_b DOT add PARELEFT Masking PARELEFT mask_value EQUAL 0 DOT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    encoder_b DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    encoder_b DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    decoder DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder DOT compile PARELEFT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    decoder DOT fit PARELEFT  PARERIGHT  DOM
    decoder DOT save PARELEFT  PARERIGHT  DOM
def train_eosc_model_of_Blstm PARELEFT  PARERIGHT  COLON  DOM
    train_X_F COMMA  train_X_B COMMA  train_Y COMMA  test_X_F COMMA  test_X_B COMMA  test_Y  EQUAL  get_data DOT get_eosc_data PARELEFT  PARERIGHT  DOM
    encoder_a  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    encoder_a DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    encoder_a DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    encoder_a DOT add PARELEFT Lambda PARELEFT lambda x COLON K DOT mean PARELEFT  PARERIGHT  COMMA output_shape EQUAL lambda x COLON  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    encoder_b  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    encoder_b DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    encoder_b DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    encoder_b DOT add PARELEFT Lambda PARELEFT lambda x COLON K DOT mean PARELEFT  PARERIGHT  COMMA output_shape EQUAL lambda x COLON  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    decoder  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    decoder DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder DOT compile PARELEFT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    decoder DOT fit PARELEFT  PARERIGHT  DOM
    decoder DOT save PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    train_eosc_model_of_Blstm PARELEFT  PARERIGHT import pickle DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT optimizers import RMSprop DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import GRU DOM
xtrain COMMA  xtest COMMA  ytrain COMMA  ytest  EQUAL  pickle DOT load PARELEFT open PARELEFT  PARERIGHT  PARERIGHT  DOM
def lstm_modelization PARELEFT  PARERIGHT  COLON  DOM
    num_words  EQUAL  10000 DOM
    max_review_length  EQUAL  500 DOM
    embedding_vecor_length  EQUAL  32 DOM
    opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def gru_modelization PARELEFT  PARERIGHT  COLON  DOM
    num_words  EQUAL  10000 DOM
    max_review_length  EQUAL  500 DOM
    embedding_vecor_length  EQUAL  32 DOM
    opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def lstm_and_cnn_modelization PARELEFT  PARERIGHT  COLON  DOM
    num_words  EQUAL  10000 DOM
    max_review_length  EQUAL  500 DOM
    embedding_vecor_length  EQUAL  32 DOM
    opt  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    scores  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
    print PARELEFT  QUOTMARK  %  PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
lstm_model  EQUAL  lstm_modelization PARELEFT  PARERIGHT  DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT import os DOM
global_model_version  EQUAL  68 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_11  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_11 DOT add PARELEFT  PARERIGHT  DOM
	branch_11 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 11 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_11 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_11 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_11 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_11 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_11 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_13  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_13 DOT add PARELEFT  PARERIGHT  DOM
	branch_13 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 13 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_13 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_13 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_13 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_13 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_13 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_15  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_15 DOT add PARELEFT  PARERIGHT  DOM
	branch_15 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 15 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_15 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_15 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_15 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_15 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_15 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_17  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_17 DOT add PARELEFT  PARERIGHT  DOM
	branch_17 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 17 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_17 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_17 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_17 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_17 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_17 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_19  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_19 DOT add PARELEFT  PARERIGHT  DOM
	branch_19 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 19 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_19 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_19 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_19 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_19 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_19 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_21  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_21 DOT add PARELEFT  PARERIGHT  DOM
	branch_21 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 21 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_21 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_21 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_21 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_21 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_21 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import numpy as np DOM
import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Activation COMMA  Dense DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dropout DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
    model DOT add PARELEFT LSTM PARELEFT neurons COMMA  return_sequences  EQUAL  True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  activation  EQUAL  activ_func PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    return modelfrom __future__ import absolute_import DOM
from __future__ import division DOM
from __future__ import print_function DOM
import numpy as np DOM
from tensorflow DOT python DOT framework import test_util as tf_test_util DOM
from tensorflow DOT python DOT keras DOT _impl import keras DOM
from tensorflow DOT python DOT keras DOT _impl DOT keras import testing_utils DOM
from tensorflow DOT python DOT platform import test DOM
from tensorflow DOT python DOT training DOT rmsprop import RMSPropOptimizer DOM
class LSTMLayerTest PARELEFT  PARERIGHT  COLON  DOM
  @tf_test_util DOT run_in_graph_and_eager_modes PARELEFT  PARERIGHT  DOM
  def test_return_sequences_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA return_sequences' COLON  True} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_static_shape_inference_LSTM PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    inputs  EQUAL  keras DOT layers DOT Dense PARELEFT embedding_dim COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    outputs  EQUAL  model DOT layers[] DOT output DOM
    self DOT assertEquals PARELEFT outputs DOT get_shape PARELEFT  PARERIGHT  DOT as_list PARELEFT  PARERIGHT  COMMA  [] PARERIGHT  DOM
  @tf_test_util DOT run_in_graph_and_eager_modes PARELEFT  PARERIGHT  DOM
  def test_dynamic_behavior_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer  EQUAL  keras DOT layers DOT LSTM PARELEFT units COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT RMSPropOptimizer PARELEFT  PARERIGHT  COMMA   QUOTMARK  PARERIGHT  DOM
    x  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    y  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  @tf_test_util DOT run_in_graph_and_eager_modes PARELEFT  PARERIGHT  DOM
  def test_dropout_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA dropout QUOTMARK  COLON  0 DOT 1} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  @tf_test_util DOT run_in_graph_and_eager_modes PARELEFT  PARERIGHT  DOM
  def test_implementation_mode_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    for mode in [] COLON  DOM
      testing_utils DOT layer_test PARELEFT keras DOT layers DOT LSTM COMMA wargs EQUAL { QUOTMARK  COLON  units COMMA implementation' COLON  mode} COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
  def test_statefulness_LSTM PARELEFT  PARERIGHT  COLON  DOM
    num_samples  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT keras DOT layers DOT Embedding PARELEFT 4 COMMA embedding_dim COMMA mask_zero EQUAL True COMMA input_length EQUAL timesteps COMMA atch_input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      out1  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT out1 DOT shape COMMA   PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  COMMA  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      out2  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out1 DOT max PARELEFT  PARERIGHT  COMMA  out2 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      out3  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out2 DOT max PARELEFT  PARERIGHT  COMMA  out3 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT reset_states PARELEFT  PARERIGHT  DOM
      out4  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
      out5  EQUAL  model DOT predict PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      self DOT assertNotEqual PARELEFT out4 DOT max PARELEFT  PARERIGHT  COMMA  out5 DOT max PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      left_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      left_padded_input[]  EQUAL  0 DOM
      left_padded_input[]  EQUAL  0 DOM
      out6  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      right_padded_input  EQUAL  np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      right_padded_input[]  EQUAL  0 DOM
      right_padded_input[]  EQUAL  0 DOM
      out7  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT  PARERIGHT  DOM
  def test_regularizers_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA recurrent_regularizer EQUAL keras DOT regularizers DOT l1 PARELEFT  PARERIGHT  COMMA bias_regularizer EQUAL  QUOTMARK  COMMA activity_regularizer EQUAL  QUOTMARK  PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT  PARERIGHT  COMMA  3 PARERIGHT  DOM
      x  EQUAL  keras DOT backend DOT variable PARELEFT np DOT ones PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      layer PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT len PARELEFT layer DOT get_losses_for PARELEFT  PARERIGHT  PARERIGHT  COMMA  1 PARERIGHT  DOM
  def test_constraints_LSTM PARELEFT  PARERIGHT  COLON  DOM
    embedding_dim  EQUAL  4 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      k_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
      r_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
      b_constraint  EQUAL  keras DOT constraints DOT max_norm PARELEFT  PARERIGHT  DOM
      layer  EQUAL  layer_class PARELEFT 5 COMMA return_sequences EQUAL False COMMA weights EQUAL None COMMA nput_shape EQUAL  PARELEFT  PARERIGHT  COMMA kernel_constraint EQUAL k_constraint COMMA recurrent_constraint EQUAL r_constraint COMMA bias_constraint EQUAL b_constraint PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT  PARERIGHT  DOM
      self DOT assertEqual PARELEFT  PARERIGHT  DOM
  def test_with_masking_layer_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      targets  EQUAL  np DOT abs PARELEFT np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      targets / EQUAL  targets DOT sum PARELEFT  PARERIGHT  DOM
      model  EQUAL  keras DOT models DOT Sequential PARELEFT  PARERIGHT  DOM
      model DOT add PARELEFT keras DOT layers DOT Masking PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
      model DOT add PARELEFT layer_class PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      model DOT fit PARELEFT  PARERIGHT  DOM
  def test_from_config_LSTM PARELEFT  PARERIGHT  COLON  DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    for stateful in  PARELEFT  PARERIGHT  COLON  DOM
      l1  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      l2  EQUAL  layer_class DOT from_config PARELEFT l1 DOT get_config PARELEFT  PARERIGHT  PARERIGHT  DOM
      assert l1 DOT get_config PARELEFT  PARERIGHT   EQUAL  EQUAL  l2 DOT get_config PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [] DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
        output  EQUAL  layer PARELEFT  PARERIGHT  DOM
      else COLON  DOM
        output  EQUAL  layer PARELEFT  PARERIGHT  DOM
      assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                       for _ in range PARELEFT  PARERIGHT ] DOM
      targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_specify_initial_state_non_keras_tensor PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [keras DOT backend DOT random_normal_variable PARELEFT  PARERIGHT  COMMA  0 COMMA  1 PARERIGHT  DOM
                       for _ in range PARELEFT  PARERIGHT ] DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_reset_states_with_values PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      layer DOT build PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
      assert layer DOT states[] is not None DOM
      self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT zeros PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
      state_shapes  EQUAL  [] DOM
      values  EQUAL  [] DOM
      if len PARELEFT  PARERIGHT   EQUAL  EQUAL  1 COLON  DOM
        values  EQUAL  values[] DOM
      layer DOT reset_states PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA np DOT ones PARELEFT keras DOT backend DOT int_shape PARELEFT  PARERIGHT  PARERIGHT  COMMA atol EQUAL 1e-4 PARERIGHT  DOM
      with self DOT assertRaises PARELEFT  PARERIGHT  COLON  DOM
        layer DOT reset_states PARELEFT [] *  PARELEFT len PARELEFT  PARERIGHT  + 1 PARERIGHT  PARERIGHT  DOM
  def test_specify_state_with_masking PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      _  EQUAL  keras DOT layers DOT Masking PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
      initial_state  EQUAL  [] DOM
      output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                       for _ in range PARELEFT  PARERIGHT ] DOM
      targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT  PARERIGHT  DOM
  def test_return_state PARELEFT  PARERIGHT  COLON  DOM
    num_states  EQUAL  2 DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
      state  EQUAL  outputs[] DOM
      assert len PARELEFT  PARERIGHT   EQUAL  EQUAL  num_states DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      state  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
      self DOT assertAllClose PARELEFT keras DOT backend DOT eval PARELEFT  PARERIGHT  COMMA  state COMMA  atol EQUAL 1e-4 PARERIGHT  DOM
  def test_state_reuse PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      inputs  EQUAL  keras DOT Input PARELEFT batch_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
      layer  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  DOM
      outputs  EQUAL  layer PARELEFT  PARERIGHT  DOM
      output COMMA  state  EQUAL  outputs[] COMMA  outputs[] DOM
      output  EQUAL  keras DOT layers DOT LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      outputs  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
  def test_initial_states_as_other_inputs PARELEFT  PARERIGHT  COLON  DOM
    timesteps  EQUAL  3 DOM
    embedding_dim  EQUAL  4 DOM
    units  EQUAL  3 DOM
    num_samples  EQUAL  2 DOM
    num_states  EQUAL  2 DOM
    layer_class  EQUAL  keras DOT layers DOT LSTM DOM
    with self DOT test_session PARELEFT  PARERIGHT  COLON  DOM
      main_inputs  EQUAL  keras DOT Input PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [] DOM
      inputs  EQUAL  [] + initial_state DOM
      layer  EQUAL  layer_class PARELEFT  PARERIGHT  DOM
      output  EQUAL  layer PARELEFT  PARERIGHT  DOM
      assert initial_state[] in layer DOT _inbound_nodes[] DOT input_tensors DOM
      model  EQUAL  keras DOT models DOT Model PARELEFT  PARERIGHT  DOM
      model DOT compile PARELEFT  PARERIGHT  DOM
      main_inputs  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      initial_state  EQUAL  [np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
                       for _ in range PARELEFT  PARERIGHT ] DOM
      targets  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
      model DOT train_on_batch PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
  test DOT main PARELEFT  PARERIGHT from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT pooling import MaxPooling1D COMMA  AveragePooling1D DOM
from keras DOT layers DOT recurrent import LSTM COMMA  GRU DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import SimpleRNN DOM
from keras DOT models import Sequential DOM
from keras import optimizers DOM
from keras import regularizers DOM
import numpy as np DOM
from numpy import newaxis DOM
def lstm_model PARELEFT  PARERIGHT  COLON  DOM
    rmsprop  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT input_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT 64 COMMA  1 COMMA  activation EQUAL  QUOTMARK  COMMA nel_regularizer  EQUAL  regularizers DOT l1_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT      DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT units  EQUAL  16 COMMA  return_sequences  EQUAL  True COMMA  kernel_regularizer  EQUAL  regularizers DOT l1_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT     DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def gru_model PARELEFT  PARERIGHT  COLON  DOM
    rmsprop  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT units  EQUAL  128 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA urn_sequences  EQUAL  True COMMA  rnel_regularizer  EQUAL  regularizers DOT l1_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def rnn_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT units  EQUAL  128 COMMA  input_shape  EQUAL   PARELEFT  PARERIGHT  COMMA  _sequences  EQUAL  False COMMA  kernel_regularizer  EQUAL  regularizers DOT l1_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def classifier PARELEFT  PARERIGHT  COLON  DOM
    rmsprop  EQUAL  optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
    sgd  EQUAL  optimizers DOT SGD PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT 0 DOT 2 COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT 32 COMMA  1 COMMA  activation EQUAL  QUOTMARK  COMMA  rnel_regularizer  EQUAL  regularizers DOT l1_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT      DOM
    return model DOM
def predict PARELEFT  PARERIGHT  COLON  DOM
    return y_pre DOM
def predict_sequence PARELEFT  PARERIGHT  COLON  DOM
    for i in range PARELEFT  PARERIGHT  COLON  DOM
        if i  EQUAL  EQUAL  0 COLON  DOM
            y_pre DOT append PARELEFT model DOT predict PARELEFT  PARERIGHT  PARERIGHT  DOM
        else COLON  DOM
            y_pre DOT append PARELEFT model DOT predict PARELEFT np DOT insert PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return np DOT array PARELEFT  PARERIGHT from __future__ import division COMMA  print_function DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Dropout COMMA  RepeatVector DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT recurrent import SimpleRNN DOM
from keras DOT layers DOT recurrent import GRU DOM
from keras DOT models import Sequential DOM
import os DOM
import helper DOM
from argparse import ArgumentParser DOM
parser  EQUAL  ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
args  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
BABI_DIR  EQUAL   QUOTMARK  DOM
TASK_NBR  EQUAL  5 DOM
EMBED_HIDDEN_SIZE  EQUAL  100 DOM
BATCH_SIZE  EQUAL  32 DOM
NBR_EPOCHS  EQUAL  50 DOM
train_file COMMA  test_file  EQUAL  helper DOT get_files_for_task PARELEFT  PARERIGHT  DOM
data_train  EQUAL  helper DOT get_stories PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
data_test  EQUAL  helper DOT get_stories PARELEFT os DOT path DOT join PARELEFT  PARERIGHT  PARERIGHT  DOM
word2idx  EQUAL  helper DOT build_vocab PARELEFT  PARERIGHT  DOM
vocab_size  EQUAL  len PARELEFT  PARERIGHT  + 1 DOM
print PARELEFT  PARERIGHT  DOM
story_maxlen COMMA  question_maxlen  EQUAL  helper DOT get_maxlens PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
Xs_train COMMA  Xq_train COMMA  Y_train  EQUAL  helper DOT vectorize_dualLSTM PARELEFT  PARERIGHT  DOM
Xs_test COMMA  Xq_test COMMA  Y_test  EQUAL  helper DOT vectorize_dualLSTM PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
story_lstm_word  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
story_lstm_word DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
story_lstm_word DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
story_lstm_sentence  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
story_lstm_sentence DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
story_lstm_sentence DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
question_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
question_lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
question_lstm DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
question_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
question_lstm DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
loss COMMA  acc  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT import os DOM
global_model_version  EQUAL  54 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	adam  EQUAL  keras DOT optimizers DOT Adam PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  66 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT models import Model COMMA  Sequential COMMA  load_model DOM
from keras DOT optimizers import Nadam COMMA  SGD COMMA  Adam DOM
from keras DOT layers import Conv2D COMMA  MaxPooling2D COMMA  Input COMMA  Conv1D COMMA  MaxPooling3D COMMA  Conv3D COMMA  ConvLSTM2D COMMA  LSTM COMMA  AveragePooling2D DOM
from keras DOT layers import Input COMMA  LSTM COMMA  Embedding COMMA  Dense COMMA  LeakyReLU COMMA  Flatten COMMA  Dropout COMMA  SeparableConv2D COMMA  GlobalAveragePooling3D DOM
from keras DOT layers import TimeDistributed COMMA  BatchNormalization DOM
from keras import optimizers DOM
from keras DOT callbacks import EarlyStopping DOM
from keras import regularizers DOM
class ResearchModels PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT frames  EQUAL  frames DOM
        self DOT saved_model  EQUAL  saved_model DOM
        self DOT image_dim  EQUAL  tuple PARELEFT  PARERIGHT  DOM
        self DOT input_shape  EQUAL   PARELEFT  PARERIGHT  + tuple PARELEFT  PARERIGHT  DOM
        self DOT print_model  EQUAL  print_model DOM
        metrics  EQUAL  [] DOM
        if self DOT saved_model is not None COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  load_model PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT CNN_LSTM PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT SepCNN_LSTM PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT CONVLSTM PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT CONV3D PARELEFT  PARERIGHT  DOM
        elif model  EQUAL  EQUAL   QUOTMARK  COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT model  EQUAL  self DOT CONVLSTM_CONV3D PARELEFT  PARERIGHT  DOM
        else COLON  DOM
            print PARELEFT  PARERIGHT  DOM
            sys DOT exit PARELEFT  PARERIGHT  DOM
        optimizer  EQUAL  Adam PARELEFT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        if self DOT print_model  EQUAL  EQUAL  True COLON  DOM
            print PARELEFT self DOT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
    def CNN_LSTM PARELEFT  PARERIGHT  COLON  DOM
        frames_input  EQUAL  Input PARELEFT  PARERIGHT  DOM
        vision_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        vision_model DOT add PARELEFT Conv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT image_dim PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        fc2  EQUAL  Dense PARELEFT 64 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        CNN_LSTM  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return CNN_LSTM DOM
    def SepCNN_LSTM PARELEFT  PARERIGHT  COLON  DOM
        frames_input  EQUAL  Input PARELEFT  PARERIGHT  DOM
        vision_model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        vision_model DOT add PARELEFT SeparableConv2D PARELEFT 64 COMMA   PARELEFT  PARERIGHT  COMMA  activation EQUAL  QUOTMARK  COMMA  padding EQUAL  QUOTMARK  COMMA  input_shape EQUAL self DOT image_dim PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT MaxPooling2D PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        vision_model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        fc2  EQUAL  Dense PARELEFT 64 COMMA  activation EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL regularizers DOT l2 PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        out  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        output  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        CNN_LSTM  EQUAL  Model PARELEFT  PARERIGHT  DOM
        return CNN_LSTM DOM
    def CONVLSTM PARELEFT  PARERIGHT  COLON  DOM
        CONVLSTM  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 64 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA input_shape EQUAL self DOT input_shape COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return CONVLSTM DOM
    def CONV3D PARELEFT  PARERIGHT  COLON  DOM
        CONV3D  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Conv3D PARELEFT filters EQUAL 64 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL self DOT input_shape COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Conv3D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Conv3D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  COMMA  strides EQUAL  PARELEFT  PARERIGHT  COMMA border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONV3D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return CONV3D DOM
    def CONVLSTM_CONV3D PARELEFT  PARERIGHT  COLON 	 DOM
        CONVLSTM_CON3D  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 64 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA input_shape EQUAL self DOT input_shape COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT ConvLSTM2D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Conv3D PARELEFT filters EQUAL 32 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA adding EQUAL  QUOTMARK  COMMA  activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT MaxPooling3D PARELEFT pool_size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
        CONVLSTM_CON3D DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        return CONVLSTM_CON3Dimport keras DOM
from keras DOT layers import * DOM
from keras DOT models import Sequential COMMA  Model DOM
from keras DOT optimizers import * DOM
import numpy as np DOM
import random DOM
from keras DOT regularizers import * DOM
Xs  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
n  EQUAL  300 DOM
def add_comp PARELEFT  PARERIGHT  COLON  DOM
    return np DOT append PARELEFT  PARERIGHT  DOM
def add_dim PARELEFT  PARERIGHT  COLON  DOM
    return map PARELEFT  PARERIGHT  DOM
Xs  EQUAL  map PARELEFT  PARERIGHT  DOM
def resize PARELEFT  PARERIGHT  COLON  DOM
    if len PARELEFT  PARERIGHT  > n COLON  DOM
        return sample[] DOM
    if len PARELEFT  PARERIGHT  < n COLON  DOM
        res  EQUAL  np DOT concatenate PARELEFT  PARELEFT sample COMMA  np DOT zeros PARELEFT  PARELEFT n-len PARELEFT  PARERIGHT  COMMA len PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        return res DOM
Xs  EQUAL  filter PARELEFT lambda k  COLON  len PARELEFT  PARERIGHT  COMMA  Xs PARERIGHT  DOM
Xs  EQUAL  np DOT array PARELEFT map PARELEFT  PARERIGHT  PARERIGHT  DOM
ys  EQUAL  np DOT load PARELEFT  PARERIGHT  DOM
Xs COMMA  ys  EQUAL  zip PARELEFT *filter PARELEFT lambda  PARELEFT  PARERIGHT   COLON  j is not None COMMA  zip PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
Xs  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
ys  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
for i COMMA  thing in enumerate PARELEFT  PARERIGHT  COLON  DOM
    assert np DOT shape PARELEFT  PARERIGHT   EQUAL  EQUAL   PARELEFT  PARERIGHT  DOM
n COMMA  l COMMA  d  EQUAL  np DOT shape PARELEFT  PARERIGHT  DOM
def test0 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer  EQUAL  l2 PARELEFT  PARERIGHT  COMMA  b_regularizer  EQUAL  l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def test1 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def test3 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def test2 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA shape  EQUAL   PARELEFT  PARERIGHT  COMMA  merge_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def test2_ PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA shape  EQUAL   PARELEFT  PARERIGHT  COMMA  merge_mode  EQUAL   QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
    sizes DOT append PARELEFT  PARERIGHT  DOM
    def bd_layer PARELEFT  PARERIGHT  COLON  DOM
        fwd  EQUAL  GRU PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        bck  EQUAL  GRU PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        return Dropout PARELEFT  PARERIGHT  PARELEFT merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    inputs  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    next  EQUAL  inputs DOM
    for i COMMA  size in enumerate PARELEFT  PARERIGHT  COLON  DOM
        next  EQUAL  bd_layer PARELEFT  PARERIGHT  DOM
    summary  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT Flatten PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    pred  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    return Model PARELEFT  PARERIGHT  DOM
data  EQUAL  list PARELEFT zip PARELEFT  PARERIGHT  PARERIGHT  DOM
random DOT shuffle PARELEFT  PARERIGHT  DOM
Xtr COMMA  ytr  EQUAL  map PARELEFT np DOT array COMMA zip PARELEFT  PARERIGHT  PARERIGHT  DOM
Xte COMMA  yte  EQUAL  map PARELEFT np DOT array COMMA zip PARELEFT  PARERIGHT  PARERIGHT  DOM
RMS  EQUAL  RMSprop PARELEFT  PARERIGHT  DOM
model  EQUAL  test4 PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT Xtr COMMA  ytr COMMA  nb_epoch EQUAL 1000 COMMA  batch_size EQUAL 1024 COMMA  validation_data  EQUAL   PARELEFT  PARERIGHT  PARERIGHT from keras DOT models import load_model DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Merge DOM
from keras DOT layers DOT core import Dense DOM
from keras DOT layers DOT recurrent import LSTM DOM
import numpy as np DOM
class fifo_array PARELEFT  PARERIGHT  COLON  DOM
        self DOT max_len  EQUAL  max_length DOM
        self DOT arr  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    def add_element PARELEFT  PARERIGHT  COLON  DOM
        self DOT arr2  EQUAL  np DOT delete PARELEFT  PARERIGHT  DOM
        self DOT arr  EQUAL  np DOT reshape PARELEFT  PARERIGHT  DOM
    def get_value PARELEFT  PARERIGHT  COLON  DOM
        return self DOT arr DOM
    def change_length PARELEFT  PARERIGHT  COLON  DOM
            self DOT arr3  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
            self DOT arr3[]  EQUAL  self DOT arr DOM
            self DOT arr  EQUAL  self DOT arr3 DOM
            self DOT max_len  EQUAL  new_length DOM
        else COLON  DOM
            x  EQUAL  [] DOM
            print PARELEFT  PARERIGHT  DOM
            self DOT arr4  EQUAL  np DOT delete PARELEFT  PARERIGHT  DOM
            self DOT arr  EQUAL  self DOT arr4 DOM
            self DOT max_len  EQUAL  new_length DOM
class bcolors COLON  DOM
    HEADER  EQUAL   QUOTMARK  DOM
    OKBLUE  EQUAL   QUOTMARK  DOM
    OKGREEN  EQUAL   QUOTMARK  DOM
    WARNING  EQUAL   QUOTMARK  DOM
    FAIL  EQUAL   QUOTMARK  DOM
    ENDC  EQUAL   QUOTMARK  DOM
    BOLD  EQUAL   QUOTMARK  DOM
    UNDERLINE  EQUAL   QUOTMARK from keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
max_features EQUAL 10000 DOM
maxlen  EQUAL  500 DOM
 PARELEFT  PARERIGHT  COMMA  PARELEFT  PARERIGHT  EQUAL imdb DOT load_data PARELEFT  PARERIGHT  DOM
input_train DOM
input_test DOM
input_train DOT shape COMMA  input_test DOT shape DOM
x_train EQUAL sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_test EQUAL sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
x_train DOT shape COMMA x_test DOT shape DOM
x_train DOM
from keras DOT models import Sequential DOM
from keras DOT layers import SimpleRNN COMMA  Dense COMMA  Embedding DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model DOT fit PARELEFT  PARERIGHT  DOM
from keras DOT layers import LSTM DOM
model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_lstm DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model_lstm DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_lstm DOT summary PARELEFT  PARERIGHT  DOM
model_lstm DOT compile PARELEFT  PARERIGHT  DOM
history  EQUAL  model_lstm DOT fit PARELEFT  PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  64 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
import pytest DOM
import os DOM
import sys DOM
import numpy as np DOM
from keras import Input COMMA  Model DOM
from keras DOT layers import Conv2D COMMA  Bidirectional DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Flatten DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT models import Sequential DOM
from keras DOT utils import vis_utils DOM
def test_plot_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Conv2D PARELEFT 2 COMMA  kernel_size EQUAL  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT 16 COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
    inner_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_lstm  EQUAL  Bidirectional PARELEFT LSTM PARELEFT  PARERIGHT  COMMA  name EQUAL  QUOTMARK  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder  EQUAL  Model PARELEFT  PARERIGHT  DOM
    outer_input  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  COMMA  name EQUAL  QUOTMARK  PARERIGHT  DOM
    inner_encoder  EQUAL  TimeDistributed PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    preds  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
def test_plot_sequential_embedding PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    vis_utils DOT plot_model PARELEFT  PARERIGHT  DOM
    os DOT remove PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    pytest DOT main PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Embedding COMMA  LSTM COMMA  Bidirectional COMMA GRU COMMA SimpleRNN DOM
import logging DOM
from keras DOT callbacks import EarlyStopping DOM
def train PARELEFT  PARERIGHT  COLON  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT SimpleRNN PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    hist  EQUAL  model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA lidation_data EQUAL  PARELEFT  PARERIGHT  COMMA  callbacks EQUAL [] PARERIGHT  DOM
    log_format  EQUAL   QUOTMARK  DOM
    logging DOT basicConfig PARELEFT  PARERIGHT  DOM
    logging DOT warning PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        strlog EQUAL str PARELEFT  PARERIGHT + QUOTMARK + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT  DOM
        logging DOT warning PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
def train2 PARELEFT  PARERIGHT  COLON  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    hist  EQUAL  model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA lidation_data EQUAL  PARELEFT  PARERIGHT  COMMA  callbacks EQUAL [] PARERIGHT  DOM
    log_format  EQUAL   QUOTMARK  DOM
    logging DOT basicConfig PARELEFT  PARERIGHT  DOM
    logging DOT warning PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        strlog EQUAL str PARELEFT  PARERIGHT + QUOTMARK + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT  DOM
        logging DOT warning PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT  DOM
def train3 PARELEFT  PARERIGHT  COLON  DOM
    embedding_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Bidirectional PARELEFT GRU PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    early_stopping  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    hist  EQUAL  model DOT fit PARELEFT x_train COMMA  y_train COMMA batch_size EQUAL batch_size COMMA epochs EQUAL epochs COMMA lidation_data EQUAL  PARELEFT  PARERIGHT  COMMA  callbacks EQUAL [] PARERIGHT  DOM
    log_format  EQUAL   QUOTMARK  DOM
    logging DOT basicConfig PARELEFT  PARERIGHT  DOM
    logging DOT warning PARELEFT  PARERIGHT  DOM
    for i in range PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  COLON  DOM
        strlog EQUAL str PARELEFT  PARERIGHT + QUOTMARK + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT + QUOTMARK +str PARELEFT  PARERIGHT  DOM
        logging DOT warning PARELEFT  PARERIGHT  DOM
    model DOT save PARELEFT  PARERIGHT import os DOM
global_model_version  EQUAL  43 DOM
global_batch_size  EQUAL  16 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 2 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 4 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 6 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_6 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense DOM
from keras DOT layers import Dropout DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import RepeatVector COMMA  Input DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT callbacks import EarlyStopping COMMA  History COMMA  TensorBoard DOM
from keras DOT optimizers import Adam DOM
from keras DOT models import Model DOM
def createModel PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT RepeatVector PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def createModelEncDec PARELEFT  PARERIGHT  COLON  DOM
    inputs1  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm1  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    batchNorm  EQUAL  BatchNormalization PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    dropout  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    denseor  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    lstm2 COMMA  state_h COMMA  state_c  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    encoder_states  EQUAL  [] DOM
    decIn  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    lstm3  EQUAL  LSTM PARELEFT  PARERIGHT  DOM
    lstmOut COMMA  _ COMMA  _  EQUAL  lstm3 PARELEFT  PARERIGHT  DOM
    outDense  EQUAL  TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    decoder_outputs  EQUAL  outDense PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelimport numpy as np DOM
np DOT random DOT seed PARELEFT  PARERIGHT  DOM
from theano DOT tensor DOT shared_randomstreams import RandomStreams DOM
srng  EQUAL  RandomStreams PARELEFT  PARERIGHT  DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT datasets import imdb DOM
from keras DOT preprocessing import sequence DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  LSTM COMMA  GRU COMMA  Dropout COMMA  Flatten COMMA  Convolution1D COMMA  MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from keras_helper import load_keras_model as load DOM
from keras_helper import save_keras_model as save DOM
base_dir  EQUAL   QUOTMARK  DOM
def generate_model PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    if dropout is not None COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    if dropout is not None COLON  DOM
        model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
if __name__ EQUAL  EQUAL  QUOTMARK  COLON  DOM
    embedding_length  EQUAL  16 DOM
    top_words  EQUAL  3000 DOM
    n_lstm_units  EQUAL  100 DOM
     PARELEFT  PARERIGHT  COMMA   PARELEFT  PARERIGHT   EQUAL  imdb DOT load_data PARELEFT  PARERIGHT  DOM
    X_train  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    X_test  EQUAL  sequence DOT pad_sequences PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    hist  EQUAL  model DOT fit PARELEFT X_train COMMA  y_train COMMA  validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  nb_epoch EQUAL 3 COMMA  batch_size EQUAL 64 PARERIGHT  DOM
    save PARELEFT model COMMA   QUOTMARK  DOT format PARELEFT  PARERIGHT  COMMA  base_dir EQUAL base_dir PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Embedding COMMA  Conv1D COMMA  Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT layers DOT core import Flatten DOM
def get_simple_cnn PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT input_dim EQUAL vocab_size COMMA output_dim EQUAL embedding_size COMMA embeddings_initializer EQUAL  QUOTMARK  COMMA trainable EQUAL True COMMA put_shape  EQUAL   PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
def get_RNN PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return model DOM
from keras DOT engine import Input DOM
from keras import backend as K DOM
from keras DOT layers import Concatenate DOM
from keras DOT models import Model DOM
def mix_cnn_rnn PARELEFT  PARERIGHT  COLON  DOM
    input_text  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    embedding_vec  EQUAL  Embedding PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    cnn_config EQUAL [{ QUOTMARK  COLON 1 COMMA  QUOTMARK  COLON 64 COMMA    QUOTMARK  COLON  QUOTMARK } COMMA  DOM
                { QUOTMARK  COLON 2 COMMA  QUOTMARK  COLON 128 COMMA    QUOTMARK  COLON  QUOTMARK } COMMA  DOM
                { QUOTMARK  COLON 3 COMMA  QUOTMARK  COLON 512 COMMA    QUOTMARK  COLON  QUOTMARK } COMMA  DOM
                { QUOTMARK  COLON 4 COMMA  QUOTMARK  COLON 512 COMMA    QUOTMARK  COLON  QUOTMARK }] DOM
    data_aug  EQUAL  [] DOM
    for i COMMA  c_conf in enumerate PARELEFT  PARERIGHT  COLON  DOM
        data_aug DOT append PARELEFT Conv1D PARELEFT kernel_size  EQUAL c_conf[] COMMA lters  EQUAL  c_conf[] COMMA dding  EQUAL  c_conf[] COMMA name EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  PARERIGHT  DOM
    concat_data  EQUAL  Concatenate PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    rnn_result  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    rnn_result  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    logist  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    model DOT summary PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    return modelfrom keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten COMMA  TimeDistributed COMMA  RepeatVector DOM
from keras DOT layers import LSTM as lstm DOM
from keras DOT optimizers import Adam DOM
from keras DOT callbacks import EarlyStopping COMMA  TensorBoard DOM
from keras DOT models import load_model DOM
from keras import regularizers DOM
import pickle DOM
class LSTM COLON  DOM
	def buildModel PARELEFT  PARERIGHT  COLON  DOM
		print PARELEFT  PARERIGHT  DOM
		model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
		for l in range PARELEFT  PARERIGHT  COLON  DOM
			if l  EQUAL  EQUAL  0 COLON  DOM
				this_shape  EQUAL   PARELEFT  PARERIGHT  DOM
			else COLON  DOM
				this_shape  EQUAL   PARELEFT  PARERIGHT  DOM
			if l  EQUAL  EQUAL  lstm_layers - 1 COLON  DOM
				this_return  EQUAL  False DOM
			else COLON  DOM
				this_return  EQUAL  True DOM
			model DOT add PARELEFT lstm PARELEFT  PARERIGHT  PARERIGHT 				 DOM
			model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
		for l in range PARELEFT  PARERIGHT  COLON 				 DOM
			model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
			model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
			model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT 	 DOM
		model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT 				 DOM
		model DOT compile PARELEFT  PARERIGHT  DOM
		model DOT summary PARELEFT  PARERIGHT  DOM
		return model DOM
	def train PARELEFT  PARERIGHT  COLON  DOM
		callback_earlystop  EQUAL  EarlyStopping PARELEFT  PARERIGHT  DOM
		callback_tensorboard  EQUAL  TensorBoard PARELEFT log_dir EQUAL  QUOTMARK  DOT format PARELEFT  PARERIGHT  PARERIGHT  DOM
		model DOT fit PARELEFT x_train COMMA  y_train COMMA  epochs EQUAL 40 COMMA  batch_size EQUAL 128 COMMA  	validation_data EQUAL  PARELEFT  PARERIGHT  COMMA  callbacks EQUAL [] PARERIGHT  DOM
		return model DOM
	def saveModel PARELEFT  PARERIGHT  COLON  DOM
		model DOT save PARELEFT  PARERIGHT  DOM
		print PARELEFT  PARERIGHT  DOM
	def loadModel PARELEFT  PARERIGHT  COLON 		 DOM
		return load_model PARELEFT  PARERIGHT  DOM
		print PARELEFT  PARERIGHT  DOM
import os DOM
global_model_version  EQUAL  58 DOM
global_batch_size  EQUAL  128 DOM
global_top_words  EQUAL  5000 DOM
global_max_review_length  EQUAL  500 DOM
global_dir_name  EQUAL  os DOT path DOT dirname PARELEFT os DOT path DOT realpath PARELEFT  PARERIGHT  PARERIGHT  DOM
global_embedding_vecor_length  EQUAL  32 DOM
global_model_description  EQUAL   QUOTMARK  DOM
import sys DOM
sys DOT path DOT append PARELEFT  PARERIGHT  DOM
from master import run_model COMMA  generate_read_me COMMA  get_text_data COMMA  load_word2vec DOM
import time DOM
import numpy as np DOM
import matplotlib DOM
import argparse DOM
import keras DOM
import csv DOM
from keras DOT datasets import imdb DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Merge COMMA  Input COMMA  Reshape COMMA  Activation COMMA  Dropout COMMA  Flatten DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM DOM
from keras DOT layers DOT convolutional import Conv1D DOM
from keras DOT layers DOT convolutional import MaxPooling1D DOM
from keras DOT layers DOT embeddings import Embedding DOM
from keras DOT preprocessing import sequence DOM
from keras DOT utils import plot_model DOM
import matplotlib DOT pyplot as plt DOM
from keras DOT regularizers import l2 DOM
def build_model PARELEFT  PARERIGHT  COLON  DOM
	input_layer  EQUAL  Embedding PARELEFT  PARERIGHT  DOM
	branch_3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 3 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 5 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_5 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 7 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_7 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Conv1D PARELEFT filters EQUAL 128 COMMA  kernel_size EQUAL 9 COMMA  padding EQUAL  QUOTMARK  COMMA  kernel_regularizer EQUAL l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
	branch_9 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
	model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
	model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
	model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
	opt  EQUAL  keras DOT optimizers DOT RMSprop PARELEFT  PARERIGHT  DOM
	model DOT compile PARELEFT  PARERIGHT  DOM
	if show_summaries COLON  DOM
		print PARELEFT branch_3 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_4 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT branch_5 DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
		print PARELEFT model DOT summary PARELEFT  PARERIGHT  PARERIGHT  DOM
	return model DOM
os DOT environ[] EQUAL  QUOTMARK  DOM
parser  EQUAL  argparse DOT ArgumentParser PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
parser DOT add_argument PARELEFT  PARERIGHT  DOM
inputs  EQUAL  parser DOT parse_args PARELEFT  PARERIGHT  DOM
generate_read_me PARELEFT  PARERIGHT  DOM
run_model PARELEFT build_model PARELEFT  PARERIGHT  COMMA  global_model_version COMMA  global_batch_size COMMA  inputs DOT num_epochs COMMA  global_top_words COMMA  global_max_review_length COMMA  global_dir_name PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
import time DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA  Merge DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
from keras DOT utils DOT visualize_util import plot COMMA  to_graph DOM
from keras DOT regularizers import l2 COMMA  activity_l2 DOM
import copy DOM
def design_model PARELEFT  PARERIGHT  COLON  DOM
    model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm_hidden_size  EQUAL  [] DOM
    drop_out_rate  EQUAL  [] DOM
    reg  EQUAL  [] DOM
    areg  EQUAL  [] DOM
    model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    nn_hidden_size  EQUAL  [] DOM
    nn_drop_rate  EQUAL  [] DOM
    nn_reg  EQUAL  [] DOM
    nn_areg  EQUAL  [] DOM
    model_B DOT add PARELEFT Dense PARELEFT nn_hidden_size[] COMMA  input_dim EQUAL nn_data_dim COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT nn_hidden_size[] COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
    graph DOT write_png PARELEFT  PARERIGHT  DOM
    return model_Combine DOM
def design_model_nn PARELEFT  PARERIGHT  COLON  DOM
    model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    nn_hidden_size  EQUAL  [] DOM
    nn_drop_rate  EQUAL  [] DOM
    nn_reg  EQUAL  [] DOM
    nn_areg  EQUAL  [] DOM
    model_B DOT add PARELEFT Dense PARELEFT nn_hidden_size[] COMMA  input_dim EQUAL nn_data_dim COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT nn_hidden_size[] COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_B DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
    graph DOT write_png PARELEFT  PARERIGHT  DOM
    return model_B DOM
def design_model_lstm PARELEFT  PARERIGHT  COLON  DOM
    model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    lstm_hidden_size  EQUAL  [] DOM
    drop_out_rate  EQUAL  [] DOM
    reg  EQUAL  [] DOM
    areg  EQUAL  [] DOM
    model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_A DOT add PARELEFT Dense PARELEFT 1 COMMA  activation EQUAL  QUOTMARK  COMMA  W_regularizer EQUAL l2 PARELEFT  PARERIGHT  COMMA  activity_regularizer EQUAL activity_l2 PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    print  QUOTMARK  DOM
    graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
    graph DOT write_png PARELEFT  PARERIGHT  DOM
    return model_Afrom keras DOT models import Sequential DOM
from keras DOT preprocessing DOT image import ImageDataGenerator DOM
from keras DOT models import Sequential DOM
from keras DOT layers DOT core import Dense COMMA  Dropout COMMA  Activation COMMA  Flatten DOM
from keras DOT layers DOT advanced_activations import PReLU DOM
from keras DOT layers DOT convolutional import Convolution2D COMMA  MaxPooling2D DOM
from keras DOT optimizers import SGD COMMA  Adadelta COMMA  Adagrad DOM
from keras DOT layers DOT wrappers import TimeDistributed DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT layers import LSTM COMMA  SimpleRNN COMMA  GRU DOM
from keras DOT layers import Merge DOM
from phcx import * DOM
import numpy as np DOM
import os DOM
from keras DOT utils import np_utils COMMA  generic_utils DOM
def lenet5 PARELEFT  PARERIGHT  COLON  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 4 COMMA  5 COMMA  5 COMMA  border_mode EQUAL  QUOTMARK  COMMA put_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 8 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Convolution2D PARELEFT 16 COMMA  3 COMMA  3 COMMA  subsample EQUAL  PARELEFT  PARERIGHT  COMMA  border_mode EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
    model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    return model DOM
def get_data PARELEFT  PARERIGHT  COLON  DOM
    if mode  EQUAL  EQUAL   QUOTMARK  COLON  DOM
        pulsar_file_base  EQUAL  filePath +  QUOTMARK  DOM
        rfi_file_base  EQUAL  filePath +  QUOTMARK  DOM
    else COLON  DOM
        pulsar_file_base  EQUAL  filePath +  QUOTMARK  DOM
        rfi_file_base  EQUAL  filePath +  QUOTMARK  DOM
    pulsar_files  EQUAL  os DOT listdir PARELEFT  PARERIGHT  DOM
    rfi_files  EQUAL  os DOT listdir PARELEFT  PARERIGHT  DOM
    cnn_input  EQUAL  np DOT empty PARELEFT  PARELEFT len PARELEFT  PARERIGHT +len PARELEFT  PARERIGHT  COMMA  1 COMMA  16 COMMA  64 PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    lstm_input  EQUAL  np DOT empty PARELEFT  PARELEFT len PARELEFT  PARERIGHT +len PARELEFT  PARERIGHT  COMMA  18 COMMA  64 PARERIGHT  COMMA  dtype EQUAL  QUOTMARK  PARERIGHT  DOM
    train_label  EQUAL  []*len PARELEFT  PARERIGHT  DOM
    train_label DOT extend PARELEFT []*len PARELEFT  PARERIGHT  PARERIGHT  DOM
    trainlabel  EQUAL  np_utils DOT to_categorical PARELEFT  PARERIGHT  DOM
    train_num  EQUAL  0 DOM
    for filename in pulsar_files COLON  DOM
        cand  EQUAL  Candidate PARELEFT  PARERIGHT  DOM
        cnn_input[]  EQUAL  np DOT resize PARELEFT cand DOT subbands COMMA  PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm_input[]  EQUAL  np DOT resize PARELEFT cand DOT subints COMMA  PARELEFT  PARERIGHT  PARERIGHT  DOM
        train_num + EQUAL 1 DOM
    for filename in rfi_files COLON  DOM
        cand  EQUAL  Candidate PARELEFT  PARERIGHT  DOM
        cnn_input[]  EQUAL  np DOT resize PARELEFT cand DOT subbands COMMA  PARELEFT  PARERIGHT  PARERIGHT  DOM
        lstm_input[]  EQUAL  np DOT resize PARELEFT cand DOT subints COMMA  PARELEFT  PARERIGHT  PARERIGHT  DOM
        train_num + EQUAL 1 DOM
    return cnn_input COMMA lstm_input COMMA trainlabel DOM
def main PARELEFT  PARERIGHT  COLON  DOM
    model_cnn  EQUAL  lenet5 PARELEFT  PARERIGHT  DOM
    model_lstm  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    model_lstm DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
    merged  EQUAL  Merge PARELEFT  PARERIGHT  DOM
    model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT  PARERIGHT  DOM
    model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
    optimizer_ins  EQUAL  SGD PARELEFT  PARERIGHT  DOM
    model DOT compile PARELEFT  PARERIGHT  DOM
    model_lstm DOT summary PARELEFT  PARERIGHT  DOM
    print PARELEFT  PARERIGHT  DOM
    filePath  EQUAL   QUOTMARK  DOM
    train_data_cnn COMMA train_data_lstm COMMA train_label  EQUAL  get_data PARELEFT  PARERIGHT  DOM
    model DOT fit PARELEFT  PARERIGHT  DOM
    test_data_cnn COMMA test_data_lstm COMMA test_label  EQUAL  get_data PARELEFT  PARERIGHT  DOM
    model DOT evaluate PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL   QUOTMARK  COLON  DOM
    main PARELEFT  PARERIGHT from keras DOT models import Sequential COMMA  Model DOM
from keras DOT layers DOT core import Reshape COMMA  Activation COMMA  Dropout DOM
from keras DOT layers import LSTM COMMA  Concatenate COMMA  Dense COMMA  Input DOM
def VQA_MODEL PARELEFT  PARERIGHT  COLON  DOM
    image_feature_size           EQUAL  4096 DOM
    word_feature_size            EQUAL  300 DOM
    number_of_LSTM               EQUAL  3 DOM
    number_of_hidden_units_LSTM  EQUAL  512 DOM
    max_length_questions         EQUAL  30 DOM
    number_of_dense_layers       EQUAL  3 DOM
    number_of_hidden_units       EQUAL  1024 DOM
    activation_function          EQUAL   QUOTMARK  DOM
    dropout_pct                  EQUAL  0 DOT 5 DOM
    in1  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    in2  EQUAL  Input PARELEFT shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  DOM
    a  EQUAL  Reshape PARELEFT  PARELEFT  PARERIGHT  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    b  EQUAL  LSTM PARELEFT number_of_hidden_units_LSTM COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    b  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    b  EQUAL  LSTM PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Concatenate PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    for _ in range PARELEFT  PARERIGHT  COLON  DOM
        x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
        x  EQUAL  Dropout PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    x  EQUAL  Dense PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    out  EQUAL  Activation PARELEFT  PARERIGHT  PARELEFT  PARERIGHT  DOM
    model  EQUAL  Model PARELEFT  PARERIGHT  DOM
    return model DOM
import os DOM
import re DOM
import csv DOM
import codecs DOM
import numpy as np DOM
import pandas as pd DOM
from nltk DOT corpus import stopwords DOM
from nltk DOT stem import SnowballStemmer DOM
from string import punctuation DOM
from gensim DOT models import KeyedVectors DOM
from keras DOT preprocessing DOT text import Tokenizer DOM
from keras DOT preprocessing DOT sequence import pad_sequences DOM
from keras DOT layers import Dense COMMA  Input COMMA  LSTM COMMA  Embedding COMMA  Dropout COMMA  Activation COMMA  Merge DOM
from keras DOT layers DOT merge import concatenate DOM
from keras DOT layers import Embedding COMMA  Dense COMMA  Dropout COMMA  Reshape COMMA  Merge COMMA  BatchNormalization COMMA  TimeDistributed COMMA  Lambda COMMA  Activation COMMA  LSTM COMMA  Flatten COMMA  Convolution1D COMMA  GRU COMMA  MaxPooling1D DOM
from keras DOT models import Model DOM
from keras DOT layers DOT normalization import BatchNormalization DOM
from keras DOT callbacks import EarlyStopping COMMA  ModelCheckpoint DOM
from keras DOT models import Sequential DOM
import sys DOM
from keras DOT regularizers import l2 DOM
from keras DOT callbacks import Callback COMMA  ModelCheckpoint COMMA  EarlyStopping DOM
from keras import initializers DOM
from keras import backend as K DOM
from keras DOT optimizers import SGD DOM
from collections import defaultdict DOM
reload PARELEFT  PARERIGHT  DOM
sys DOT setdefaultencoding PARELEFT  PARERIGHT  DOM
BASE_DIR  EQUAL   QUOTMARK  DOM
EMBEDDING_FILE  EQUAL  BASE_DIR +  QUOTMARK  DOM
TRAIN_DATA_FILE  EQUAL   QUOTMARK  DOM
TEST_DATA_FILE  EQUAL   QUOTMARK  DOM
MAX_SEQUENCE_LENGTH  EQUAL  50 DOM
MAX_NB_WORDS  EQUAL  200000 DOM
EMBEDDING_DIM  EQUAL  300 DOM
VALIDATION_SPLIT  EQUAL  0 DOT 1 DOM
num_lstm  EQUAL  250 DOM
num_dense  EQUAL  150 DOM
rate_drop_lstm  EQUAL  0 DOT 25 DOM
rate_drop_dense  EQUAL  0 DOT 25 DOM
STAMP  EQUAL   QUOTMARK  DOM
print PARELEFT  PARERIGHT  DOM
word2vec  EQUAL  KeyedVectors DOT load_word2vec_format PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
def text_to_wordlist PARELEFT  PARERIGHT  COLON  DOM
    text  EQUAL  text DOT lower PARELEFT  PARERIGHT  DOT split PARELEFT  PARERIGHT  DOM
    if remove_stopwords COLON  DOM
        stops  EQUAL  set PARELEFT stopwords DOT words PARELEFT  PARERIGHT  PARERIGHT  DOM
        text  EQUAL  [] DOM
    text  EQUAL   QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    text  EQUAL  re DOT sub PARELEFT  PARERIGHT  DOM
    if stem_words COLON  DOM
        text  EQUAL  text DOT split PARELEFT  PARERIGHT  DOM
        stemmer  EQUAL  SnowballStemmer PARELEFT  PARERIGHT  DOM
        stemmed_words  EQUAL  [] DOM
        text  EQUAL   QUOTMARK  DOT join PARELEFT  PARERIGHT  DOM
    return PARELEFT  PARERIGHT  DOM
texts_1  EQUAL  []  DOM
texts_2  EQUAL  [] DOM
labels  EQUAL  [] DOM
f1  EQUAL  [] DOM
f2  EQUAL  [] DOM
f3  EQUAL  [] DOM
f4  EQUAL  [] DOM
f5  EQUAL  [] DOM
f6  EQUAL  [] DOM
f7  EQUAL  [] DOM
f8  EQUAL  [] DOM
f9  EQUAL [] DOM
f10  EQUAL  [] DOM
f11 EQUAL [] DOM
f12  EQUAL  [] DOM
f13  EQUAL  [] DOM
f14  EQUAL  [] DOM
f15  EQUAL  [] DOM
with codecs DOT open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    header  EQUAL  next PARELEFT  PARERIGHT  DOM
    for values in reader COLON  DOM
        texts_1 DOT append PARELEFT text_to_wordlist PARELEFT  PARERIGHT  PARERIGHT  DOM
        texts_2 DOT append PARELEFT text_to_wordlist PARELEFT  PARERIGHT  PARERIGHT  DOM
        labels DOT append PARELEFT int PARELEFT  PARERIGHT  PARERIGHT  DOM
	f1 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f2 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f3 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f4 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f5 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f6 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f7 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f8 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f9 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f10 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f11 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f12 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f13 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f14 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        f15 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT  DOM
test_texts_1  EQUAL  [] DOM
test_texts_2  EQUAL  [] DOM
test_ids  EQUAL  [] DOM
tf1  EQUAL  [] DOM
tf2  EQUAL  [] DOM
tf3  EQUAL  [] DOM
tf4  EQUAL  [] DOM
tf5  EQUAL  [] DOM
tf6  EQUAL  [] DOM
tf7  EQUAL  [] DOM
tf8  EQUAL  [] DOM
tf9  EQUAL [] DOM
tf10  EQUAL  [] DOM
tf11 EQUAL [] DOM
tf12  EQUAL  [] DOM
tf13  EQUAL  [] DOM
tf14  EQUAL  [] DOM
tf15  EQUAL  [] DOM
with codecs DOT open PARELEFT  PARERIGHT  as f COLON  DOM
    reader  EQUAL  csv DOT reader PARELEFT  PARERIGHT  DOM
    header  EQUAL  next PARELEFT  PARERIGHT  DOM
    for values in reader COLON  DOM
        test_texts_1 DOT append PARELEFT text_to_wordlist PARELEFT  PARERIGHT  PARERIGHT  DOM
        test_texts_2 DOT append PARELEFT text_to_wordlist PARELEFT  PARERIGHT  PARERIGHT  DOM
        test_ids DOT append PARELEFT  PARERIGHT  DOM
	tf1 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf2 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf3 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf4 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf5 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf6 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf7 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf8 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf9 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf10 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf11 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf12 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf13 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf14 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
        tf15 DOT append PARELEFT float PARELEFT  PARERIGHT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT  DOM
tokenizer  EQUAL  Tokenizer PARELEFT  PARERIGHT  DOM
tokenizer DOT fit_on_texts PARELEFT  PARERIGHT  DOM
sequences_1  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
sequences_2  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
test_sequences_1  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
test_sequences_2  EQUAL  tokenizer DOT texts_to_sequences PARELEFT  PARERIGHT  DOM
word_index  EQUAL  tokenizer DOT word_index DOM
print PARELEFT  QUOTMARK  % len PARELEFT  PARERIGHT  PARERIGHT  DOM
data_1  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
data_2  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
labels  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
test_data_1  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
test_data_2  EQUAL  pad_sequences PARELEFT  PARERIGHT  DOM
test_ids  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
f_tr  EQUAL  [] DOM
for i1 COMMA i2 COMMA i3 COMMA i4 COMMA i5 COMMA i6 COMMA i7 COMMA i8 COMMA i9 COMMA i10 COMMA i11 COMMA i12 COMMA i13 COMMA i14 COMMA i15 in zip PARELEFT  PARERIGHT  COLON  DOM
        f_tr DOT append PARELEFT  PARERIGHT  DOM
f_te  EQUAL  [] DOM
for i1 COMMA i2 COMMA i3 COMMA i4 COMMA i5 COMMA i6 COMMA i7 COMMA i8 COMMA i9 COMMA i10 COMMA i11 COMMA i12 COMMA i13 COMMA i14 COMMA i15 in zip PARELEFT  PARERIGHT  COLON  DOM
        f_te DOT append PARELEFT  PARERIGHT  DOM
f_tr  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
f_te  EQUAL  np DOT array PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
nb_words  EQUAL  min PARELEFT MAX_NB_WORDS COMMA  len PARELEFT  PARERIGHT  PARERIGHT +1 DOM
gembeddings_index  EQUAL  {} DOM
with codecs DOT open PARELEFT  PARERIGHT  as f COLON  DOM
    for line in f COLON  DOM
        values  EQUAL  line DOT split PARELEFT  PARERIGHT  DOM
        word  EQUAL  values[] DOM
        gembedding  EQUAL  np DOT asarray PARELEFT  PARERIGHT  DOM
        gembeddings_index[]  EQUAL  gembedding DOM
f DOT close PARELEFT  PARERIGHT  DOM
nb_words  EQUAL  len PARELEFT  PARERIGHT  DOM
g_word_embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
for word COMMA  i in word_index DOT items PARELEFT  PARERIGHT  COLON  DOM
    gembedding_vector  EQUAL  gembeddings_index DOT get PARELEFT  PARERIGHT  DOM
    if gembedding_vector is not None COLON  DOM
        g_word_embedding_matrix[]  EQUAL  gembedding_vector DOM
print PARELEFT  QUOTMARK  % np DOT sum PARELEFT np DOT sum PARELEFT  PARERIGHT   EQUAL  EQUAL  0 PARERIGHT  PARERIGHT  DOM
embedding_matrix  EQUAL  np DOT zeros PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
for word COMMA  i in word_index DOT items PARELEFT  PARERIGHT  COLON  DOM
    if word in word2vec DOT vocab COLON  DOM
        embedding_matrix[]  EQUAL  word2vec DOT word_vec PARELEFT  PARERIGHT  DOM
print PARELEFT  QUOTMARK  % np DOT sum PARELEFT np DOT sum PARELEFT  PARERIGHT   EQUAL  EQUAL  0 PARERIGHT  PARERIGHT  DOM
perm  EQUAL  np DOT random DOT permutation PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
idx_train  EQUAL  perm[] DOM
idx_val  EQUAL  perm[] DOM
data_1_train  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
data_2_train  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
labels_train  EQUAL  np DOT concatenate PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
f_tr1  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
data_1_val  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
data_2_val  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
labels_val  EQUAL  np DOT concatenate PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
f_v  EQUAL  np DOT vstack PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
weight_val  EQUAL  np DOT ones PARELEFT len PARELEFT  PARERIGHT  PARERIGHT  DOM
if re_weight COLON  DOM
    weight_val * EQUAL  0 DOT 472001959 DOM
    weight_val[]  EQUAL  1 DOT 309028344 DOM
weights  EQUAL  initializers DOT TruncatedNormal PARELEFT  PARERIGHT  DOM
bias  EQUAL  bias_initializer EQUAL  QUOTMARK  DOM
embedding_dim  EQUAL  EMBEDDING_DIM DOM
max_question_len  EQUAL  MAX_SEQUENCE_LENGTH DOM
model1  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model1 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model1 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model2  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model2 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model2 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model3  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model3 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model3 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model4  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model4 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model4 DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model5  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model5 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model5 DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model6  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model6 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT Convolution1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model6 DOT add PARELEFT Flatten PARELEFT  PARERIGHT  PARERIGHT  DOM
model7  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model7 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model7 DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model7 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model7 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model7 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model7 DOT add PARELEFT Lambda PARELEFT lambda x COLON  K DOT max PARELEFT  PARERIGHT  COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model8  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model8 DOT add PARELEFT Embedding PARELEFT  PARERIGHT  PARERIGHT  DOM
model8 DOT add PARELEFT TimeDistributed PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model8 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model8 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model8 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model8 DOT add PARELEFT Lambda PARELEFT lambda x COLON  K DOT max PARELEFT  PARERIGHT  COMMA  output_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model9  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model9 DOT add PARELEFT Dense PARELEFT num_dense COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  COMMA  kernel_initializer EQUAL weights COMMA  bias_initializer EQUAL bias PARERIGHT  PARERIGHT  DOM
model9 DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model9 DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model9 DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
modela  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modela DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
modela DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modela DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modela DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
modela DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
modelb  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modelb DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
modelb DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelb DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modelb DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
modelb DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
modelc  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modelc DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
modelc DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modelc DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
modelc DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modelc DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
modeld  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
modeld DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
modeld DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
modeld DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
modeld DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
modeld DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT BatchNormalization PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Activation PARELEFT  PARERIGHT  PARERIGHT  DOM
if re_weight COLON  DOM
    class_weight  EQUAL  {0 COLON  1 DOT 309028344 COMMA  1 COLON  0 DOT 472001959} DOM
else COLON  DOM
    class_weight  EQUAL  None DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT summary PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
early_stopping  EQUAL EarlyStopping PARELEFT  PARERIGHT  DOM
bst_model_path  EQUAL  STAMP +  QUOTMARK  DOM
model_checkpoint  EQUAL  ModelCheckpoint PARELEFT  PARERIGHT  DOM
hist  EQUAL  model DOT fit PARELEFT [] COMMA  labels_train COMMA  \ata EQUAL  PARELEFT  PARERIGHT  COMMA  \chs EQUAL 100 COMMA  batch_size EQUAL 512 COMMA  shuffle EQUAL True COMMA  \ass_weight EQUAL class_weight COMMA  callbacks EQUAL [] PARERIGHT  DOM
model DOT load_weights PARELEFT  PARERIGHT  DOM
bst_val_score  EQUAL  min PARELEFT  PARERIGHT  DOM
print PARELEFT  PARERIGHT  DOM
preds  EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
preds + EQUAL  model DOT predict PARELEFT  PARERIGHT  DOM
preds / EQUAL  2 DOM
submission  EQUAL  pd DOT DataFrame PARELEFT { QUOTMARK  COLON test_ids COMMA   QUOTMARK  COLON preds DOT ravel PARELEFT  PARERIGHT } PARERIGHT  DOM
submission DOT to_csv PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras import layers DOM
import numpy as np DOM
from six DOT moves import range DOM
import sys DOM
import os DOM
from keras DOT models import load_model DOM
import keras DOM
from keras DOT layers import LSTM DOM
from keras DOT layers import Dense DOM
from keras DOT layers import TimeDistributed DOM
from keras DOT layers import Bidirectional DOM
class SenseModel PARELEFT  PARERIGHT  COLON  DOM
    def __init__ PARELEFT  PARERIGHT  COLON  DOM
        self DOT lstmunits  EQUAL lstmunits DOM
        self DOT lstmLayerNum  EQUAL  lstmLayerNum DOM
        self DOT DenseUnits  EQUAL  DenseUnits DOM
        self DOT charlenth  EQUAL  charlenth DOM
        self DOT datalenth  EQUAL  datalenth DOM
        self DOT buildmodel PARELEFT  PARERIGHT  DOM
    def buildmodel PARELEFT  PARERIGHT  COLON  DOM
        self DOT model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT layers DOT LSTM PARELEFT self DOT lstmunits COMMA input_shape EQUAL  PARELEFT  PARERIGHT  COMMA return_sequences EQUAL True COMMA activation EQUAL  QUOTMARK  PARERIGHT  PARERIGHT  DOM
        for i in range PARELEFT  PARERIGHT  COLON  DOM
            self DOT model DOT add PARELEFT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Bidirectional PARELEFT layers DOT LSTM PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
        self DOT model DOT compile PARELEFT  PARERIGHT  DOM
        self DOT model DOT summary PARELEFT  PARERIGHT  DOM
    def trainModel PARELEFT  PARERIGHT  COLON  DOM
        for cur in range PARELEFT  PARERIGHT  COLON  DOM
            print  PARELEFT  PARERIGHT  DOM
            self DOT model DOT fit PARELEFT  PARERIGHT  DOM
            mdname EQUAL savename+ QUOTMARK +str PARELEFT  PARERIGHT  DOM
            self DOT model DOT save PARELEFT  PARERIGHT  DOM
if __name__  EQUAL  EQUAL  QUOTMARK  COLON  DOM
    a  EQUAL  SenseModel PARELEFT  PARERIGHT from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
import matplotlib DOT pyplot as plt DOM
import numpy as np DOM
import time DOM
import csv DOM
from keras DOT layers DOT core import Dense COMMA  Activation COMMA  Dropout COMMA Merge DOM
from keras DOT layers DOT recurrent import LSTM DOM
from keras DOT models import Sequential DOM
import copy DOM
data_dim  EQUAL  1 DOM
timesteps  EQUAL  13 DOM
model_A  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_B  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model_Combine  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
lstm_hidden_size  EQUAL  [] DOM
drop_out_rate  EQUAL  [] DOM
model_A DOT add PARELEFT LSTM PARELEFT lstm_hidden_size[] COMMA  return_sequences EQUAL True COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT LSTM PARELEFT  PARERIGHT  PARERIGHT  DOM
model_A DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
in_dimension  EQUAL  3; DOM
nn_hidden_size  EQUAL  [] DOM
nn_drop_rate  EQUAL  [] DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model_B DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Merge PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model_Combine DOT compile PARELEFT  PARERIGHT  DOM
from keras DOT utils DOT visualize_util import plot COMMA  to_graph DOM
graph  EQUAL  to_graph PARELEFT  PARERIGHT  DOM
graph DOT write_png PARELEFT  PARERIGHT import keras DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout COMMA  Activation DOM
from keras DOT optimizers import SGD DOM
import numpy as np DOM
x_train  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_train  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
x_test  EQUAL  np DOT random DOT random PARELEFT  PARELEFT  PARERIGHT  PARERIGHT  DOM
y_test  EQUAL  keras DOT utils DOT to_categorical PARELEFT np DOT random DOT randint PARELEFT 10 COMMA  size EQUAL  PARELEFT  PARERIGHT  PARERIGHT  COMMA  num_classes EQUAL 10 PARERIGHT  DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
sgd  EQUAL  SGD PARELEFT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
print  PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import Dense COMMA  Dropout DOM
from keras DOT layers import Embedding DOM
from keras DOT layers import Conv1D COMMA  GlobalAveragePooling1D COMMA  MaxPooling1D DOM
seq_length  EQUAL  64 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT 64 COMMA  3 COMMA  activation EQUAL  QUOTMARK  COMMA  input_shape EQUAL  PARELEFT  PARERIGHT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT MaxPooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Conv1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT GlobalAveragePooling1D PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dropout PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT add PARELEFT Dense PARELEFT  PARERIGHT  PARERIGHT  DOM
model DOT compile PARELEFT  PARERIGHT  DOM
model DOT fit PARELEFT  PARERIGHT  DOM
score  EQUAL  model DOT evaluate PARELEFT  PARERIGHT  DOM
from keras DOT models import Sequential DOM
from keras DOT layers import LSTM COMMA  Dense DOM
import numpy as np DOM
data_dim  EQUAL  16 DOM
timesteps  EQUAL  8 DOM
num_classes  EQUAL  10 DOM
model  EQUAL  Sequential PARELEFT  PARERIGHT  DOM
